;/*FB_PKG_DELIM*/

__d("IGDSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}f.getIGDSupportedFileTypes=a}),66);
__d("IGDDisappearingMessagesBlockedComposer.react",["fbt","MWXComposerBanner.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.extraLoggingData;a=a.loggingEventName;var d=h._("__JHASH__HYBQYSVaqer__JHASH__"),e=h._("__JHASH__Iv_ZxhLNItG__JHASH__");a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:a,extraData:b});return j.jsx(c("MWXComposerBanner.react"),{bodyText:e,headerText:d,ref:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDInviteModelUtils",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("qex")._("1244")===!0};b=function(){return c("qex")._("1245")===!0};g.shouldUseInviteModelWithoutExposure=a;g.shouldUseInviteModelWithExposure=b}),98);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;var n=b.useContext,o=b.useEffect,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function q(a,b,e){var f=a.isUnsent;a=a.text;b=b||{};b=b.attachmentType;var g=!c("isStringNullOrEmpty")(a);if(f)return h._("__JHASH__JCseFdR_8CQ__JHASH__");if(g){return m.jsx(c("MWChatReplyText.react"),{isHotLike:e,text:(f=a)!=null?f:h._("__JHASH__niT7GfOrAW1__JHASH__").toString(),transformEmoticons:!1})}if(b)if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__O5FbckBKjss__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__sAL54A0QrH4__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__f7tz0r8St5p__JHASH__");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._("__JHASH__oLHsOposBZ7__JHASH__");else return h._("__JHASH__C_JL7zn5dqE__JHASH__");else return h._("__JHASH__niT7GfOrAW1__JHASH__")}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){if(b)return h._("__JHASH__LByR5v-54e3__JHASH__");if(!a)return h._("__JHASH__lRWnkiJRzRt__JHASH__",[h._param("Placeholder for an unknown user on Instagram","Instagram User")]);else{return h._("__JHASH__gMDBIOKzAoP__JHASH__",[h._param("name",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:(b=a.firstName)!=null?b:a.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(a.gender))])])}}function s(a){var b=a.isSecureThread;a=a.message;var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=a.hotEmojiSize,j=a.messageId,n=a.senderId,p=a.text,s=a.threadKey;g=(k||(k=d("I64"))).equal(n,g);var t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(n)},[e,n],f.id+":200"),u=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(s,j)},[e,j,s],f.id+":205");o(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}})},[]);p=h!=null?p!=null&&p==="\ud83d\udc4d"&&((k||(k=d("I64"))).equal(h,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(k||(k=d("I64"))).equal(h,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(k||(k=d("I64"))).equal(h,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&b:!1;return m.jsx("div",{className:"xmo9yow",children:m.jsx(c("MDSTextPairing.react"),{body:m.jsxs(c("IGDSText.react"),{size:"body",children:[r(t,g)," "]}),level:3,meta:q(a,u,p)})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.isSecureThread;a=a.message;var e=a.threadKey,f=n(d("MWPReplyContext.react").MWPReplyContext),g=f.clearReply,i=n(c("CometTriggerAccessibilityAlertContext"));return m.jsxs("div",{className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,children:[m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return m.jsx(c("IGDSText.react"),{size:"body",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:m.jsx(s,{isSecureThread:b,message:a})}),m.jsx(c("IGDSIconButton.react"),{label:h._("__JHASH__3xvXvnMysnL__JHASH__"),onClick:function(){g(e,!0),i(h._("__JHASH__uaE7oNQBPYH__JHASH__"),{assertive:!1})},xstyle:p.cancelButton,children:m.jsx(c("IGDSXFilledIcon.react"),{alt:h._("__JHASH__3xvXvnMysnL__JHASH__"),color:"ig-primary-text",size:12})})]})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp;a=a.thread;var g=(i||(i=c("useReStore")))(),h=a.threadKey;a=a.threadType;a=d("LSMessagingThreadTypeUtil").isSecure(a);var j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(h,e,b)},[g,h,b,e],f.id+":312");return j?m.jsx(t,{isSecureThread:a,message:j}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDEqualityUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){return a!==b&&i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):a===b}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("IGDOpenComposer.react",["DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEqualityUtils","IGDInstamadilloUtils","IGDSupportedFileTypes","MWMediaManager","MWPReplyContext.react","gkx","react","useGetPluginType","useIGDDeviceType","useIGDMediaMangerUploadFailedToast","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useContext,m=b.useMemo;function n(a){var b=a.onSendMessage;a=a.thread;var e=l(d("MWPReplyContext.react").MWPReplyContext);e=e.reply;var f=c("useIGDMediaMangerUploadFailedToast")();f=d("MWMediaManager").useMediaManager({showUploadFailureToast:f,thread:a});var g=f.handleFileSelect,h=c("useOnTypingStateChanged")(a),i=a.threadSubtype;i=d("IGDAiAgentsUtils").isAiThread(i);c("useMWV2FileDropzoneRegisterHandler")(g);var m=d("useIGDDeviceType").useIGDDeviceType().isMobile;f=c("useMWPComposerEditor")({isPreviewThread:!1,mediaStaging:f.mediaStaging,onSendMessage:b,onTypingStateChanged:h,threadKey:a.threadKey});var n=f.editor;h=f.editorElementRef;var o=f.hasStuffToSend;f=f.sendMessage;var q=k(function(){b.apply(void 0,arguments),p()&&n.focus(function(){})},[n,b]);return j.jsxs("div",{children:[e!=null?j.jsx(c("IGDComposerReplyView.react"),{messageId:e.messageId,messageTimestamp:e.timestampMs,thread:a}):null,j.jsx(c("IGDComposerView.react"),{attachmentsSupported:e==null,editor:n,editorElementRef:h,emojisSupported:!m&&!i,hasStuffToSend:o,isSecureThread:!1,onAttachmentsAdded:g,onSendMessage:q,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:d("IGDSupportedFileTypes").getIGDSupportedFileTypes(m),surface:"mwp_igd_composer",thread:a})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.afterSendMessage;a=a.thread;var e=l(d("IGDDMModeContextProvider").IGDDMModeContext),f=e.dmMode;e=e.lastSetTtlSec;var g=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a);g=c("useGetPluginType")(g);var h=o(a,b,g,f===c("DisappearingMessagesMode").ON&&e!=null?(i||(i=d("I64"))).of_int32(e):void 0),k=d("useStableValue").useStableValue({authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return m(function(){return j.jsx(n,{onSendMessage:h,thread:k})},[h,k])}a.displayName=a.name+" [from "+f.id+"]";function o(a,b,d,e){b=c("useMWV2OnSendOpenMessage")({afterSendMessage:b,ephemeralDurationInSec:e,pluginType:d,skipUrlPreviewGen:!1,thread:a});return c("useStableCallback")(b)}function p(){return c("gkx")("24012")}g["default"]=a}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var b,e=a.loggingEventName,g=a.threadKey,k=(i||(i=c("useReStore")))(),m=d("MWPActor.react").useActor();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,m)}),d("ReQL").fromTableAscending(k.tables.contacts))},[k.tables.contacts,k.tables.participants,g,m],f.id+":35"))!=null?a:[null,null];a[0];a=a[1];e=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:e});if(a==null){c("FBLogger")("igd_web_on_msgr").mustfix("Contact data is null in IGDReachableInviteBanner");return null}b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();a=h._("__JHASH__VAB8HOi8pL6__JHASH__",[h._param("name",a.name),h._param("secondaryName",a.secondaryName)]);b=h._("__JHASH__pAAhQpP4V9i__JHASH__",[h._param("link",l.jsx(c("Link.react"),{href:b,children:"Community Guidelines"}))]);return l.jsx(c("MWXComposerBanner.react"),{bodyText:b,headerText:a,ref:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDTLCBlockedComposer.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWXComposerBanner.react","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.extraLoggingData;a=a.loggingEventName;var e=h._("__JHASH__Msl4SKF2rjv__JHASH__"),f=h._("__JHASH__Iv_ZxhLNItG__JHASH__"),g=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:a,extraData:b,flowInstanceId:g});return j.jsx(c("MWXComposerBanner.react"),{bodyText:f,headerText:e,ref:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPartnershipThreadUnavailableComposer.react",["fbt","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__XeF0QDXHg_1__JHASH__");function a(){return j.jsx(c("MWXComposerBanner.react"),{bodyText:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=!1;function a(){i(function(){if(j)return;j=!0;c("URLMatcher").compilePermissiveHostPathMatcher()},[])}g["default"]=a}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","IGDDisappearingMessagesBlockedComposer.react","IGDInstamadilloUtils","IGDInviteModelUtils","IGDOpenComposer.react","IGDReachableInviteBanner.react","IGDTLCBlockedComposer.react","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","LSThreadBitOffset","MWCMThreadTypes.react","MWPActor.react","MWPartnershipThreadUnavailableComposer.react","MWV2ErrorComposer.react","ReQL","ReQLSuspense","RecoverableViolation.react","ThreadStatus","WebUXLoggingSurfaceContextProvider","isFeatureLimitEnabled","lazyLoadComponent","qex","react","useIsIGDDisappearingMessagesEnabledForThread","useIsReadOnlyFeatureLimited","usePrecompileURLMatcher","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposer.react").__setRef("IGDComposerCommon.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("IGDComposerCommon.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("IGDComposerCommon.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDComposerRestricted.react").__setRef("IGDComposerCommon.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockedUserComposer.react").__setRef("IGDComposerCommon.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDChannelEndedComposer.react").__setRef("IGDComposerCommon.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function u(a){a=a.height;a=a;return l.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.afterSendMessage,e=a.showReachableInviteBanner;a=a.thread;return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ErrorComposer.react"),{})},children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[e&&l.jsx(c("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:a.threadKey}),l.jsx(c("IGDOpenComposer.react"),{afterSendMessage:b,thread:a})]})})})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.afterSendMessage;a=a.thread;var e=a.cannotReplyReason==="viewer_not_subscribed"||a.cannotReplyReason==="read_only",f=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),g=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),h=a.cannotReplyReason==="partnership_thread_disabled_for_creator";if(e)return l.jsx(n,{thread:a});else if(g&&f)return l.jsx(s,{});else if(h)return l.jsx(c("MWPartnershipThreadUnavailableComposer.react"),{});else if(a.cannotReplyReason!=null)return l.jsx(o,{});return l.jsx(v,{afterSendMessage:b,showReachableInviteBanner:!1,thread:a})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=a.afterSendMessage,e=a.otherUser;a=a.thread;var f=!(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),g=d("LSContactBitOffset").has(0,e),h=d("LSContactBitOffset").has(1,e);g=!g||!h;h=e.blockedSinceTimestampMs!=null?!1:g;g=e.contactReachabilityStatusType;var i=g!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER),g):!1,m=g!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK),g):!1;g=g!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE),g)||i||(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK),g)&&!d("IGDInviteModelUtils").shouldUseInviteModelWithoutExposure():!0;var n=d("LSContactBitOffset").has(66,e),o=c("useIsIGDDisappearingMessagesEnabledForThread")(a.threadKey),s=a!=null?d("LSThreadBitOffset").has(214,a):!1;o=o&&d("IGDInstamadilloUtils").isDMHardblockedEnabled();var w=s&&c("qex")._("426")===!0,x=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),y=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),z=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);z={is_dm:String(z),is_instamadillo:String(x),is_instamadillo_tlc:String(s),is_secure:String(y)};if(g)if(f)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(u,{height:189}),children:l.jsx(r,{contact:e,thread:a})});else if(n)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(u,{height:128}),children:l.jsx(p,{contact:e,thread:a})});else if(h)return l.jsx(q,{});else if(w)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(u,{height:128}),children:l.jsx(c("IGDTLCBlockedComposer.react"),{extraLoggingData:z,loggingEventName:"igd_fallback_thread_disabled"})});else if(o)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(u,{height:128}),children:l.jsx(c("IGDDisappearingMessagesBlockedComposer.react"),{extraLoggingData:z,loggingEventName:"igd_fallback_thread_disabled"})});else return l.jsx(v,{afterSendMessage:b,showReachableInviteBanner:i&&d("IGDInviteModelUtils").shouldUseInviteModelWithoutExposure(),thread:a});else if(m&&d("IGDInviteModelUtils").shouldUseInviteModelWithExposure())return l.jsx(t,{loggingEventName:"igd_invite_model_invite_sent"});else return l.jsx(q,{})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.afterSendMessage,e=a.hasActivity,g=a.thread,i=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.tables.thread_nullstate).getKeyRange(g.threadKey)},[i,g.threadKey],f.id+":451");a=a!=null?(j||(j=d("I64"))).equal(a.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED)):!1;e=e;var o=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(i.tables.participants,[]).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(i.tables.contacts,["id","name","secondaryName","blockedByViewerStatus","capabilities","capabilities2","blockedSinceTimestampMs","contactTypeExact","contactReachabilityStatusType"]))},[i,g.threadKey],f.id+":468"),p=d("Int64Hooks").useMemoInt64(function(){if(o.length===1){var a=o[0];a=a[1].id;return(j||(j=d("I64"))).equal(n,a)}return!1},[n,o]),q=d("Int64Hooks").useMemoInt64(function(){if(!d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType))return;if(o.length===1){var a=o[0];if(p)return a}return o.find(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,n)})},[n,p,o,g.threadType]),r=d("LSMessagingThreadTypeUtil").isSecure(g.threadType);r=c("useIsReadOnlyFeatureLimited")()&&(!r||c("isFeatureLimitEnabled")());return l.jsx(l.Fragment,{children:a&&!e?null:r?l.jsx(m,{}):d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?q!=null?l.jsx(x,{afterSendMessage:b,otherUser:q[1],thread:g}):l.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):l.jsx(w,{afterSendMessage:b,thread:g})})}y.displayName=y.name+" [from "+f.id+"]";function a(a){var b=a.afterSendMessage,e=a.thread,g=(h||(h=c("useReStore")))();c("usePrecompileURLMatcher")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(e.threadKey).map(function(a){return a.lastActivityTimestampMs})},[g,e.threadKey],f.id+":575");a=a!=null?!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero):!0;return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ErrorComposer.react"),{})},children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(y,{afterSendMessage:b,hasActivity:a,thread:e})})})}a.displayName=a.name+" [from "+f.id+"]";g.IGDComposerCommonPlaceholder=u;g.IGDComposerCommon=a}),98);