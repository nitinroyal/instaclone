;/*FB_PKG_DELIM*/

__d("PolarisPostsGridItemOptionalOverlay_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostsGridItemOptionalOverlay_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostsGridItemStatsOverlayContainer_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostsGridItemStatsOverlayContainer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostsGridItemStatsOverlayContainer_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostsGridItem_media.graphql",["polarisMediaSrcSetResolver"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostsGridItem_media",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},{alias:null,args:null,fragment:{args:null,kind:"FragmentSpread",name:"polarisMediaSrcSetResolver"},kind:"RelayResolver",name:"client__srcSet",resolverModule:b("polarisMediaSrcSetResolver").client__srcSet,path:"client__srcSet"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW",path:"code"},{alias:null,args:null,concreteType:"XDTMediaCroppingInfo",kind:"LinkedField",name:"media_cropping_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaCroppingCoordinates",kind:"LinkedField",name:"square_crop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop_bottom",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop_left",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop_right",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop_top",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},action:"THROW",path:"media_type"},{alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTSpritesheetInfo",kind:"LinkedField",name:"thumbnails",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_urls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timeline_pinned_user_ids",storageKey:null},{alias:null,args:null,concreteType:"XDTUpcomingEventDict",kind:"LinkedField",name:"upcoming_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"PolarisPostsGridItemOptionalOverlay_media"},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOverlayMediaCoverInfo_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisVirtualPostsGrid_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisVirtualPostsGrid_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{args:null,kind:"FragmentSpread",name:"PolarisPostsGridItem_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePostsGrid_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisProfilePostsGrid_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisVirtualPostsGrid_media"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePostsGridInstantModal_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostDeleteContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={onDeleted:null};c=a.createContext(b);g["default"]=c}),98);
__d("PolarisPostDeleteContextProvider.react",["PolarisPostDeleteContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.children,d=a.onDeleted;a=j(function(){return{onDeleted:d}},[d]);return i.jsx(c("PolarisPostDeleteContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostsGridItemStatsOverlayContainer.next.react",["CometRelay","PolarisMediaConstants","PolarisPostsGridItemStatsOverlay.react","PolarisPostsGridItemStatsOverlayContainer_media.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){a=a.media$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostsGridItemStatsOverlayContainer_media.graphql"),a);var e=a.comment_count,f=a.comments_disabled,g=a.like_count,i=a.media_type,k=a.product_type;a=a.view_count;return j.jsx(c("PolarisPostsGridItemStatsOverlay.react"),{commentsDisabled:f,isVideo:i===d("PolarisMediaConstants").MediaTypes.VIDEO,numComments:e,numPreviewLikes:g,productType:k,videoViews:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostsGridItemOptionalOverlay.next.react",["CometRelay","PolarisPostsGridItemOptionalOverlay_media.graphql","PolarisPostsGridItemOverlay.react","PolarisPostsGridItemStatsOverlayContainer.next.react","PolarisShouldHideLikeCountsWithControls","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.isFocused;a=a.media$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostsGridItemOptionalOverlay_media.graphql"),a);var f=c("usePolarisViewer")(),g=a.like_and_view_counts_disabled,i=a.like_count,k=a.media_overlay_info,l=a.user;g=i===-1||d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(f==null?void 0:f.hideLikeAndViewCounts,g,l!=null&&f!=null&&l.id===f.id);return!e||i==null||g?null:k==null?j.jsx(c("PolarisPostsGridItemStatsOverlayContainer.next.react"),{media$key:a}):j.jsx(c("PolarisPostsGridItemOverlay.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostsGridItem.next.react",["fbt","CometRelay","PolarisDynamicExploreMediaHelpers","PolarisExploreLogger","PolarisFastLink.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisLinkBuilder","PolarisMediaConstants","PolarisOrganicThumbnailImpression","PolarisPhoto.react","PolarisPostsGridItemMediaIndicator.react","PolarisPostsGridItemOptionalOverlay.next.react","PolarisPostsGridItem_media.graphql","PolarisSensitivityOverlay.react","PolarisUA","PolarisViewpointReact.react","polarisGetPostFromGraphMediaInterface","qex","react","stylex","usePolarisMediaOverlayMediaCoverInfo"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.useState,o={root:{display:"x1lliihq",position:"x1n2onr6",width:"xh8yej3",":active_opacity":"x4gyw5p",$$css:!0}};function p(a,b){var c=b.media_overlay_info;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(a),customAction:"go_to_post",customSourceOfAction:"media_grid",entityID:b.id,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:c==null?void 0:c.overlay_layout,overlayType:c==null?void 0:c.overlay_type})})}function q(){return c("qex")._("468")?1/.75*100+"%":null}var r=h._("__JHASH__0C3tbV4wRe8__JHASH__");function a(a){var e=a.analyticsContext;a.captionsInHeadlineTags;var f=a.column,g=a.displayVariant,h=a.entityPageId,k=a.entityPageName,s=a.feedType,t=a.hashtagFeedType,u=a.hashtagName;a.id;var v=a.isVisible,w=a.media$key,x=a.mediaLinkBuilder,y=a.onClick,z=a.onImpression,A=a.onMediaRendered,B=a.profileUserId,C=a.row,D=a.shouldSpawnModals,E=a.xstyle,F=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostsGridItem_media.graphql"),w),G=F.accessibility_caption,H=F.caption;a=F.carousel_media_count;w=F.client__srcSet;var I=F.code,J=F.media_cropping_info,K=F.media_overlay_info,L=F.media_type,M=F.pk,N=F.product_type,O=F.thumbnails,P=F.timeline_pinned_user_ids,Q=F.upcoming_event,R=K?{id:M,media_overlay_info:K}:null,S=w!=null&&w.length>0?w[0].src:void 0,T=!!Q,U=a!=null&&a>0,V=L===d("PolarisMediaConstants").MediaTypes.VIDEO,W=V&&N===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS,X=c("usePolarisMediaOverlayMediaCoverInfo")(F),aa=function(){if((J==null?void 0:J.square_crop)==null||!V)return null;var a=J.square_crop,b=a.crop_bottom,c=a.crop_left,d=a.crop_right;a=a.crop_top;return{crop_bottom:b,crop_left:c,crop_right:d,crop_top:a}},ba=function(){if(O==null)return void 0;var a=O.sprite_height,b=O.sprite_urls,c=O.sprite_width;return a==null||b==null||c==null?void 0:[{configHeight:a,configWidth:c,src:b[0]}]};K=n(!1);var ca=K[0],Y=K[1];w=n(!1);var da=w[0],Z=w[1],$={column:f,displayVariant:g,entityPageId:h,entityPageName:k,feedType:s,hashtagFeedType:t,hashtagName:u,row:C};m(function(){z&&v&&z(M)},[z,v,M]);var ea=function(a,b){A&&A(M,b)},fa=function(a,b){b!=null&&p(e,b),y&&y(a,M,$),Z(!1)},ga=x===d("PolarisLinkBuilder").buildDynamicMediaLink?d("PolarisLinkBuilder").buildDynamicMediaLink(I,V):d("PolarisLinkBuilder").buildMediaLink(I);Q=[d("PolarisOrganicThumbnailImpression").makeThumbnailImpressionAction(babelHelpers["extends"]({analyticsContext:e,gridItemSize:d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE,itemType:d("PolarisExploreLogger").getDiscoverGridItemType(g||"BASIC"),mediaType:L,postId:M},$))];return l.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:Q,id:M,children:function(a){return l.jsx("div",{className:(j||(j=c("stylex")))(o.root,E),"data-testid":void 0,ref:a,children:l.jsxs(c("PolarisFastLink.react"),{"aria-label":R!=null?r:void 0,href:ga,onBlur:function(){return Z(!1)},onClick:function(a){return fa(a,R)},onFocus:function(){return Z(!0)},onMouseEnter:function(){return Y(!0)},onMouseLeave:function(){return Y(!1)},shouldOpenModal:D===!0,children:[R!=null&&F!=null&&X?l.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:e,isPhoto:L===d("PolarisMediaConstants").MediaTypes.IMAGE,mediaId:F.pk,mediaOverlayCoverInfo:X,ownerId:(a=F==null?void 0:(a=F.user)==null?void 0:a.pk)!=null?a:"",previewData:F.preview,variant:"grid"}):l.jsx(c("PolarisPhoto.react"),{accessibilityCaption:G,caption:H==null?void 0:H.text,customHeightPercent:q(),ignoreSrcSet:!0,onPhotoRendered:ea,profileGridCrop:aa(),rich:!0,src:S,srcSet:ba()}),R==null&&l.jsx(c("PolarisPostsGridItemMediaIndicator.react"),{hasUpcomingEvent:T,isClipsVideo:W,isPinnedForThisUser:(P||[]).includes(B),isSharedToCloseFriends:F.audience==="besties",isSidecar:U,isVideo:V}),l.jsx(c("PolarisPostsGridItemOptionalOverlay.next.react"),{isFocused:!d("PolarisUA").isMobile()&&(da||ca),media$key:F})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPPRLoggedPostsGridItem.next",["PolarisPostsGridItem.next.react","polarisWithPPRLogging"],(function(a,b,c,d,e,f,g){"use strict";a=c("polarisWithPPRLogging")(c("PolarisPostsGridItem.next.react"));g["default"]=a}),98);
__d("PolarisVirtualPostsGrid.next.react",["CometRelay","IGDSBox.react","IGDSSpinner.react","PolarisLogger","PolarisPPRLoggedPostsGridItem.next","PolarisPostsGridQEHelpers","PolarisVirtualPostsGridConstants","PolarisVirtualPostsGrid_media.graphql","PolarisVirtualizedWithScrollLogging.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={item:{marginEnd:"x2pgyrj xbkimgs xfllauq xh8taat xubrtap",marginLeft:null,marginRight:null,$$css:!0},item4px:{marginEnd:"x2pgyrj xbkimgs xfllauq xh8taat xo2y696",marginLeft:null,marginRight:null,$$css:!0},row:{":last-child_marginBottom":"xzboxd6","@media (max-width: var(polaris-small-screen-max))_marginBottom":"xras4av","@media (min-width: var(polaris-medium-screen-min))_marginBottom":"xuzd6gk",$$css:!0},row4px:{":last-child_marginBottom":"xzboxd6","@media (max-width: var(polaris-small-screen-max))_marginBottom":"xras4av","@media (min-width: var(polaris-medium-screen-min))_marginBottom":"xgc1b0m",$$css:!0}},m=3,n=4,o=8;function a(a){var e=a.allowSampledScrollLogging;e=e===void 0?!1:e;var f=a.analyticsContext,g=a.hasNext,j=g===void 0?!1:g;g=a.initialRowsRenderCount;g=g===void 0?n:g;var p=a.isLoadingError;p=p===void 0?!1:p;var q=a.isLoadingNext,r=q===void 0?!1:q,s=a.itemProps;q=a.itemsPerRow;q=q===void 0?m:q;var t=a.media$key,u=a.onLoadNext,v=a.overscanRowsCount;v=v===void 0?o:v;var w=a.sizeCache;a=a.visibleCount;var x=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisVirtualPostsGrid_media.graphql"),t),y=d("PolarisPostsGridQEHelpers").getMarginForPostsGridItems();t=function(a){var b,d=a.index,e=a.isVisible;a.visibleIndex;a=babelHelpers.objectWithoutPropertiesLoose(a,["index","isVisible","visibleIndex"]);d=x[d];b=(b=s)!=null?b:{};var g=b.loggingData,h=b.mediaLinkBuilder,i=b.onClick,j=b.onImpression,m=b.profileUserId;b=b.shouldSpawnModals;return k.jsx(c("PolarisPPRLoggedPostsGridItem.next"),babelHelpers["extends"]({analyticsContext:f,id:d.pk,isVisible:e,media$key:d,mediaLinkBuilder:h,onClick:i,onImpression:j,profileUserId:m,shouldSpawnModals:b,xstyle:y===28?l.item:y===4?l.item4px:null},a,g),d.pk)};var z=function(a){a=a.numScreensFromEnd;j&&!r&&u&&(a<d("PolarisVirtualPostsGridConstants").NEXT_PAGE_THRESHOLD&&(d("PolarisLogger").logAction("loadMoreScroll"),u()))};return k.jsxs(k.Fragment,{children:[k.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualGridWithLogging,{allowSampledScrollLogging:e,analyticsContext:f,estimatedItemSize:d("PolarisVirtualPostsGridConstants").POSTS_ROW_ESTIMATED_HEIGHT,initialRenderCount:g,itemCount:a,itemsPerRow:q,onInitialize:function(a){a=a.numScreensFromEnd;a<0&&z({numScreensFromEnd:a})},onScroll:z,overscanCount:v,renderer:t,rendererPlaceholder:function(a){return k.jsx("div",{className:(i||(i=c("stylex")))(y===28&&l.item,y===4&&l.item4px)},a)},rowClassName:(i||(i=c("stylex")))(y===28&&l.row,y===4&&l.row4px),sizeCache:w}),r||p?k.jsx(c("IGDSBox.react"),{alignItems:"center",height:48,justifyContent:"center",marginTop:10,children:k.jsx(c("IGDSSpinner.react"),{size:"medium"})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfilePostsGrid.react",["CometPlaceholder.react","CometRelay","PolarisLinkBuilder","PolarisMediaViewerNavigationUtils.react","PolarisProfilePostsActionConstants","PolarisProfilePostsGrid_media.graphql","PolarisSizing","PolarisVirtualPostsGrid.next.react","deferredLoadComponent","logPolarisPostModalOpen","qex","react","requireDeferred","useCometRouterDispatcher","usePolarisDisplayProperties","usePolarisProfileOnPostImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=e.useState,n=c("deferredLoadComponent")(c("requireDeferred")("PolarisProfilePostsGridInstantModal.react").__setRef("PolarisProfilePostsGrid.react"));function o(a){return a.filter(function(a){return a.code!=null}).map(function(a){var b=a.original_height!=null&&a.original_width!=null?{height:a.original_height,width:a.original_width}:null;return{dimensions:b,shortcode:(b=a.code)!=null?b:""}})}function a(a){var e=a.analyticsContext,f=a.hasNext,g=a.isLoadingError,i=a.isLoadingNext,p=a.media$key,q=a.onLoadNext;a=a.profileUserID;var r=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisProfilePostsGrid_media.graphql"),p),s=c("usePolarisDisplayProperties")();s=s.viewportWidth;var t=m(null),u=t[0],v=t[1];t=m(null);var w=t[0],x=t[1],y=d("PolarisSizing").shouldSpawnModals(s),z=c("useCometRouterDispatcher")(),A=l(function(){return o(r)},[r]),B=d("PolarisMediaViewerNavigationUtils.react").useHandleNextPageForPostViewer(A,q,d("PolarisMediaViewerNavigationUtils.react").hasImmersiveViewerPagination()),C=k(function(a,b){var g=r.find(function(b){return a===b.pk});v(g);x(location.pathname);c("logPolarisPostModalOpen")(e,g==null?void 0:g.media_type,"media_browser");b!=null&&(f&&!i&&r.length-1-b<=d("PolarisProfilePostsActionConstants").FETCH_MORE_THRESHOLD&&q())},[e,r,f,i,q]);t=k(function(a,b){if(y){var e=r.findIndex(function(a){return b===a.pk}),f=r[e],g=f.code;if(g!=null&&c("qex")._("348")===!0){g=d("PolarisLinkBuilder").buildImmersiveMediaLink(g);z==null?void 0:z.go(g,{passthroughProps:{chainingItems:A,dimensions:f.original_height!=null&&f.original_width!=null?{height:f.original_height,width:f.original_width}:null,loadMore:B}})}else C(r[e].pk,e);a.preventDefault()}},[r,A,z,B,C,y]);var D=c("usePolarisProfileOnPostImpression")();s=k(function(a){var b=r.find(function(b){return a===b.pk}),c=(b==null?void 0:b.media_type)===8?"sidecar":(b==null?void 0:b.media_type)===2?"video":"photo";D({mediaType:c,ownerID:b==null?void 0:(c=b.owner)==null?void 0:c.id,postID:a})},[r,D]);var E=function(){v(null),x(null)},F=r.map(function(a){return a.pk});return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisVirtualPostsGrid.next.react"),{analyticsContext:e,hasNext:f,isLoadingError:g,isLoadingNext:i,itemProps:{mediaLinkBuilder:d("PolarisLinkBuilder").buildDynamicMediaLink,onClick:t,onImpression:s,profileUserId:a,shouldSpawnModals:y},media$key:r,onLoadNext:q,visibleCount:p.length}),u!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(n,{analyticsContext:e,media$key:u,mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:w,onClose:E,onOpen:C,postIDs:F})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisRemoveNodeFromConnection",["CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("CometRelay").useRelayEnvironment();return i(function(b,c){d("CometRelay").commitLocalUpdate(a,function(a){a=a.get(b);if(a==null)return;a.getType();d("CometRelay").ConnectionHandler.deleteNode(a,c)})},[a])}g["default"]=a}),98);
__d("usePolarisProfileTabNextPageLoader",["IGDSButton.react","PolarisGenericStrings","PolarisProfilePostsActionConstants","PolarisSnackbarConstants","react","useIGDSToaster"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){var b=a.loadNext,e=a.setIsLoadingError,f=k(null),g=c("useIGDSToaster")(),h=j(function(){var a=function(){f.current!=null&&(g.remove(f.current),f.current=null),h()};b(d("PolarisProfilePostsActionConstants").PAGE_SIZE,{onComplete:function(b){b=b!=null;e(b);b&&(f.current=g.add({actionComponent:i.jsx(c("IGDSButton.react"),{label:d("PolarisGenericStrings").RETRY_TEXT,onClick:a}),message:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT,target:"bottom"},{duration:d("PolarisSnackbarConstants").SNACKBAR_EXPIRE_DELAY}))}})},[b,e,g]);return h}g["default"]=a}),98);
__d("PolarisProfilePostsTabContent.react",["CometPlaceholder.react","CometRelay","CometRouteURL","JSResourceForInteraction","PolarisConfig","PolarisConnectionsLogger","PolarisPostDeleteContextProvider.react","PolarisProfilePostsGrid.react","PolarisProfilePostsQuery.graphql","PolarisProfilePostsTabContentFragment","PolarisProfileTabContentSpinner.react","PolarisSimilarAccountsModalLazy.react","PolarisUA","igMapTypenameToRelayID","lazyLoadComponent","react","usePolarisIsSmallScreen","usePolarisProfileTabNextPageLoader","usePolarisRemoveNodeFromConnection"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisProfileNewUserActivatorsUnit.react").__setRef("PolarisProfilePostsTabContent.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisEmptyProfileOtherUsers.react").__setRef("PolarisProfilePostsTabContent.react"));function a(a){var b=a.contentQuery,e=a.userID;a=a.username;b=d("CometRelay").usePreloadedQuery(c("PolarisProfilePostsQuery.graphql"),b);b=d("CometRelay").usePaginationFragment(c("PolarisProfilePostsTabContentFragment"),b);var f=b.data,g=b.hasNext,h=b.isLoadingNext;b=b.loadNext;var o=l(!1),p=o[0];o=o[1];var q=k(function(){return f.xdt_api__v1__feed__user_timeline_graphql_connection.edges.flatMap(function(a){a=a.node;return a})},[f]);b=c("usePolarisProfileTabNextPageLoader")({loadNext:b,setIsLoadingError:o});o=((o=f.xdt_viewer)==null?void 0:(o=o.user)==null?void 0:o.id)===e;var r=c("usePolarisIsSmallScreen")(),s=l(null),t=s[0],u=s[1];s=j(function(a){d("PolarisUA").isMobile()||(a.preventDefault(),u("similarAccounts"))},[]);var v=j(function(){u(null)},[]),w=f.xdt_api__v1__feed__user_timeline_graphql_connection.__id,x=c("usePolarisRemoveNodeFromConnection")(),y=j(function(a){a=c("igMapTypenameToRelayID")("XDTMediaDict",a,null);x(w,a)},[x,w]);return q.length===0&&!g&&!h?o?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("PolarisProfileTabContentSpinner.react"),{}),children:i.jsx(m,{inDesktopFeedCreationUpsellQE:!0})}):i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("PolarisProfileTabContentSpinner.react"),{}),children:i.jsxs(i.Fragment,{children:[i.jsx(n,{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,isSmallScreen:r,onSeeAllClicked:s,userID:e,username:a}),t?i.jsx(c("PolarisSimilarAccountsModalLazy.react"),{entryPath:d("CometRouteURL").getWindowURL(),onClose:v,pageId:t,userID:e,username:a}):null]})}):i.jsx(c("PolarisPostDeleteContextProvider.react"),{onDeleted:y,children:i.jsx(c("PolarisProfilePostsGrid.react"),{analyticsContext:d("PolarisConfig").getViewerId()===e?"selfProfilePage":"profilePage",hasNext:g,isLoadingError:p,isLoadingNext:h,media$key:q,onLoadNext:b,profileUserID:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);