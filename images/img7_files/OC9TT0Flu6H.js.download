;/*FB_PKG_DELIM*/

__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6825449144230575"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23868899752758299"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LWICometProactiveChatOptInMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7358944124142177"}),null);
__d("LWICometProactiveChatOptInMutation.graphql",["LWICometProactiveChatOptInMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],e={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null},f=[e];e=[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:f,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LWICometProactiveChatOptInMutation",selections:[{alias:null,args:c,concreteType:"XFBProactiveOptInOutput",kind:"LinkedField",name:"xfb_ProactiveChatUpdateIsOptedIn",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'},{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettingsV2",kind:"LinkedField",name:"proactive_chat_opt_in_settings_v2",plural:!1,selections:e,storageKey:'proactive_chat_opt_in_settings_v2(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:b("LWICometProactiveChatOptInMutation_facebookRelayOperation"),metadata:{},name:"LWICometProactiveChatOptInMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("DocumentTranslationStatusContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("useDocumentTranslationStatusObserver",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!1),b=a[0],c=a[1];i(function(){var a=document.documentElement;if(a==null)return;var b=new MutationObserver(function(){a.className.match("translated")?c(!0):c(!1)});b.observe(a,{attributeFilter:["class"],attributes:!0,characterData:!1,childList:!1});a.className.match("translated")&&c(!0);return function(){return b.disconnect()}},[]);return b}g["default"]=a}),98);
__d("DocumentTranslationStatusProvider.react",["DocumentTranslationStatusContext","react","useDocumentTranslationStatusObserver","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){a=a.children;var b=c("useDocumentTranslationStatusObserver")();return i.jsx(c("DocumentTranslationStatusContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(c("DocumentTranslationStatusContext"));if(a)return c("uuidv4")();else return void 0}g.DocumentTranslationStatusProvider=a;g.useTranslationKeyForTextParent=b}),98);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometDefaultKeyCommands",["fbt","CometKeys","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze(babelHelpers["extends"]({global:{label:h._("__JHASH__vTbx5ula3Ub__JHASH__"),shortcuts:{search:{command:{key:c("CometKeys").SLASH},description:h._("__JHASH__65GAtmpimeL__JHASH__"),singleCharDescription:h._("__JHASH__HqO0KsGMlbJ__JHASH__")},toggleDarkMode:{command:{alt:!0,key:c("CometKeys").M},description:h._("__JHASH__DFgslFbdJR5__JHASH__"),isHiddenCommand:c("gkx")("22802")?void 0:!0},toggleNub:{command:{key:c("CometKeys").QUESTION,shift:!0},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")},toggleNubFunctionKey:{command:{key:c("CometKeys").F1},description:h._("__JHASH__w4u2XmGo_LN__JHASH__")}}},groups:{label:h._("__JHASH__5ycXpLiowDK__JHASH__"),shortcuts:{groupSearch:{command:{command:!0,key:c("CometKeys").SLASH},description:h._("__JHASH__UwVHz4hi5qC__JHASH__"),order:6},newGroupEvent:{command:{key:c("CometKeys").E},description:h._("__JHASH__bXPAFcKoHVs__JHASH__"),order:1,singleCharDescription:h._("__JHASH__B9NoOgWqa7a__JHASH__")},viewNextPinnedGroup:{command:{alt:!0,key:c("CometKeys").DOWN},description:h._("__JHASH__ryvFG_XPxff__JHASH__"),order:5},viewNextVideo:{command:{alt:!0,key:c("CometKeys").RIGHT},description:h._("__JHASH__Co4R3_i3LJX__JHASH__"),order:3},viewPreviousPinnedGroup:{command:{alt:!0,key:c("CometKeys").UP},description:h._("__JHASH__ghiGJdiPxiO__JHASH__"),order:4},viewPreviousVideo:{command:{alt:!0,key:c("CometKeys").LEFT},description:h._("__JHASH___UWyiXo4b1A__JHASH__"),order:2}}},newsfeed:{label:h._("__JHASH__3bhd46OOtgQ__JHASH__"),shortcuts:{commentStory:{command:{key:c("CometKeys").C},description:h._("__JHASH__S60IOgnbCS6__JHASH__"),singleCharDescription:h._("__JHASH__8eG9xxpUBK___JHASH__")},likeStory:{command:{key:c("CometKeys").L},description:h._("__JHASH__DX2kjgJe1lw__JHASH__"),singleCharDescription:h._("__JHASH__qzjRCdVl8UB__JHASH__")},newPost:{command:{key:c("CometKeys").P},description:h._("__JHASH__gCb4Qn8jJYV__JHASH__"),singleCharDescription:h._("__JHASH__rWgYV326oik__JHASH__")},openAttachment:{command:{key:c("CometKeys").O},description:h._("__JHASH__PENXVObp6HH__JHASH__"),shouldStopPropagation:!1,singleCharDescription:h._("__JHASH__9ZqYYIUi2ux__JHASH__")},scrollNext:{command:{key:c("CometKeys").J},description:h._("__JHASH__WOloUQmdmos__JHASH__"),singleCharDescription:h._("__JHASH__pjB1urhcDtz__JHASH__")},scrollPrevious:{command:{key:c("CometKeys").K},description:h._("__JHASH__8Xw825Irnyt__JHASH__"),singleCharDescription:h._("__JHASH__X1clBpl2A59__JHASH__")},searchContacts:{command:{key:c("CometKeys").Q},description:h._("__JHASH__tNIUJ6lgcTQ__JHASH__"),singleCharDescription:h._("__JHASH__ZOEvffglsxE__JHASH__")},seeMore:{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__xSvc24O-mfg__JHASH__"),singleCharDescription:h._("__JHASH__2JfkN_FFXsH__JHASH__")},shareStory:{command:{key:c("CometKeys").S},description:h._("__JHASH__B_iW89OoYd8__JHASH__"),singleCharDescription:h._("__JHASH__Z6OsPJdfk0___JHASH__")}}},photoViewer:{label:h._("__JHASH__BXWDUC-L-Ri__JHASH__"),shortcuts:{fullscreen:{command:{key:c("CometKeys").F},description:h._("__JHASH__B9xS9GGbzeo__JHASH__"),singleCharDescription:h._("__JHASH__3gvTTPZFuR6__JHASH__")},like:{command:{key:c("CometKeys").L},description:h._("__JHASH__fPWFoO_4sHL__JHASH__"),singleCharDescription:h._("__JHASH__6boa--Dsc86__JHASH__")},viewNext:{command:{key:c("CometKeys").K},description:h._("__JHASH__Cwg8ChuUCza__JHASH__"),singleCharDescription:h._("__JHASH__D5hbXD4Qvlf__JHASH__")},viewPrevious:{command:{key:c("CometKeys").J},description:h._("__JHASH__5PUjENdCJD1__JHASH__"),singleCharDescription:h._("__JHASH__ap7P4LUMQ-g__JHASH__")}}},search:{label:h._("__JHASH__E00LcbSnfXh__JHASH__"),shortcuts:{scrollNextResult:{command:{key:c("CometKeys").J},description:h._("__JHASH__bmPeLBy-eKQ__JHASH__"),singleCharDescription:h._("__JHASH___N3WTKcqt3k__JHASH__")},scrollPreviousResult:{command:{key:c("CometKeys").K},description:h._("__JHASH__66y7Uf7htWH__JHASH__"),singleCharDescription:h._("__JHASH__G1e3rdFAKxh__JHASH__")}}}},c("gkx")("22803")&&{chats:{label:h._("__JHASH__er63PmpxxU9__JHASH__"),shortcuts:{forwardMessage:{command:{key:c("CometKeys").F},description:h._("__JHASH__BoPi-Cj1ZgB__JHASH__"),order:3,singleCharDescription:h._("__JHASH__sAzlvATWOJK__JHASH__")},jumpToChatList:{command:{alt:!0,key:c("CometKeys").C},description:h._("__JHASH__yEELQaU6ZJv__JHASH__"),order:6,singleCharDescription:h._("__JHASH__ruOmPk73z78__JHASH__"),triggerFromInputs:!0},likeMessage:{command:{key:c("CometKeys").L},description:h._("__JHASH__92Cxpl6anqS__JHASH__"),order:1,singleCharDescription:h._("__JHASH__9GZYcHNSXWM__JHASH__")},removeMessage:{command:{key:c("CometKeys").X},description:h._("__JHASH__r-tRfkmegvn__JHASH__"),order:4,singleCharDescription:h._("__JHASH__rCo38Z3GsLf__JHASH__")},replyToMessage:{command:{key:c("CometKeys").R},description:h._("__JHASH__2livKuCsmS6__JHASH__"),order:2,singleCharDescription:h._("__JHASH__HlXWG9dX1DN__JHASH__")},writeMessageToCurrentChat:{command:{alt:!0,key:c("CometKeys").W},description:h._("__JHASH__260-EYyZSfn__JHASH__"),order:5,singleCharDescription:h._("__JHASH__98yCRWkkRKQ__JHASH__"),triggerFromInputs:!0}}}}));b=a;a;g["default"]=b}),226);
__d("cometGetKeyCommandConfig",["fbt","cr:2011405","cr:2011406","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i={command:null,description:h._("__JHASH__b304p5m3LLr__JHASH__"),handler:function(){return void 0},isHiddenCommand:!0};function j(a,b,d,e,f){if(e==null){c("recoverableViolation")(f,"comet_ax");return i}if(!Object.prototype.hasOwnProperty.call(e,a)||!Object.prototype.hasOwnProperty.call(e[a].shortcuts,b)){c("recoverableViolation")("Missing default key command config for "+a+" and "+b,"comet_ax");return i}f=e[a].shortcuts[b];e=f.command;var g=f.description;return e!=null&&g!=null?{command:e,commandID:b,description:g,groupID:a,handler:d,isHiddenCommand:f.isHiddenCommand,singleCharDescription:f.singleCharDescription,triggerFromInputs:f.triggerFromInputs}:i}function a(a,c,d){return j(a,c,d,b("cr:2011405"),"getCometKeyCommandConfig should only be used in Comet")}function d(a,d,e){var f=c("gkx")("20836")?b("cr:2011406"):b("cr:2011405");return j(a,d,e,f,"Reached unreachable code")}g.getKeyCommandConfig=j;g.getCometKeyCommandConfig=a;g.getCometAndGeminiKeyCommandConfig=d}),226);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("CometFileSelector.react",["Promise","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useEffect,m=e.useRef;function n(a){return a.map(function(a){if(a.indexOf("/")!==-1||a[0]===".")return a;c("recoverableViolation")('Accept parameter "'+a+'" for CometFileSelector is being interpreted as a file extension since it has no slash (/), but file extensions must start with a period (.)',"profile_comet");return"."+a}).join(",")}function a(a){var d=a.accept,e=a.children,f=a.multiple;f=f===void 0?!1:f;var g=a.onFilesSelected,i=m(null);l(function(){var a=i.current;if(a!=null){var b=function(a){a.stopPropagation()};a.addEventListener("click",b);return function(){a.removeEventListener("click",b)}}});a=k(function(){i.current!=null&&i.current.click()},[]);var o=k(function(a){var d=g(a.currentTarget.files);d instanceof(h||(h=b("Promise")))&&c("promiseDone")(d);a.currentTarget.value=""},[g]);return j.jsxs(j.Fragment,{children:[j.jsx("input",{accept:d!=null?n(d):void 0,className:"x1s85apg",multiple:f,onChange:o,ref:i,type:"file"}),e(a)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useRef,l=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","loading","onError","onLoad","src","style"]);var h=l(null),m=h[0],n=h[1],o=k();h=j(function(){var a=o.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;n(a.src);e!=null&&e()},[e]);return m!=null?i.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+m+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:h,ref:o,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return i.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("useFileDragEvents",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a,b,c){b===void 0&&(b=document.documentElement);var d=k(0),e=l(!1),f=e[0],g=e[1],h=i(function(b){g(!1);if((c==null||c(b))&&a!=null){b.preventDefault();var e=b.dataTransfer;if(e!=null){e=e.files;a(e,b)!==!1&&b.stopPropagation()}else b.stopPropagation();d.current=0}},[a,c]),m=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&(a.preventDefault(),d.current++,g(!0))},[c]),n=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&--d.current===0&&g(!1)},[c]),o=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;b!=null&&a.preventDefault()},[]);j(function(){if(b!=null){b.addEventListener("drop",h,!0);b.addEventListener("dragenter",m,!0);b.addEventListener("dragleave",n,!0);b.addEventListener("dragover",o,!0);return function(){b.removeEventListener("drop",h,!0),b.removeEventListener("dragenter",m,!0),b.removeEventListener("dragleave",n,!0),b.removeEventListener("dragover",o,!0)}}},[m,n,o,h,b]);return f}g["default"]=a}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.COMET_LEXICAL_ARIA_COMMAND=a}),98);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useLayoutEffect,m=b.useMemo,n=b.useState,o={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,i=a.ariaLabelledBy,p=a.ariaMultiline,q=a.ariaOwneeID,r=a.ariaRequired,s=a.autoCapitalize,t=a.autoComplete,u=a.autoCorrect,v=a.contentEditableRef,w=a.editor,x=a.isInitiallyFocused,y=x===void 0?!1:x;x=a.role;x=x===void 0?"textbox":x;var z=a.spellCheck;z=z===void 0?!1:z;var A=a.tabIndex,B=a.webDriverTestID;B=a.xstyle;a=n(void 0);var C=a[0],D=a[1];a=n(void 0);var E=a[0],F=a[1];a=c("useCometLexicalSubscription")(m(function(){return c("mlcEditableSubscription")(w)},[w]));l(function(){return w.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&D(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&F(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[w]);k(function(){y&&w.focus(function(){var a=document.activeElement,b=w.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},[w,y]);return j.jsx("div",{"aria-activedescendant":a?C:null,"aria-autocomplete":a?b:null,"aria-controls":a?E:null,"aria-describedby":e,"aria-expanded":a?x==="combobox"?!!f:null:null,"aria-label":g,"aria-labelledby":i,"aria-multiline":p,"aria-owns":a?q:null,"aria-required":r,autoCapitalize:s,autoComplete:t,autoCorrect:u,className:(h||(h=c("stylex")))(o.editor,B)+" "+(a?"notranslate":""),contentEditable:a,"data-testid":void 0,ref:v,role:a?x:null,spellCheck:z,suppressContentEditableWarning:!0,tabIndex:A})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("CometLexicalEmojiNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=9;b=16;c=20;var i=16,j=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"emoji"};a.clone=function(b){return new a(b.__text,b.__rawText,b.__src,b.__size,b.__key)};a.importJSON=function(a){a=k(a.text,a.rawText,a.src,a.size);return a};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{rawText:this.__rawText,size:this.__size,src:this.__src,type:"emoji"})};function a(a,c,d,e,f){e===void 0&&(e=i);a=b.call(this,a,f)||this;a.__src=d;a.__rawText=c;a.__size=e;return a}c.getRawText=function(){var a=this.getLatest();return a.__rawText};c.createDOM=function(){var a=this.__text,b=this.__size,c=this.__src,d=document.createElement("span"),e=document.createElement("span"),f=d.style;f.cursor="default";d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid";d.setAttribute("data-testid","emoji");c!=null&&(f.backgroundImage="url("+c+")",f.backgroundSize=b+"px "+b+"px");a!==this.__rawText&&(d.style.width="calc("+b+"px + 0.3em)",d.style.height=b+"px",d.className="x1xsqp64 xiy17q3 x1o6pynw x19co3pv xdj266r xcwd3tp xat24cr x39eecv x2b8uid x1rg5ohu x6ikm8r x10wlt62 xmziwt1 xuxw1ft",d.setAttribute("spellcheck","false"),e.style.fontFamily='Courier, "Courier New", Menlo, Monaco, monospace',e.style.fontSize="15px",e.style.letterSpacing=b/(h*a.length)-1+"ch");e.textContent=a;e.className="xexx8yu xn5pp95 x18d9i69 x2fxd7x x1yqt14a x1bhl96m";d.appendChild(e);return d};c.updateDOM=function(a,b){a=b.firstChild;if(a==null)return!0;var c=this.__text;a.textContent!==c&&(a.textContent=c);b.style.backgroundSize=this.__size+"px "+this.__size+"px";return!1};c.setSize=function(a){var b=this.getWritable();b.__size=a};c.selectionTransform=function(a,b){var c=this.__text;if(c===this.__rawText||!d("Lexical").$isRangeSelection(a)||a.is(b))return;a=a.focus;var e=b.focus,f=c.length,g=b.isCollapsed();if(e.offset===0||e.offset===c.length||a.is(e))return;a.isBefore(e)?e.set(e.key,f,"text"):e.set(e.key,0,"text");g&&b.anchor.set(e.key,e.offset,"text")};return a}(d("Lexical").TextNode);function a(a){return a instanceof j}function k(a,b,c,d){return new j(a,b,c,d).setMode("token")}g.UFI_EMOJI_SIZE=b;g.COMPOSER_EMOJI_SIZE_LARGE=c;g.COMPOSER_EMOJI_SIZE_SMALL=i;g.EmojiNode=j;g.$isEmojiNode=a;g.$createEmojiNode=k}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("__JHASH__5zKX9L3wCmC__JHASH__").toString(),k={decorType:"regular",handle:j,key:"0",label:j,rawData:{image:i("391426"),subtitle:void 0},type:"entry"};function a(a,b,e,f,g,i,l){var m=a.query,n=[];g===!0&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(j,m)&&n.push(k);if(g===!0?i:!0){b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var g=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,m)?g="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)?g="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,m)&&(g="nickname");if(g!=null&&f!=null){var h;n.push({decorType:"regular",handle:(h=a)!=null?h:g==="nickname"?(h=e)!=null?h:b:b,key:c+" "+g,label:b,rawData:{photoURI:f,source:g,subtitle:(h=a)!=null?h:e},type:"entry"})}});if(c("gkx")("24051")){g=h._("__JHASH__sTLNkkV9rF7__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(g,m)){i=h._("__JHASH__rLeo5-LqefI__JHASH__").toString();n.push({decorType:"regular",handle:g,key:""+e,label:g,rawData:{source:"all",subtitle:i},type:"entry"})}b=h._("__JHASH__qb09B47tS-j__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,m)){g=h._("__JHASH__Y9cD1qBx4DO__JHASH__").toString();n.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:g},type:"entry"})}}}n.length>l&&(n=n.slice(0,l));n.length<l&&f&&f(m,l-n.length);return{entries:n,params:a}}var l=(e={},e[j]="ai",e);function b(a){a=l[a];return a==null?"p":a}g.aiBotMentionsEntry=k;g.fetchCacheComposerMentionsTypeahead=a;g.commandToRangeType=b}),226);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");a=a.replace(" secondaryName","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};c.getRangeType=function(){return d("MWChatComposerTypeaheadUtil").commandToRangeType(this.__text.slice(1))};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a,b){b===void 0&&(b="segmented");return new i(a).setMode(b).toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return j.jsx("div",{children:b,className:(h||(h=c("stylex")))(k.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1956659");b=d("FalcoLoggerInternal").create("comet_metrics_navigation",a);e=b;g["default"]=e}),98);
__d("useCometFeedNoRoutingNavigationEventsLoggerImpl",["CometMetricsNavigationFalcoEvent","JSScheduler","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b,e){var f=j(function(d,f,g){if(b==null||b==="")return;var h=c("uuidv4")();c("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:g,event_trace_id:h,extra_fields:e,href:f,tn:a.join(""),ts:d.toString(),xt:b}})},[a,b,e]);return j(function(a,b,c){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f(a,b,c)})},[f])}g["default"]=a}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometTrackingCodeContext","CometTrackingNodesContext","react","useCometFeedNoRoutingNavigationEventsLoggerImpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("CometTrackingNodesContext")),d=i(c("CometTrackingCodeContext"));d=d.encrypted_tracking[0];var e=i(c("CometFeedLoggingExtraFieldsContext"));return c("useCometFeedNoRoutingNavigationEventsLoggerImpl")((a=a)!=null?a:b,d,e)}g["default"]=a}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}function b(a){var b=a.editor;a=a.initialValue;a=k(a);var c=k((a=a.current)!=null?a:!1);j(function(){c.current=!1},[]);return n(b)||c.current}g.useMWXLexicalHasText_DEPRECATED=a;g.useMWXLexicalHasText=b}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("IGDAudioPlayer.react",["I64","MWAudioPlayer.react","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPColorUtils","react","requireDeferred","stylex","useIGDAttachmentUrl","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useRef,m=c("requireDeferred")("MWChatAudioLog").__setRef("IGDAudioPlayer.react");function n(){m.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=a.attachment,e=a.isReply;e=e===void 0?!1:e;var f=a.outgoing;a=a.width;var g=b.playableDurationMs;g=(j||(j=d("I64"))).to_float((g=g)!=null?g:(j||(j=d("I64"))).zero)/1e3;var i=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(b),m=c("useMWPAudioWaveformData.react")(b,i);i=d("MWPAudioPlayerUtils").useControlCenter(i,void 0,n,!1,g);var o=i[0],p=i[1],q=i[2],r=i[3],s=i[4];i=i[5];var t=c("useMWPThreadTheme")();t=t.threadTheme;c("useMWPMarkAudioAttachmentAsConsumed.react")(q,b);var u=o===d("MWPAudioPlayerUtils").State.NONE,v=o===d("MWPAudioPlayerUtils").State.PLAYING,w=o===d("MWPAudioPlayerUtils").State.PAUSED,x=o===d("MWPAudioPlayerUtils").State.LOADING;o=o===d("MWPAudioPlayerUtils").State.ENDED;var y=v||w,z=l(),A=d("MWAudioPlayer.react").useHighlightStyles(f);a={backgroundColor:f?d("MWPColorUtils").int64ToHex(t.fallbackColor):"rgb(var(--ig-highlight-background))",width:(t=a)!=null?t:"218px"};t=y?Math.max(g-p,0):0;return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:q,children:k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:q,hasScrubber:y,scrubberRef:z,style:a,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,f?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,e&&d("MWPAudioPlayerSharedStyles").styles.commonReply,f&&e&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),style:e?{outline:"unset"}:{},children:[k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:q,currentTime:p,duration:g,hasEnded:o,hasScrubber:y,isListened:b.isAttachmentConsumed===!0,isPlaying:v,onUpdateScrubber:i,outgoing:f,progressHighlightRef:s,scrubberRef:z,waveformData:m,xstyle:A,children:k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:u,hasEnded:o,isLoading:x,isPaused:w,isPlaying:v,onPress:r,outgoing:f,scrubberRef:z})}),k.jsx("div",{children:v?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:f,time:t}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:f})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:f,time:t})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAudioWaveformUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length>b){var c=a.length/b,d=[];for(var e=0;e<b;e++){var f=e*c,g=(e+1)*c,h=0,i=0;for(var j=Math.ceil(f);j<Math.floor(g);j++)j<a.length&&(i++,h+=a[j]);i+=f-Math.floor(f);h+=(f-Math.floor(f))*a[Math.floor(f)];Math.ceil(g)<a.length&&(i+=Math.ceil(g)-g,h+=(Math.ceil(g)-g)*a[Math.ceil(g)]);i>0&&d.push(h/i)}return d}else return a}function b(a){var b=1,c=0;for(var d=0;d<a.length;d++)b=Math.min(a[d],b),c=Math.max(a[d],c);return b===c?a:a.map(function(a){return-b/(c-b)+1/(c-b)*a})}f.getReducedAudioWaveformDimensions=a;f.getLinearlyInterpolatedValues=b}),66);
__d("MWPAudioWaveform.react",["MWPAudioWaveformUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.height,c=a.waveformData,e=a.waveformId;a=a.width;var f=6,g=a/f,h=b;a=j(function(){return d("MWPAudioWaveformUtils").getLinearlyInterpolatedValues(d("MWPAudioWaveformUtils").getReducedAudioWaveformDimensions(c.split(",").map(function(a){return Number(a)}),g))},[g,e]);return i.jsx("svg",{className:"xqtp20y x10l6tqk xnalus7",children:i.jsx("defs",{children:i.jsx("clipPath",{id:e,children:a.map(function(a,c){a=Math.max(h*a,4);return i.jsx("rect",{height:a.toString(),rx:"2",width:3..toString(),x:Math.imul(c,f).toString(),y:((b/2|0)-((a|0)/2|0)|0).toString()},c.toString())})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioWaveformPlayer.react",["CometProgressRingIndeterminate.react","I64","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerIcons.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPAudioWaveform.react","MWPColorUtils","emptyFunction","react","stylex","useIGDAttachmentUrl","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useRef,m={progressDefault:{height:"x5yr21d",width:"xh8yej3",$$css:!0},progressDefaultIncoming:{backgroundColor:"x1bhxuv2",$$css:!0},progressDefaultOutgoing:{backgroundColor:"xz3rzyy",opacity:"xuzhngd",$$css:!0},progressPlayedIncoming:{backgroundColor:"x124kx0k",$$css:!0},progressPlayedOutgoing:{backgroundColor:"xz3rzyy",$$css:!0},progressSeek:{transform:"x5i6ehr",$$css:!0},progressSeekIncoming:{backgroundColor:"xdbldzf",$$css:!0},progressSeekOutgoing:{backgroundColor:"xdbldzf",$$css:!0}};function n(a){a=a.outgoing;return k.jsx("div",{className:(h||(h=c("stylex")))(m.progressDefault,a?m.progressDefaultOutgoing:m.progressDefaultIncoming)})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.color,c=a.isLoading;a.isPaused;var e=a.isPlaying;a=a.outgoing;if(c)return null;return e?k.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:a?b:void 0}):k.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:a?b:void 0})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.outgoing;a=a.waveformData;var f=c("useMWPThreadTheme")();f=f.threadTheme;var g=d("MWPColorUtils").int64ToHex(f.fallbackColor),j=l(),p=b.playableDurationMs;p=p!=null?(i||(i=d("I64"))).to_float(p)/1e3:0;var q=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(b);q=d("MWPAudioPlayerUtils").useControlCenter(q,void 0,c("emptyFunction"),!0,p);var r=q[0],s=q[1],t=q[2],u=q[3];q=q[4];var v=r===d("MWPAudioPlayerUtils").State.PLAYING,w=r===d("MWPAudioPlayerUtils").State.PAUSED;r=r===d("MWPAudioPlayerUtils").State.LOADING;var x=w||v,y=d("MWPAudioPlayerUtils").useResetHighlightProgress(j);b="waveform-clip-path-"+b.messageId;var z=r?0:Math.max(p-s,0),A=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();return k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:t,children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1r8uery x1iyjqo2 xs83m0k x10wjd1d x1yrsyyn x4uap5 x10b6aqq xkhd6sd x1hfn5x7",style:{backgroundColor:e?d("MWPColorUtils").int64ToHex(f.fallbackColor):"rgb(var(--ig-highlight-background))",borderRadius:18},children:[k.jsx(c("MWPAudioWaveform.react"),{height:50,waveformData:a,waveformId:b,width:171}),r?k.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:x?y:void 0,style:A,children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16})}):k.jsx("div",{onMouseMove:x?y:void 0,style:A,children:k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:k.jsx(o,{color:g,isLoading:r,isPaused:w,isPlaying:v,outgoing:e}),label:r||w?d("MWPAudioPlayerLabels").playLabel:d("MWPAudioPlayerLabels").pauseLabel,onPress:r?c("emptyFunction"):u})}),k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:t,hasScrubber:x,scrubberRef:j,style:{backgroundColor:e?d("MWPColorUtils").int64ToHex(f.fallbackColor):"rgb(var(--ig-highlight-background))",height:"100%"},testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:k.jsxs("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common),style:{clipPath:"url(#"+b+")"},children:[k.jsx(n,{outgoing:e}),k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:q,xstyle:e?m.progressPlayedOutgoing:m.progressPlayedIncoming}),k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:j,xstyle:[m.progressSeek,e?m.progressSeekOutgoing:m.progressSeekIncoming]}),k.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:s,duration:p})]})}),k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:e,time:z})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentAudioPlayer.react",["IGDAudioPlayer.react","IGDAudioWaveformPlayer.react","MWPAudioPlayerUtils","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment;a=a.outgoing;var e=d("useIGDDeviceType").useIGDDeviceType();e=e.isMobile;var f=d("MWPAudioPlayerUtils").useShowNewUX();return b.waveformData!=null&&b.waveformData!==""&&!f?i.jsx(c("IGDAudioWaveformPlayer.react"),{attachment:b,outgoing:a,waveformData:b.waveformData}):i.jsx(c("IGDAudioPlayer.react"),{attachment:b,outgoing:a,width:e?"168px":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentUtil",[],(function(a,b,c,d,e,f){"use strict";var g=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video","xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a,b){return a.defaultCtaType!=null&&g.has(a.defaultCtaType)||h(b)}function h(a){if(a==null)return!1;return a.type_==="xma_open_native"&&a.nativeUrl!=null&&a.nativeUrl.startsWith("instagram://")?!0:!1}function b(a){return a.defaultCtaType!=null&&a.defaultCtaType==="xma_poll_details_card"?!0:!1}f.isUnsupportedXma=a;f.isUnsupportedCTA=h;f.isIGDPoll=b}),66);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children,l=a.disabled,m=a.linkProps_,n=a.onHoverIn,o=a.onPress,p=a.overlayDisabled;p=p===void 0?!1:p;var q=a.testid;q=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;a=c("gkx")("24098")&&a;var r=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)),s=i.equal(g.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO)),t=r?"Image":s?"Video":"Media";return b("cr:4509")!=null&&(r||s)&&a?k.jsx(b("cr:4509"),{ariaLabel:f,disabled:l,linkProps:m,mediaType:t,onPress:o,overlayDisabled:p,testid:void 0,type:s?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:q,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,disabled:l,linkProps:m,onHoverIn:n,onPress:function(){return o()},overlayDisabled:p,testid:void 0,xstyle:q,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPStableImage.react",["CometObjectFitContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={image:{display:"x1lliihq",height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},imageFill:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a){var b=a.alt,d=a.aspectRatio,e=a.maxHeight,f=a.onError,g=a.onLoad;a=a.src;var i=k(function(){return{display:"block",maxHeight:e.toString()+"px",maxWidth:"100%"}},[e]);b=j.jsx("img",{alt:b,className:(h||(h=c("stylex")))(l.image,d==null?!1:l.imageFill),onError:f,onLoad:g,src:a,style:i});if(d!=null)return j.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:d,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:b});else return b}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.aspectRatio,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth;a.width;c=(a=c)!=null?a:null;a=k(function(){if(b!=null&&e!=null)return{maxWidth:"100%",width:(b*Math.min(f,e)).toString()+"px"}},[b,e,f]);var h=k(function(){if(g!=null)return{maxWidth:g.toString()+"px"}},[g]);return j.jsx("div",{className:"x193iq5w",children:j.jsx("div",{style:h,children:j.jsx("div",{className:d,style:a,children:c})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.alt,c=a.children,d=a.className,e=a.height,f=a.maxHeight,g=a.maxWidth,h=a.onError,i=a.onLoad,k=a.src;a=a.width;var l=a!=null&&e!=null?a/e:void 0;return j.jsxs(n,{aspectRatio:l,className:d,height:e,maxHeight:f,maxWidth:g,width:a,children:[j.jsx(m,{alt:b,aspectRatio:l,maxHeight:f,onError:h,onLoad:i,src:k}),c]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPStableImageContainer=n;g.MWPStableImage=a}),98);
__d("MWPMessageListImage.react",["MWPStableImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",$$css:!0},incoming_connect_bottom:{borderBottomStartRadius:"xlvjrdi",$$css:!0},incoming_connect_top:{borderTopStartRadius:"xaypk6r",$$css:!0},outgoing_connect_bottom:{borderBottomEndRadius:"xjeyjuz",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x11ow2hl",$$css:!0},standalone:{borderBottomEndRadius:"xsqq2vd",borderBottomStartRadius:"xyvi45c",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0},withAppAttribution:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0}};function l(a){a=a.attachment;a=a;var b=a.attributionAppName;if(b==null)return null;a=a.attributionAppIcon;return j.jsxs("div",{className:"x6s0dn4 xsqq2vd xyvi45c x78zum5 x1rfph6h x1iorvi4 xsyo7zv xjkvuk6 x16hj40l",children:[a!=null?j.jsx("img",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlup9mm x1w0mnb x19kjcj4 x1kky2od",role:"presentation",src:a}):null,j.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:b})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a,b){if(a)return b?k.outgoing_connect_top:k.incoming_connect_top}function n(a,b){if(a)return b?k.outgoing_connect_bottom:k.incoming_connect_bottom}function a(a){var b=a.alt,e=a.attachment,f=a.connectBottom;f=f===void 0?!1:f;var g=a.connectTop,i=a.height,o=a.maxHeight,p=a.maxWidth,q=a.outgoing,r=a.src;a=a.width;var s=e.attributionAppName!=null;g=m(g,q);f=n(f,q);return j.jsx(d("MWPStableImage.react").MWPStableImage,{alt:b,className:(h||(h=c("stylex")))(k.content,s?k.withAppAttribution:k.standalone,g,f),height:i,maxHeight:o,maxWidth:p,src:r,width:a,children:j.jsx(l,{attachment:e})})}a.displayName=a.name+" [from "+f.id+"]";g.useConnectTopStyles=m;g.useConnectBottomStyles=n;g.MWPMessageListImage=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x10l6tqk x17qophe xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.tables.media_staging).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerBlurpleLogoSvg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.cloneElement,k=b.useId,l=b.useMemo;function a(a){var b=a.height;a=a.width;a=(a=a)!=null?a:"80";b=(b=b)!=null?b:"80";var c=k(),d=l(function(){return j(i.jsx("path",{}),{clipRule:"evenodd",d:"M40 .914C17.995.914.937 17.033.937 38.804c0 11.389 4.668 21.23 12.268 28.026a3.12 3.12 0 011.05 2.227l.212 6.95c.068 2.215 2.358 3.658 4.386 2.763l7.753-3.423a3.115 3.115 0 012.087-.153A42.602 42.602 0 0040 76.695c22.005 0 39.063-16.118 39.063-37.89C79.063 17.033 62.005.915 40 .915z",fill:"url(#"+(c+")"),fillRule:"evenodd",suppressHydrationWarning:!0})},[c]),e=l(function(){return j(i.jsx("radialGradient",{}),{children:i.jsxs(i.Fragment,{children:[i.jsx("stop",{stopColor:"#09F"}),i.jsx("stop",{offset:"0.61",stopColor:"#A033FF"}),i.jsx("stop",{offset:"0.935",stopColor:"#FF5280"}),i.jsx("stop",{offset:"1",stopColor:"#FF7061"})]}),cx:"0",cy:"0",gradientTransform:"rotate(-57.092 80.25 24.628) scale(85.1246)",gradientUnits:"userSpaceOnUse",id:c,r:"1",suppressHydrationWarning:!0})},[c]);return i.jsxs("svg",{fill:"none",height:b,viewBox:" 0 0 80 80",width:a,children:[d,i.jsx("path",{clipRule:"evenodd",d:"M16.543 49.886L28.018 31.68a5.86 5.86 0 018.472-1.563l9.127 6.844a2.343 2.343 0 002.823-.008L60.765 27.6c1.645-1.248 3.793.72 2.692 2.467L51.982 48.272a5.86 5.86 0 01-8.472 1.563l-9.127-6.845a2.344 2.344 0 00-2.823.01l-12.325 9.354c-1.646 1.248-3.793-.72-2.692-2.467z",fill:"#fff",fillRule:"evenodd"}),i.jsx("defs",{children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","UNTRANSLATED_STRING_FIXME","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.actions,d=a.children;a=a.shouldShowMessengerLogo;return i.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[d,i.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:((d=a)!=null?d:!1)?i.jsx("a",{"aria-label":c("UNTRANSLATED_STRING_FIXME")("Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null}),i.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6680","cr:6681","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a,e){var f=a.color,g=a.icon,h=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","size"]);var k=f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":f,l=j(function(){return f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":f.color},light:{"primary-icon":f.color},type:"VARIABLES"}:void 0},[f]),m=g instanceof d("MWXSvgIcon").MWXSvgIcon?g.component:g,n=null;b("cr:6680")!=null&&(n=i.jsx(b("cr:6680"),babelHelpers["extends"]({color:k,icon:m,size:h},a,{ref:e})));b("cr:6681")!=null&&(n=i.jsx(b("cr:6681"),babelHelpers["extends"]({color:k,icon:m,size:h},g instanceof d("MWXSvgIcon").MWXSvgIcon?{iconRatio:"medium"}:{},a,{ref:e})));l!=null&&(n=i.jsx(c("BaseTheme.react"),{config:l,children:n}));return n}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);g["default"]=e}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:9110","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9110")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MediaViewerFallback.react",["fbt","MWV2MediaViewerContainer.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return j.jsx(c("MWV2MediaViewerContainer.react"),{actions:j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._("__JHASH__tnRfHlva-bL__JHASH__"),onPress:b,size:36,type:"dark-overlay"})})}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIGDMediaViewerShowDialog.react",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(){var a=c("useCometLazyDialog")(c("JSResourceForInteraction")("IGDMediaViewer.react").__setRef("useIGDMediaViewerShowDialog.react"),function(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}),b=a[0],d=a[1];j(function(){return d()},[b,d]);return[b,d]}g["default"]=a}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;e=b.createContext;var i=b.createElement;d={isDialogOpened:!1,setFocused:c("emptyFunction"),setIsDialogOpened:c("emptyFunction")};var j=e(d);function a(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";g.context=j;g.MWV2MessageRowIsRowFocusedContextProvider=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("IGDChatImage.react",["fbt","BaseTheme.react","I64","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","promiseDone","react","requireDeferred","useIGDAttachmentUrl","useIGDDeviceType","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatImage.react");b={"mwp-message-list-image-radius":"22px","mwp-message-list-image-radius-connected":"4px"};e={"mwp-message-list-image-radius":"22px","mwp-message-list-image-radius-connected":"4px"};var o={dark:e,light:b,type:"VARIABLES"},p={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},standalone:{borderBottomEndRadius:"xsqq2vd",borderBottomStartRadius:"xyvi45c",borderTopEndRadius:"x1msprab",borderTopStartRadius:"xx7uas9",$$css:!0}};function a(a){var b=a.attachment,e=a.connectBottom;e=e===void 0?!1:e;var f=a.connectTop,g=a.maxHeight;g=g===void 0?340:g;var l=a.maxWidth;l=l===void 0?236:l;var q=a.message;a=a.outgoing;var r=d("useIGDDeviceType").useIGDDeviceType(),s=r.isMobile,t=(i||(i=c("useReStore")))(),u=d("MWPActor.react").useActor();r=d("MWPMessageListImage.react").useConnectTopStyles(f,a);var v=d("MWPMessageListImage.react").useConnectBottomStyles(e,a),w=c("useMWV2FocusRowAfterClosingPushView")(),x=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(b,!0),y=c("useIGDMediaViewerShowDialog.react")(),z=y[0],A=y[1];if(x==null)return null;y=b.previewWidth;var B=b.previewHeight;return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{allowClickEventPropagation:!0,attachment:b,onHoverIn:function(){return A()},onPress:function(){if(s)return;w(function(){return!0});z({attachment:b},function(){});n.onReady(function(a){return c("promiseDone")(a.log(t,q.messageId,q.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,u))})},testid:void 0,xstyle:[p.container,p.standalone,r,v],children:[m.jsx(c("BaseTheme.react"),{config:o,children:m.jsx(d("MWPMessageListImage.react").MWPMessageListImage,{alt:b.titleText!=null?b.titleText:h._("__JHASH__Pisa25BX9rt__JHASH__").toString(),attachment:b,connectBottom:e,connectTop:f,height:B!=null?(j||(j=d("I64"))).to_float(B):void 0,maxHeight:g,maxWidth:l,outgoing:a,src:x,width:y!=null?(j||(j=d("I64"))).to_float(y):void 0})}),(j||(j=d("I64"))).le(q.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null]},b.attachmentFbid)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDChatVideo.react",["fbt","BaseImage.react","I64","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWPStableImage.react","MWV2AttachmentProgressBar.react","promiseDone","react","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatVideo.react"),o={incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xvbhtw8",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopEndRadius:"x3jqge",borderTopStartRadius:"x1ke7ulo",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.attachment,e=a.connectTop,f=a.maxHeight;f=f===void 0?340:f;var g=a.maxWidth;g=g===void 0?236:g;var l=a.message;a=a.outgoing;var p=(i||(i=c("useReStore")))(),q=d("MWPActor.react").useActor(),r=(j||(j=d("I64"))).le(l.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL));e=e?a?o.outgoing_connect_top:o.incoming_connect_top:!1;var s=c("useMWV2FocusRowAfterClosingPushView")();a=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(b,!0);var t=c("useIGDMediaViewerShowDialog.react")(),u=t[0],v=t[1];if(a==null)return null;t=b.previewWidth!=null?(j||(j=d("I64"))).to_float(b.previewWidth):void 0;var w=b.previewHeight!=null?(j||(j=d("I64"))).to_float(b.previewHeight):void 0;return m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:h._("__JHASH__Fp182jxGf7T__JHASH__"),attachment:b,disabled:r,onHoverIn:function(){return v()},onPress:function(){s(function(){return!0}),u({attachment:b},function(){}),n.onReady(function(a){return c("promiseDone")(a.log(p,l.messageId,l.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,q))})},overlayDisabled:!0,testid:void 0,xstyle:[o.root,e],children:[m.jsxs("div",{className:"x6s0dn4 x1ybostu x78zum5",children:[m.jsx("span",{className:"x91lo7 x1lliihq xqvfhly xszxewd x1ok221b x47corl x10l6tqk xulwito xyd03xr xzuapc8 x1vjfegm",children:m.jsx(c("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),b.previewUrlMimeType!=null&&b.previewUrlMimeType==="image/jpeg"?m.jsx(d("MWPStableImage.react").MWPStableImage,{alt:void 0,height:w,maxHeight:f,maxWidth:g,src:a,width:t}):m.jsx("video",{alt:void 0,height:w===0||((e=w)!=null?e:0>f)?"100%":w,src:a,style:{maxHeight:f,maxWidth:g},width:t===0||((e=t)!=null?e:0>g)?"100%":t,children:m.jsx("track",{kind:"captions"})})]}),r?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:b}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSCirclePlayPanoIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5 13.3-6.8 3.9c-.2.1-.5.2-.8.2s-.4-.1-.6-.2c-.5-.3-.8-.7-.8-1.3V8.1c0-.5.3-1 .8-1.3.5-.3 1-.3 1.5 0l6.8 3.9c.5.3.8.8.8 1.3s-.4 1-.9 1.3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MWPChatEphemeralButton.react",["fbt","I64","LSIntEnum","MWXMessageBubble.react","MWXPressable.react","MessagingAttachmentType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=h._("__JHASH__wwWALtSTrAJ__JHASH__"),n=h._("__JHASH__6AjB8pge-ih__JHASH__"),o=h._("__JHASH__4zpYeMebeaQ__JHASH__"),p=h._("__JHASH__FLEPIyrCx7D__JHASH__"),q=h._("__JHASH__xeZnk_7Xp-N__JHASH__"),r=h._("__JHASH__TfJs-614iIk__JHASH__"),s={pill:{borderTopStartRadius:"xnwf7zb",borderTopEndRadius:"x40j3uw",borderBottomEndRadius:"x1s7lred",borderBottomStartRadius:"x15gyhx8",$$css:!0}};function t(a){var b=a.ariaLabel,e=a.attachment,f=a.buildURL,g=a.children;a=a.disabled;f=f({attachment_id:e.attachmentFbid,message_id:e.messageId,thread_id:(j||(j=d("I64"))).to_string(e.threadKey)});return l.jsx(c("MWXPressable.react"),{"aria-label":b,children:g,disabled:a,linkProps:{url:f},overlayRadius:"inherit",testid:void 0,xstyle:s.pill})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.buildURL,f=a.connectBottom,g=a.connectTop,h=a.disabled,i=a.outgoing;a=a.renderContent;var j=null;switch((k||(k=d("LSIntEnum"))).toNumber(b.attachmentType)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:j=h?p:m;break;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:j=h?q:n;break;default:j=h?r:o;break}return l.jsx(t,{ariaLabel:j,attachment:b,buildURL:e,disabled:h,children:l.jsx(c("MWXMessageBubble.react"),{align:i?"right":"left",color:"incoming",connectBottom:f,connectTop:g,children:a(j)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("XPolarisDirectEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/direct/ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("IGDEphemeralButton.react",["IGDSBox.react","IGDSCirclePlayPanoIcon.react","IGDSText.react","LSIntEnum","MWPChatEphemeralButton.react","RavenMessagingState","XPolarisDirectEphemeralMediaControllerRouteBuilder","isRavenAttachmentViewable","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.disabled;a=a.outgoing;if(b.ephemeralMediaState==null)return null;var h=(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.ephemeralMediaState),k=!c("isRavenAttachmentViewable")(b)||a||g===!0;return j.jsx(c("MWPChatEphemeralButton.react"),{attachment:b,buildURL:c("XPolarisDirectEphemeralMediaControllerRouteBuilder").buildURL,connectBottom:e,connectTop:f,disabled:k,outgoing:a,renderContent:function(a){var b="ig-primary-text";k?b="ig-stroke":h===c("RavenMessagingState").UNSEEN&&(b="ig-primary-button");return j.jsxs(c("IGDSBox.react"),{direction:"row",children:[j.jsx(c("IGDSBox.react"),{marginEnd:2,children:j.jsx(c("IGDSCirclePlayPanoIcon.react"),{alt:a,color:b,size:16})}),j.jsx(c("IGDSBox.react"),{justifyContent:"center",children:j.jsx(c("IGDSText.react"),{color:k?"tertiaryText":"primaryText",size:"body",weight:"semibold",children:a})})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContainerWithHighlightBar.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{position:"x1n2onr6",$$css:!0},container_incoming:{paddingStart:"x1ye3gou",$$css:!0},container_outgoing:{paddingEnd:"xn6708d",$$css:!0},container_with_margin_bottom:{marginBottom:"xzueoph",$$css:!0},highlight_bar:{backgroundColor:"x19g9edo",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"x51ohtg",$$css:!0},highlight_bar_incoming:{start:"x17qophe",$$css:!0},highlight_bar_outgoing:{end:"xds687c",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.withMarginBottom;return j.jsxs("div",{className:(h||(h=c("stylex")))([k.container,a&&k.container_with_margin_bottom,d?k.container_outgoing:k.container_incoming]),children:[!d&&j.jsx("div",{className:(h||(h=c("stylex")))([k.highlight_bar,k.highlight_bar_incoming])}),b,d&&j.jsx("div",{className:(h||(h=c("stylex")))([k.highlight_bar,k.highlight_bar_outgoing])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageContentNoLongerAvailablePlaceholder.react",["fbt","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsxs("div",{className:"x78zum5 xdt5ytf xl56j7k x21xpn4",children:[a!=null&&j.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:a.replySnippet!=null&&a.replySnippet!==""&&j.jsx(c("IGDSText.react"),{size:"footnote",children:a.replySnippet})}),j.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__6BlzXQ_UCKH__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPSolidMessageBubble.react",["react","stylex","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,i=a.precedesXMA;i=i===void 0?!1:i;var l=a.style,m=a.xmaLayout;a=a.xstyle;return j.jsx("div",{className:(h||(h=c("stylex")))(k.bubble,f?g?k.outgoing_connect_top:k.incoming_connect_top:!1,(!i||m===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT)&&e?g?k.outgoing_connect_bot:k.incoming_connect_bot:!1,m!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&i?k.precedes_xma:!1,(f=a)!=null?f:!1),"data-testid":void 0,role:"none",style:l,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDSText.react","MWPSolidMessageBubble.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.connectBottom,d=a.connectTop;a=a.outgoing;var e=c("gkx")("33054");return j.jsxs(j.Fragment,{children:[d?j.jsx("div",{className:"xjbqb8w x36qwtl xh8yej3",role:"none"}):null,j.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:b,connectTop:d,outgoing:a,style:{backgroundColor:"var(--comment-background)"},children:j.jsxs("div",{className:"xw5ewwj x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:[j.jsx("div",{className:"x1e56ztr",children:j.jsx(c("IGDSText.react"),{children:e?h._("__JHASH__A69xhqwLkpv__JHASH__"):h._("__JHASH__atQVoVk5XY5__JHASH__")})}),j.jsx(c("IGDSText.react"),{color:"secondaryText",children:e?h._("__JHASH__HvUnheBePWL__JHASH__"):h._("__JHASH__INT7ORPdLDy__JHASH__")})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSticker.react",["I64","MWPStableImage.react","react","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=157;function l(a,b,c){a=a!=null?(i||(i=d("I64"))).to_float(a):void 0;b=b!=null?(i||(i=d("I64"))).to_float(b):void 0;if(a==null||b==null)return[a,b];var e=Math.max(a,b)===c,f=a>b?"width":b>a?"height":"same",g;if(e)g=1;else switch(f){case"height":g=c/b;break;case"same":case"width":g=c/a;break;default:g=1}return[a*g,b*g]}function a(a){var b,c=a.attachment,e=a.className;a=a.stickerSize;a=a===void 0?k:a;var f=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(c);b=(b=(b=c.playableUrl)!=null?b:c.previewUrl)!=null?b:f;if(b==null)return null;f=l(c.previewWidth,c.previewHeight,a);var g=f[0];f=f[1];return j.jsx(d("MWPStableImage.react").MWPStableImage,{alt:c.accessibilitySummaryText,className:e,height:f,maxHeight:a,maxWidth:a,src:b,width:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentContainer.react",["IGDMessageContainerWithHighlightBar.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming_connect_bottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.withHighlightBar;g=g===void 0?!1:g;a=a.xstyle;e=j.jsx("div",{className:(h||(h=c("stylex")))(k.root,e?f?k.outgoing_connect_top:k.incoming_connect_top:!1,d?f?k.outgoing_connect_bottom:k.incoming_connect_bottom:!1,a),children:b});if(g)return j.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:f,withMarginBottom:!1,children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsMessengerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isMessengerInAds:!1});function a(){return i(j)}g.AdsMessengerContext=j;g.useAdsMessengerContext=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5});f["default"]=a}),66);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","I64","ImageIconSource","LSCTAIconType","LSIntEnum","LSMessagingThreadTypeUtil","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","react","recoverableViolation","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect,o=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function p(a){if(a==null)return null;switch((l||(l=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentId,e=a.ctaIconType,g=a.ctaId,h=a.getCtaRegistryHandler;a.messageId;var j=a.renderButtonActionEventButton,l=a.renderButtonActionNonEventButton,q=a.renderDeeplinkActionButton,r=a.renderDisabledButtonActionButton,s=a.renderPopoverMenuButtonActionButton,t=a.renderUrlActionButton,u=a.threadKey,v=a.title,w=a.type,x=(i||(i=c("useReStore")))();a=d("MWLSThread").useThread(u,function(a){return a.threadType});var y=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:w,eventName:"xma_attachment_cta",threadKey:u,threadType:a});a=a?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a):!1;var z=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(x.tables.attachment_ctas).getKeyRange(g)},[x,g],f.id+":138");n(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(w);a&&o.onReady(function(a){a.logImpression({surface:"admin_message"})})},[w]);var A=d("AdsMessengerContext.react").useAdsMessengerContext(),B=A.isMessengerInAds;A=A.maybeGetCallbackFromURI;if(z==null)return w==="xma_disabled_cta"?m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:r(v)}):null;h=h(z);e=p(e);var C=null;switch(h.actionType){case"BUTTON":var D=h.secondaryInfo,E=h.primaryInfo,F=w==="xma_event_rsvp"&&c("gkx")("24146");b!=null&&u!=null&&!((a=a)!=null?a:!1)&&F?C=j(b,u,v,e,z,D):F||(C=l(v,e,z,D,E));break;case"POPOVER_BUTTON":s&&(C=s(v,z,h.primaryInfo));break;case"URL":a=h.secondaryInfo;j=A==null?void 0:A(h.primaryInfo);B&&j!=null?C=l(v,e,z,a,j):C=t(v,e,z,a,h.primaryInfo);break;case"DISABLED_BUTTON":C=r(v);break;case"DEEPLINK":b=h.primaryInfo;u=b.loggingDetails;F=b.threadKey;D=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(F)});C=q(v,F,z,u,D);break;case"CTA_ERROR":c("recoverableViolation")(h.primaryInfo,h.secondaryInfo,void 0,{trackOnly:!0});C=null;break;case"NOT_SUPPORTED":C=null;break}return m.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",ref:y,children:C})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPostbackCtaHandler",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useLSMessagingInitiatingSource")(),g=c("useLSMessagingSource")();return d("Int64Hooks").useCallbackInt64(function(i,j){var k=d("LSThreadAttributionTypeUtil").getSource(e,g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(a=f)!=null?a:void 0,mark_read:!0,platform_token:i,power_up_style:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:h.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:h.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:k}),mailboxType:h.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:j,text:j,threadKey:e,threadType:h.ofNumber(1)})},"readwrite"))},[a,g,f,b,e])}g.usePostbackCtaHandler=a}),98);
__d("useIGDChatPollXMAActionHandler",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("IGDChatPollDetailsDialog.react").__setRef("useIGDChatPollXMAActionHandler");function a(){var a=c("useCometLazyDialog")(j),b=a[0];return i(function(a,c,d){return b({pollId:c,threadKey:a,title:d},function(){})},[b])}g["default"]=a}),98);
__d("useMWCMPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollVotingCapability:d("LSThreadBitOffset").has(170,a)}}))!=null?a:{};a=a.pollVotingCapability;return(a=a)!=null?a:!1}g["default"]=a}),98);
__d("useGetIGDXMARegistryHandler",["Clipboard","I64","IGDAttachmentUtil","MWLSPostbackCtaHandler","useIGDChatPollXMAActionHandler","useMWCMPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("useIGDChatPollXMAActionHandler")(),e=c("useMWCMPollsVotingEnabled")(a),f=d("MWLSPostbackCtaHandler").usePostbackCtaHandler();return function(a){var c=a.actionUrl,g=a.platformToken,i=a.type_,j=a.title,k=a.threadKey,l=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(g!=null).toString(),"ActionUrlPresent: "+(c!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", "),m=a.actionContentBlob,n=a.targetId;if(d("IGDAttachmentUtil").isUnsupportedCTA(a))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};if(i==="xma_poll_details_button"||i==="xma_poll_details_card"){if(n==null||m==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a poll id and title while parsing polls XMA",secondaryInfo:"messenger_business_core_product"};return!e?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return b(k,n,m)},secondaryInfo:void 0}}if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return f(g,j)},secondaryInfo:[(h||(h=d("I64"))).to_string(k),31]};if(i==="xma_partnership_ads_copy_code")return{actionType:"BUTTON",primaryInfo:function(){var b;d("Clipboard").copy((b=a.actionUrl)!=null?b:"")},secondaryInfo:void 0};if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};return c!=null?{actionType:"URL",primaryInfo:c,secondaryInfo:[(h||(h=d("I64"))).to_string(k),32]}:{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+l,secondaryInfo:"messenger_privacy_web"}}}g["default"]=a}),98);
__d("IGDXMAAttachmentItemCtaButton.react",["IGDBroadcastChannelQPL","IGDSButton.react","MWXMAAttachmentItemCtaButtonBase.react","err","react","requireDeferred","useGetIGDXMARegistryHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback,k=c("requireDeferred")("logXMACtaClicked").__setRef("IGDXMAAttachmentItemCtaButton.react");function a(a){var b=a.attachmentId,e=a.ctaIconType,f=a.ctaId,g=a.messageId,h=a.threadKey,l=a.title;a=a.type;var m=c("useGetIGDXMARegistryHandler")(h),n=d("IGDBroadcastChannelQPL").useLogUpdatePollStart(h,a),o=j(function(a,b){k.onReady(function(c){return c.logXMACtaClicked({cta:a,loggingDetails:b,source:2})}),n()},[n]);return i.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentId:b,ctaIconType:e,ctaId:f,getCtaRegistryHandler:m,messageId:g,renderButtonActionEventButton:function(a,b,d,e,f,g){throw c("err")("XMA Attachment Item event action button not implemented for IGD")},renderButtonActionNonEventButton:function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",label:a,onClick:function(){o(d,e);return f()},size:"small",variant:"tertiary"})},renderDeeplinkActionButton:function(a,b,d,e,f){throw c("err")("XMA Attachment Item deeplink action button not implemented for IGD")},renderDisabledButtonActionButton:function(a){return i.jsx(c("IGDSButton.react"),{display:"block",isDisabled:!0,label:a,size:"small",variant:"tertiary"})},renderUrlActionButton:function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",href:f,label:a,onClick:function(){return o(d,e)},size:"small",variant:"tertiary"})},threadKey:h,title:l,type:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyCta.react",["IGDXMAAttachmentItemCtaButton.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0}};function a(a){var b=a.attachment;a=a.attachmentItem;var d=a.attachmentCta1Id,e=a.attachmentCta2Id,f=a.attachmentCta3Id,g=a.cta1IconType,i=a.cta1Title,l=a.cta1Type,m=a.cta2Title,n=a.cta2Type,o=a.cta3Title,p=a.cta3Type;if(l==null||i==null||d==null)return null;a=a.titleText==null&&a.subtitleText==null;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.buttonsWrapper,a?k.buttonsOnly:!1),children:[j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaIconType:g,ctaId:d,messageId:b.messageId,threadKey:b.threadKey,title:i,type:l}),n!=null&&m!=null&&e!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaIconType:g,ctaId:e,messageId:b.messageId,threadKey:b.threadKey,title:m,type:n}),p!=null&&o!=null&&f!=null?j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentId:b.attachmentFbid,ctaIconType:g,ctaId:f,messageId:b.messageId,threadKey:b.threadKey,title:o,type:p}):null]}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5});f["default"]=a}),66);
__d("MWXMAAttachmentItemIcon.react",["CometImageCover.react","FDSSkittleIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.icon;if(a==null)return null;return typeof a==="string"?i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("CometImageCover.react"),{alt:"Icon for this message",src:a,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xq8finb",children:i.jsx(c("FDSSkittleIcon.react"),{color:a.color,icon:a.icon,size:36})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((j||(j=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(h("380222"),16)});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_product");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return d("fbicon")._(h("571771"),20);case"calendar":return d("fbicon")._(h("481118"),20);case"calendar-add":return d("fbicon")._(h("640913"),20);case"camcorder":return d("fbicon")._(h("493174"),20);case"camcorder-incoming":return d("fbicon")._(h("1096148"),20);case"camcorder-missed":return d("fbicon")._(h("662989"),20);case"camcorder-outgoing":return d("fbicon")._(h("1096150"),20);case"camcorder-plus":return d("fbicon")._(h("662993"),20);case"checkmark-circle":return d("fbicon")._(h("498146"),20);case"cross-circle":return d("fbicon")._(h("1501526"),20);case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return d("fbicon")._(h("847056"),20);case"document-complete":return d("fbicon")._(h("728245"),20);case"friend-generic":return d("fbicon")._(h("502671"),20);case"friend-generic-checkmark":return d("fbicon")._(h("538342"),20);case"group":return d("fbicon")._(h("485091"),20);case"group-block":return d("fbicon")._(h("714636"),20);case"location":return d("fbicon")._(h("795388"),20);case"pin":return d("fbicon")._(h("481942"),20);case"phone":return d("fbicon")._(h("558161"),20);case"phone-incoming":return d("fbicon")._(h("1096151"),20);case"phone-outgoing":return d("fbicon")._(h("1096154"),20);case"shield":return d("fbicon")._(h("492714"),20);case"phone-missed":return d("fbicon")._(h("847457"),20);case"question-circle":return d("fbicon")._(h("1604445"),20);case"tag":return d("fbicon")._(h("502473"),20);case"watch":return d("fbicon")._(h("607169"),20);case"map":return d("fbicon")._(h("645715"),20);case"house-keyhole":return d("fbicon")._(h("1670302"),20);case"document":return d("fbicon")._(h("728245"),20);case"checkmark":return d("fbicon")._(h("477814"),20);case"shopping-cart":return d("fbicon")._(h("763120"),20);case"cross":return d("fbicon")._(h("478233"),20);default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_product");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("IGDXMAAttachmentItemBodyForCardMainText.react",["I64","IGDSBox.react","IGDSText.react","LSIntEnum","MNXMASubtitleDecorationType","MWXMAAttachmentItemIcon.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react"),m={bodyContainer:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x1y1aw1k",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},containerWithFavicon:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",$$css:!0},textContainer:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},textContainerWithIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function a(a){var b=a.body,e=a.captionBodyText,f=a.favIconUrl,g=a.subtitleDecorationType;a=a.title;f=f!=null?d("MWXMAIconParser.react").parse(f):null;return l.jsxs("div",{className:(h||(h=c("stylex")))(m.container,f!=null?m.containerWithFavicon:null),children:[f!=null?l.jsx(c("MWXMAAttachmentItemIcon.react"),{icon:f},"icon"):null,l.jsx("div",{className:h(m.textContainer,f==null?m.textContainerWithIcon:null),children:l.jsxs("div",{children:[Boolean(a)&&l.jsx(c("IGDSText.react"),{maxLines:3,size:"footnote",weight:"semibold",children:a}),Boolean(e)&&l.jsx(c("IGDSText.react"),{maxLines:5,size:"footnote",weight:"normal",children:e},"title"),Boolean(b)&&l.jsxs("div",{className:(h||(h=c("stylex")))(a!=null?m.bodyContainer:null),children:[g!=null&&!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMASubtitleDecorationType").DEFAULT))?l.jsx(c("IGDSBox.react"),{marginEnd:2,children:l.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:g})}):null,l.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:3,size:"footnote",children:b})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f,g){var h=3,i=14,j={ROUND:"ROUND",TRUNCATE:"TRUNCATE"},k={SHORT:"SHORT",LONG:"LONG"};function a(a,b,d,e){d===void 0&&(d=k.SHORT);e===void 0&&(e=j.ROUND);d=c("IntlCompactDecimalNumberFormatConfig")[d===k.SHORT?"short_patterns":"long_patterns"];var f=a===0?0:Math.floor(Math.log10(Math.abs(a)));f>i&&(f=i);var g=l(a,f,b,e,d),m=g[0],n=g[1];g=g[2];if(g&&e===j.ROUND){f+=1;g=l(a,f,b,e,d);m=g[0];n=g[1];g[2]}e=c("FbtNumberType").getVariation(m)||c("IntlVariations").NUMBER_OTHER;g=f.toString();g=d==null?void 0:(d=d[g])==null?void 0:d[e.toString()];if(!g||f<h||g.positive_prefix_pattern===""&&g.positive_suffix_pattern===""){d=b===void 0?0:b;return c("intlNumUtils").formatNumberWithThousandDelimiters(a,d)}return g&&g.min_integer_digits===0&&m===1?g.positive_prefix_pattern+g.positive_suffix_pattern:(g&&g.positive_prefix_pattern||"")+c("intlNumUtils").formatNumberWithThousandDelimiters(m,n)+(g&&g.positive_suffix_pattern||"")}function l(a,b,d,e,f){var g=b.toString();g=f==null?void 0:(f=f[g])==null?void 0:f[c("IntlVariations").NUMBER_OTHER.toString()];f=g&&g.min_integer_digits||b+1;var h=b-f+1;h=Math.abs(a)/Math.pow(10,h);var k=d!=null;d=k?d:g&&g.min_fraction_digits;d==null&&(d=b>2?1:0);g=e===j.TRUNCATE?c("intlNumUtils").truncateLongNumber(h.toString(),d):h.toFixed(d);e=parseFloat(g)*(a<0?-1:1);return[e,e%1===0&&!k?0:d,g.length>f+(d>0?d+1:0)+(h>=0?0:1)&&b<i]}g["default"]=a}),98);
__d("IGDPollFacepile.react",["fbt","CometPressable.react","CometTooltip_DEPRECATED.react","FDSTooltipGroup.react","IGDSAvatar.react","IGDSText.react","intlSummarizeNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},contactMedium:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},overflow:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",display:"x78zum5",$$css:!0},overflowLarge:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",marginStart:"xp7jhwk",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},overflowMedium:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"x1qx5ct2",marginStart:"xbmpl8g",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",$$css:!0},overflowSmall:{borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",height:"x1v9usgg",marginStart:"x139jcc6",paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=a.contacts,d=a.contactWithBorderStyle,e=a.countOverride,f=a.direction;f=f===void 0?"normal":f;var g=a.gap,h=g===void 0?"normal":g;g=a.limit;g=g===void 0?3:g;var j=a.onPress,o=a.showTooltip,p=o===void 0?!0:o,q=a.size;o=e!=null?e:b.length;if(o===0)return null;a=o<=g?Math.min(g,b.length):g-1;e=o-a;g=e>0;o=g?k.jsx(n,{contacts:b,facepileCount:a,overflowCount:e,showTooltip:p,size:q}):null;e=k.jsxs(c("FDSTooltipGroup.react"),{children:[o,b.slice(-(g?a:1e3)).reverse().map(function(a,b){var e;return k.jsx("div",{className:(i||(i=c("stylex")))(l.photoWrap,h==="normal"?l.contactGapNormal:l.contactGapNegative,q==="medium"?l.contactMedium:q==="small"?l.contactSmall:l.contactLarge),children:k.jsx(m,{tooltip:p&&a.name!=null?k.jsx(c("IGDSText.react"),{children:a.name}):null,children:k.jsx(c("IGDSAvatar.react"),{alt:(e=a.name)!=null?e:"",size:q==="medium"?"extraSmall":q==="small"?"micro":"small",src:a.profile_picture_url,xstyle:[l.contact,d]})})},String(b))})]});return j!=null?k.jsx(c("CometPressable.react"),{onPress:j,overlayDisabled:!0,xstyle:[l.root,f==="reversed"?l.rootReversed:null],children:e}):k.jsx("div",{className:(i||(i=c("stylex")))(l.root,f==="reversed"?l.rootReversed:null),children:e})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.children;a=a.tooltip;return a==null?b:k.jsx(c("CometTooltip_DEPRECATED.react"),{align:"middle",position:"above",tooltip:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.contacts,d=a.facepileCount,e=a.overflowCount,f=a.showTooltip;a=a.size;b=b.slice(0,-d).reverse().filter(function(a){return a.name!=null}).map(function(a){a=a.name;if(a!=null)return a;else return""});d=b.length===0?void 0:k.jsx("ul",{children:b.map(function(a,b){return k.jsx("li",{children:a},String(b))})});return k.jsx(m,{tooltip:f&&d!=null?k.jsx(c("IGDSText.react"),{children:d}):null,children:k.jsx("div",{className:(i||(i=c("stylex")))([l.overflow,a==="medium"?l.overflowMedium:a==="small"?l.overflowSmall:l.overflowLarge]),children:k.jsx(c("IGDSText.react"),{color:"primaryText",size:a==="medium"?"body":a==="small"?"miniscule":"label",textAlign:"center",children:h._("__JHASH__aWEIlPNCu0S__JHASH__",[h._param("number of users",c("intlSummarizeNumber")(e))])})})})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx(d("react-strict-dom").html.ul,{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemListItems.react",["I64","IGDPollFacepile.react","IGDSText.react","MWLSThreadDisplayContext","MWPColorUtils","MWXMAAttachmentItemListItemsBase.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={contactWithBorderStyle:{borderTopColor:"xbhhrqq",borderEndColor:"x1l5zy3o",borderBottomColor:"x1szfnsn",borderStartColor:"xsp4bbj",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0}};function a(a){a=a.attachment;var b=c("useMWPThreadTheme")(),e=b.threadTheme.fallbackColor,f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:function(a){return j.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:j.jsxs("div",{children:[j.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),contactWithBorderStyle:k.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,size:"large"}),a.titleText!=null?j.jsx("div",{className:"xsgj6o6 x1xmf6yo",children:j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:2,size:"body",weight:"semibold",children:a.titleText})}):null]})},(i||(i=d("I64"))).to_string(a.id))},renderPercentageListItem:function(a,b){return j.jsxs("li",{className:"x14vqqas",children:[j.jsxs("div",{className:"x78zum5 x1qughib",children:[a.titleText!=null?j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:f==="Inbox"?3:1,size:"body",weight:"semibold",children:a.titleText}):null,j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(function(a){return{name:void 0,profile_picture_url:a.url}}),contactWithBorderStyle:k.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",size:"small"})})]}),j.jsx("div",{className:"x1wpzbip x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt xod5an3 x1xmf6yo",children:j.jsx("div",{className:"x1lq5wgf xgqcy7u x30kzoy x9jhf4c xdk7pt",style:{backgroundColor:d("MWPColorUtils").int64ToHex(e),width:Math.min((i||(i=d("I64"))).to_int32(b),100)+"%"}})})]},i.to_string(a.id))}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyListItems.react",["IGDSText.react","IGDXMAAttachmentItemListItems.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.attachment;return i.jsxs(i.Fragment,{children:[a.listItemsDescriptionText!=null?i.jsx(j,{listItemsDescriptionText:a.listItemsDescriptionText}):null,a.listItemId1!=null?i.jsx(c("IGDXMAAttachmentItemListItems.react"),{attachment:a}):null,a.listItemsSecondaryDescriptionText!=null?i.jsx(k,{listItemsSecondaryDescriptionText:a.listItemsSecondaryDescriptionText}):null]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.listItemsDescriptionText;return i.jsx("div",{className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k xw3qccf",children:i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:4,size:"label",weight:"bold",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){a=a.listItemsSecondaryDescriptionText;return i.jsx("div",{className:"xod5an3",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",elementType:"h4",maxLines:3,size:"footnote",weight:"semibold",children:a})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.previewUrlFallback):a.previewUrlLarge}function e(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.playableUrlFallback):a.playableUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?c("rewriteFallbackUrl")(a.faviconUrlFallback):a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=e;g.faviconUrl=f}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.createElement,o=l.useContext,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children;a=a.renderPressable;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;var g=f(25);f=f(24);b=b.defaultCtaType;c=c.attachmentCta1Id!=null;g=b!=null?q.has(b)&&!g||p.has(b)&&!f:!1;b={hasAtLeastOneCta:c,isDisabledRtcXma:g,renderPressable:a};return n(r.Provider,{children:!c&&!g?a(e):e,value:b})}function b(a){a=a.children;var b=o(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx(d("react-strict-dom").html.div,{style:s.container,children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.getPreviewUrl;a=a.preferLargePreview;a=a===void 0?!1:a;var g=d("LSMediaUrlAttachmentItem").playableUrl(e),h=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);f=f==null?d("LSMediaUrlAttachment").previewUrl(c):f(c,e);a=a&&h!=null?h:(c=b)!=null?c:f;h=e.playableUrlMimeType;b=h!=null?h.includes("video")?"video":h.includes("image")?"image":"unsupported":"unsupported";if(b==="video"&&g!=null)return{type:"Video",url:g};if(a!=null)return{type:"Image",url:a};return b==="image"&&g!=null?{type:"Image",url:g}:{type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("IGDXMAAttachmentItemBody.react",["BaseImage.react","I64","IGDSText.react","IGDXMAAttachmentItemBodyCta.react","IGDXMAAttachmentItemBodyForCardMainText.react","IGDXMAAttachmentItemBodyListItems.react","LSIntEnum","LSMediaUrlAttachment","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIconParser","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){var b=a.attachment,e=a.attachmentItem;a=a.favIconUrl;var f=d("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(b,e),g=f[0];f=f[1];f=f;var h=b.captionBodyText,i=b.subtitleDecorationType,j=[];if(Boolean(g)||Boolean(f)){f=k.jsx(c("IGDXMAAttachmentItemBodyForCardMainText.react"),{body:f,captionBodyText:h,favIconUrl:a,subtitleDecorationType:i,title:g});j.push(f)}c("justknobx")._("1150")&&b.attachmentCta1Id!=null&&(j.push(k.jsx(c("IGDXMAAttachmentItemBodyListItems.react"),{attachment:b})),j.push(k.jsx(c("IGDXMAAttachmentItemBodyCta.react"),{attachment:b,attachmentItem:e})));if(j.length===0)return null;h=j.filter(function(a){return a!=null}).reduce(function(a,b){return a.concat(b)},[]).map(function(a,b){return k.jsx(k.Fragment,{children:a},String(b)+"_item")});return k.jsx("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:k.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:h})})}l.displayName=l.name+" [from "+f.id+"]";var m={image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function n(a){var b=a.attachment;a.attachmentItem;if(b.headerTitle==null)return null;a=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(b));return k.jsxs(k.Fragment,{children:[typeof a==="string"?k.jsx(c("BaseImage.react"),{src:a,xstyle:m.image}):null,k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:b.headerTitle})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.attachmentItem;a=a.favIconUrl;return b.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(b.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))?k.jsx(n,{attachment:b,attachmentItem:e}):k.jsx(l,{attachment:b,attachmentItem:e,favIconUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemNonLink.react",["MWPActor.react","promiseDone","react","requireDeferred","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemNonLink.react");function a(a){var b=a.attachmentItem,e=a.children;a=a.xstyle;var f=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor();return k.jsx("div",{className:(i||(i=c("stylex")))(a),onClick:function(a){l.onReady(function(a){return c("promiseDone")(a.log(f,b.messageId,b.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,g))})},role:"none",children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemUtil",["ConstUriUtils","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=a.defaultCtaId;return d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(b.tables.attachment_ctas).getKeyRange(e):d("ReQL").empty()},[b,e],f.id+":24")}function b(a){return a.startsWith("http")||a.startsWith("/")}function e(a){if(a==null)return null;a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getQueryParam("shortcode");if(b!=null)return typeof b==="string"?b:JSON.stringify(b);else{a=a==null?void 0:(b=a.stripTrailingSlash())==null?void 0:b.getPath().split("/");return a!=null&&a.length>1?a[a.length-1]:null}}g.useDefaultCtaInternal=a;g.isAttachmentCTAHrefValid=b;g.getShortCodeFromMediaDeeplinkUrl=e}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2});f["default"]=a}),66);
__d("IGDXMAAttachmentItemHeader.react",["BaseImage.react","I64","IGDSBox.react","IGDSText.react","IGDSVerifiedIcon.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","LSIntEnum","LSVerifiedType","MNXMAPreviewImageDecorationType","MWPXMAIconParser","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={"default":{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},headerText:{maxWidth:"xq8v1hd",$$css:!0},overlay:{end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},small:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},titleTextWithShadow:{textShadow:"x1altmpn",$$css:!0}};function n(a){a=(a=a.previewImageDecorationType)!=null?a:(j||(j=d("I64"))).zero;var b=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));a=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));return[b,a]}function o(a){var b=a.attachment;a=a.getHeaderImageUrlXMA;a=d("MWPXMAIconParser").parse(a(b));return typeof a!=="string"?null:l.jsx("div",{className:"x6s0dn4 x78zum5 x1emribx",children:l.jsx(c("BaseImage.react"),{src:a,xstyle:b.previewImageDecorationType!=null&&(j||(j=d("I64"))).equal(b.previewImageDecorationType,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))?m.small:m["default"]})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.attachment,e=a.defaultCta;a=a.overlayingMedia;var f=b.verifiedType,g=n(b),h=g[0];g=g[1];var i=b.headerSubtitleText;b=b.headerTitle;f=f!=null?(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1;e=e!=null&&e.type_==="igd_web_post_share";h=l.jsx(c("IGDSText.react"),{color:h?"webAlwaysWhite":"primaryText",maxLines:1,size:"body",weight:"semibold",children:b});return b==null?null:l.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",children:[l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",marginEnd:a?2:0,minWidth:0,xstyle:g?m.titleTextWithShadow:!1,children:[e?l.jsx(c("PolarisFastLink.react"),{href:"/"+b+"/",xstyle:m.headerText,children:h}):h,f?l.jsx(c("IGDSBox.react"),{marginStart:1,children:l.jsx(c("IGDSVerifiedIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,color:a?"ig-text-on-media":"ig-primary-button",size:14})}):null]}),c("isStringNullOrEmpty")(i)?null:l.jsx(c("IGDSBox.react"),{marginTop:1,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",children:i})})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.attachmentItem,f=a.getHeaderImageUrlXMA;a=a.overlayingMedia;a=a===void 0?!1:a;var g=d("IGDXMAAttachmentItemUtil").useDefaultCtaInternal(e),i=n(b);i=i[0];var j=b.headerTitle;return j==null?null:l.jsx("div",{className:(h||(h=c("stylex")))(m.header,i?m.overlay:!1),children:l.jsxs(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:e,xstyle:m.pressable,children:[l.jsx(o,{attachment:b,getHeaderImageUrlXMA:f}),l.jsx(p,{attachment:b,defaultCta:g,overlayingMedia:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemLink.react",["fbt","ConstUriUtils","IGDXMAUtils","MWPActor.react","PolarisFastLink.react","PolarisNavigationActions","PolarisReactRedux.react","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemLink.react");function a(a){var b=a.attachmentItem,e=a.attachmentType,f=a.children,g=a.href;a=a.xstyle;var j=(i||(i=c("useReStore")))(),m=d("MWPActor.react").useActor(),n=b.titleText,o=d("PolarisReactRedux.react").useDispatch(),p=d("ConstUriUtils").getUri(g),q=d("IGDXMAUtils").isInstagramDomain(p),r=p==null?void 0:p.path.includes("/stories/"),s=e==="xma_open_native"||e==="xma_web_url"&&(q||r===!0);e=function(){s&&o(d("PolarisNavigationActions").trackEntrypoint()),l.onReady(function(a){return c("promiseDone")(a.log(j,b.messageId,b.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,m))})};r=h._("__JHASH__vOspP2z015J__JHASH__");q=q?d("IGDXMAUtils").isInstagramProfile(p)?d("IGDXMAUtils").getInstagramProfileUsername(p):d("IGDXMAUtils").getInstagramRelativeUrl(p):g;return k.jsx(c("PolarisFastLink.react"),{"aria-label":n!=null?n:r,href:s?q:g,onClick:e,target:s?"_self":"_blank",xstyle:a,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDXMAPostModal.react",["CometPlaceholder.react","I64","deferredLoadComponent","emptyFunction","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useState,l=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectMessagePostModal.react").__setRef("IGDXMAPostModal.react"));function m(a,b){return{carousel_share_child_media_id:"",client_context:"",code:b,id:(i||(i=d("I64"))).to_string(a),media_type:0,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}function a(a){var b=a.children,d=a.shortCode;a=a.targetId;var e=k(!1),f=e[0],g=e[1];return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"x1277o0a",onClick:function(){return g(!0)},role:"none",children:b}),f?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(l,{media:m(a,d),modalEntryPath:"/direct/t",onClose:function(){return g(!1)},onOpen:c("emptyFunction")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemPressable.react",["IGDXMAAttachmentItemLink.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","IGDXMAPostModal.react","PolarisFastLink.react","PolarisLinkBuilder","react","useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentItem,e=a.children,f=a.isPrivatePost;f=f===void 0?!1:f;var g=a.isReply;g=g===void 0?!1:g;var h=a.isXMAExpired;h=h===void 0?!1:h;a=a.xstyle;var j=d("IGDXMAAttachmentItemUtil").useDefaultCtaInternal(b),k=d("useIGDDeviceType").useIGDDeviceType().isMobile;if(j==null||g||h)return i.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:b,children:e});g=j.actionUrl;if(g==null||!d("IGDXMAAttachmentItemUtil").isAttachmentCTAHrefValid(g))return i.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:b,children:e});h=j.nativeUrl;var l=j.targetId,m=j.type_;h=d("IGDXMAAttachmentItemUtil").getShortCodeFromMediaDeeplinkUrl(h);if(l!=null&&h!=null&&m==="igd_web_post_share")if(!k&&!f)return i.jsx(c("IGDXMAPostModal.react"),{shortCode:h,targetId:l,children:e});else return i.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildMediaLink(h),target:"_blank",xstyle:a,children:e});return i.jsx(c("IGDXMAAttachmentItemLink.react"),{attachmentItem:b,attachmentType:j.type_,href:g,xstyle:a,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAGatedAttachmentPreview.react",["MWVerticalRhythm","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={tintOverlay:{height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}},l={4:{filter:"x1qgin71",$$css:!0},8:{filter:"x1wd8k3y",$$css:!0},12:{filter:"x1uo6jdl",$$css:!0}},m={.35:{backgroundColor:"x1sag07j",$$css:!0},.5:{backgroundColor:"xcpsgoo",$$css:!0}};function a(a){var b=a.blur;b=b===void 0?12:b;var d=a.children,e=a.icon,f=a.subtitle,g=a.tint;g=g===void 0?.35:g;a=a.title;return j.jsxs("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6",children:[j.jsxs("div",{className:"x6ikm8r x10wlt62 x1n2onr6 xh8yej3",children:[j.jsx("div",{className:(h||(h=c("stylex")))([k.tintOverlay,m[g]])}),j.jsxs("div",{className:h(l[b]),children:[" ",d," "]})]}),j.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 x1vjfegm",children:[e,a!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),a,f!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),f]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAFalseInformationAttachmentPreview.react",["fbt","IGDSText.react","MWPXMAGatedAttachmentPreview.react","PolarisDirectConstants","PolarisMediaOverlayInfoTypes","PolarisSensitivityOverlayIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.children,e=a.gatingLayoutType;a.gatingTitleType;a.size;switch(e){case d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS:return j.jsx(c("MWPXMAGatedAttachmentPreview.react"),{blur:4,icon:j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.EYE_OFF}),title:j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",children:h._("__JHASH__rt-qPtaU55L__JHASH__")}),children:b});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDXMAAttachmentItemPreview.react",["fbt","CometObjectFitContainer.react","CometPlaceholder.react","I64","IGDSGlimmer.react","IGDSMediaCarouselFilledIcon.react","IGDXMAFalseInformationAttachmentPreview.react","Int64Hooks","LSIntEnum","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","deferredLoadComponent","react","requireDeferredForDisplay","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDVideoPlayer.react").__setRef("IGDXMAAttachmentItemPreview.react")),n={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function o(a){a.attachment;var b=a.attachmentItem;a=a.children;var e=b.previewWidth!=null?(j||(j=d("I64"))).to_int32(b.previewWidth):0;b=b.previewHeight!=null?(j||(j=d("I64"))).to_int32(b.previewHeight):0;e=e!==0?b!==0?e/b:0:0;b=b>250&&e<.8;return l.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:b?.8:e,children:l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:l.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:n.glimmer})}),children:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){return d("Int64Hooks").useMemoInt64(function(){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE)))return l.jsx(c("IGDSMediaCarouselFilledIcon.react"),{alt:h._("__JHASH__QQ3bPqMSK7q__JHASH__").toString(),color:"web-always-white"})},[a])}function a(a){var b,e=a.attachment,f=a.attachmentItem,g=a.getPreviewImageUrlXMA;a=a.size;a=a===void 0?"large":a;b=(b=e.previewImageDecorationType)!=null?b:(j||(j=d("I64"))).zero;b=p(b);var h=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(e,!0),i=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:e,attachmentItem:f,getPreviewUrl:function(a,b){var c;return(c=h)!=null?c:g(a,b)},preferLargePreview:a==="large"}),k=null;switch(i.type){case"Video":var n=f.previewWidth!=null?(j||(j=d("I64"))).to_int32(f.previewWidth):0,q=f.previewHeight!=null?(j||(j=d("I64"))).to_int32(f.previewHeight):0;k=l.jsx(o,{attachment:e,attachmentItem:f,children:l.jsx(m,{fbid:f.attachmentFbid,isGif:e.shouldAutoplayVideo,originalHeight:q,originalWidth:n,sdSrc:i.url})});break;case"Image":k=l.jsxs("div",{className:"x1n2onr6",children:[b!=null&&a!=="small"?l.jsx("div",{className:"xds687c x1xr83ln xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x13vifvy x1vjfegm",children:b}):null,l.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemImage,{attachmentItem:f,url:i.url})]});break;case"Unsupported":k=null;break}return e.gatingTitle!=null&&e.gatingType!=null&&e.gatingTitle!==""&&e.gatingType!==""?l.jsx(c("IGDXMAFalseInformationAttachmentPreview.react"),{gatingLayoutType:e.gatingType,gatingTitleType:e.gatingTitle,children:k}):k}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={gridImage:{bottom:"x1ey2m1c",end:"xds687c",left:null,right:null,height:"x5yr21d",objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",{className:"x78zum5 x1a02dak x8182xy x1kgmq87",children:a.map(function(a){return i.jsx("li",{className:"x1yu6fn4",children:i.jsx("div",{className:"xqtp20y x12mruv9 xr9ek0c x1vrad04 x1n2onr6",children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=function(a){a=a.previewUrl;return a};function a(a){var b=a.attachmentItems;a=j(function(){return b.map(k).filter(Boolean)},[b]);return i.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentCard.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIgProfile.react","WAArmadilloXMA.pb","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={flattenTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.attachmentItems,g=a.connectBottom,h=a.connectTop,m=a.getFaviconUrlXMA,n=a.getHeaderImageUrlXMA,o=a.getPreviewImageUrlXMA,p=a.hasText,q=a.isReply,r=q===void 0?!1:q;q=a.outgoing;var s=b.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();a=b.xmaLayoutType;var t=a!=null?(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1;a=m==null?void 0:m(b,e);return k.jsx(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:!p&&h,outgoing:q,xstyle:[l.root,!t&&p?l.flattenTop:!1,r?l.reply:!1],children:k.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:b,attachmentItem:e,renderPressable:function(a){return k.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:e,isPrivatePost:s,isReply:r,isXMAExpired:t,children:a})},children:[k.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:b,attachmentItem:e,getHeaderImageUrlXMA:n}),k.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:[k.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:e,getPreviewImageUrlXMA:o,size:"large"}),f.length===6?k.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:f}):null]}),k.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:k.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:b,attachmentItem:e,favIconUrl:a})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentExpired.react",["IGDMessageContainerWithHighlightBar.react","IGDSText.react","polarisGetIGFormattedText","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(a){return a==null||a===""};function a(a){var b=a.attachment,d=a.formatText,e=a.message;a=a.outgoing;var f=b.subtitleText;b=b.titleText;var g=e.replySnippet;e=e.text;e=!j(e);d=j(f)?null:i.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!0,children:d?c("polarisGetIGFormattedText")((d=f)!=null?d:""):f})});f=d===null&&!j(g)?i.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:g})}):null;g=!e&&!j(b)?i.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:i.jsx(c("IGDSText.react"),{color:f?"secondaryText":"primaryText",size:"footnote",children:b})}):null;return i.jsx("div",{className:"x78zum5 xdt5ytf xl56j7k x21xpn4",children:i.jsxs(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!1,children:[f,g,d]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("attachmentToAttachmentItem",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}f["default"]=a}),66);
__d("IGDXMAAttachmentPlaceholder.react",["IGDSBox.react","IGDSText.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemPressable.react","attachmentToAttachmentItem","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{backgroundColor:"x19g9edo",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},titleWithMarginBottom:{marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=a.attachment;a=a.outgoing;var d=c("isStringNullOrEmpty")(b.subtitleText)?c("isStringNullOrEmpty")(b.captionBodyText)?null:b.captionBodyText:b.subtitleText;d=d!=null?i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:d}):null;var e=c("isStringNullOrEmpty")(b.titleText)?null:i.jsx(c("IGDSBox.react"),{xstyle:d!==null?j.titleWithMarginBottom:void 0,children:i.jsx(c("IGDSText.react"),{size:"body",children:b.titleText})});return e!==null||d!==null?i.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:c("attachmentToAttachmentItem")(b),children:i.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,outgoing:a,xstyle:j.container,children:[e,d]})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatEmoji.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.text;a=a.xstyle;if(b!=null)return j.jsx("span",{className:(h||(h=c("stylex")))(k.chatEmoji,a),children:b});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{end:"xb1pw9c",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{start:"x1oqdd6z",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingStart:"x1ye3gou",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingEnd:"xn6708d",textAlign:"xp4054r",$$css:!0}};function a(a){var b=a.isOverlay,d=a.outgoing;a=a.reaction;return a==null?null:j.jsx("div",{className:(h||(h=c("stylex")))(b?[k.overlayReaction,d?k.overlayReactionOutgoing:k.overlayReactionIncoming]:[d?k.reactionOutgoing:k.reactionIncoming]),children:j.jsx(c("IGDChatEmoji.react"),{text:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSHistoryOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M1.523 7.91a11.253 11.253 0 1 1 2.275 11.784",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),i.jsx("polyline",{fill:"none",points:"6.381 7.909 0.756 7.909 0.756 2.284",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),i.jsx("polyline",{fill:"none",points:"8.51 15.496 12.006 12 12.019 12.013 12.019 5.016",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDXMAStoryOnlyYouCanSee.react",["fbt","IGDSBox.react","IGDSHistoryOutline24Icon.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={container:{maxWidth:"xazcve0",paddingStart:"x1egjynq",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){return j.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:k.container,children:[j.jsx("div",{className:"xod5an3",children:j.jsx(c("IGDSHistoryOutline24Icon.react"),{alt:"Info",color:"ig-secondary-text",size:18})}),j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._("__JHASH__IfMML-M2h40__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useXMAPreviewIconDecorator.react",["fbt","IGDSBox.react","IGDSReelsFilledIcon.react","IGDSText.react","LSIntEnum","MNXMAPreviewImageDecorationType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={liveDecoration:{backgroundColor:"x13klbg6",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xxk0z11",width:"x187nhsf",$$css:!0}};function a(a){if(a==null)return null;a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a);switch(a){case c("MNXMAPreviewImageDecorationType").REEL:return k.jsx(c("IGDSReelsFilledIcon.react"),{alt:h._("__JHASH__2sHlT8vl0xv__JHASH__"),color:"web-always-white"});case c("MNXMAPreviewImageDecorationType").LIVE:return k.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",xstyle:l.liveDecoration,children:k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:h._("__JHASH__ceBReGZfsET__JHASH__")})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDXMAAttachmentPortrait.react",["I64","IGDSBox.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","IGDXMAAttachmentReactionItem.react","IGDXMAAttachmentUtil","IGDXMAStoryOnlyYouCanSee.react","LSIntEnum","LSReplyMessageAttachmentType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWPStableImage.react","MWVerticalRhythm","WAArmadilloXMA.pb","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={container:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},live:{width:"x1g6vzv9",$$css:!0},liveGradient:{backgroundImage:"x1xz74zx",$$css:!0},reel:{width:"xtqaf1t",$$css:!0},reelGradient:{backgroundImage:"x6m44yg",$$css:!0},scrim:{bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},story:{width:"xfj1xho",$$css:!0},storyGradient:{backgroundImage:"xu1rcjc",$$css:!0},storyInteraction:{width:"x1exxlbk",$$css:!0}};function a(a){var b=a.attachment,e=a.attachmentItem,f=a.connectBottom,g=a.connectTop,i=a.getHeaderImageUrlXMA,n=a.getPreviewImageUrlXMA,o=a.hasText,p=a.message;a=a.outgoing;var q=b.previewImageDecorationType,r=b.targetExpiryTimestampMs,s=q!=null?[(j||(j=d("I64"))).equal(q,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL)),(j||(j=d("I64"))).equal(q,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON)),(j||(j=d("I64"))).equal(q,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE))]:[!1,!1],t=s[0],u=s[1];s=s[2];q=c("useXMAPreviewIconDecorator.react")(q);var v=b.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),w=b.defaultCtaId!=null,x=d("IGDXMAAttachmentUtil").isEmojiReaction(p.text);x=x||!1;var y;u?y=o||x?m.storyInteraction:m.story:t?y=m.reel:s&&(y=m.live);var z=!(o||x),A=u&&p.replyAttachmentType==null,B=p.text;r=r!=null&&Date.now()>=(k||(k=d("LSIntEnum"))).toNumber(r);r=u&&r&&!a&&o;p=p.replySourceId!=null||!(p.replyMediaUrl!=null&&p.replyMediaPreviewWidth!=null&&p.replyMediaPreviewHeight!=null&&p.replyMediaUrlMimeType!=null&&p.replyMediaUrlMimeType==="image/gif"&&p.replyAttachmentType!=null&&(j||(j=d("I64"))).equal(p.replyAttachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))?null:l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsx(d("MWPStableImage.react").MWPStableImage,{alt:void 0,height:(j||(j=d("I64"))).to_float((o=p.replyMediaPreviewHeight)!=null?o:(j||(j=d("I64"))).zero),maxHeight:200,maxWidth:void 0,src:(o=p.replyMediaUrl)!=null?o:"",width:(j||(j=d("I64"))).to_float((o=p.replyMediaPreviewWidth)!=null?o:(j||(j=d("I64"))).zero)})]});return l.jsxs(c("IGDSBox.react"),{direction:"row",xstyle:m.container,children:[l.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:b,attachmentItem:e,renderPressable:function(a){return l.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:e,isPrivatePost:v,children:a})},children:[l.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:u&&x?!1:f,connectTop:g,outgoing:a,withHighlightBar:A,xstyle:y,children:[z?l.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:b,attachmentItem:e,getHeaderImageUrlXMA:i,overlayingMedia:!0}):null,l.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:e,getPreviewImageUrlXMA:n,size:"large"}),l.jsx("div",{className:"x1ey2m1c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:q}),z?l.jsx("div",{className:(h||(h=c("stylex")))(m.scrim,t?m.reelGradient:!1,u?m.storyGradient:!1,s?m.liveGradient:!1)}):null]}),x&&B!=null&&B!==""?l.jsx(c("IGDXMAAttachmentReactionItem.react"),{isOverlay:w,outgoing:a,reaction:B}):null,p]}),r?l.jsx(c("IGDXMAStoryOnlyYouCanSee.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseXMAAttachment.react",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react");function m(){return null}function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}function o(a,b,e,f){if(b.length!==0){c("recoverableViolation")("Unknown combination of XMA items and layout. Attachment Items: ("+String(b.length)+"), Layout: "+(a.xmaLayoutType==null?"na":(j||(j=d("I64"))).to_string(a.xmaLayoutType))+", Attachment Type: "+(j||(j=d("I64"))).to_string(a.attachmentType),"messenger_web_product");return e()}return f({attachmentItems:[],layoutType:"vertical",preview:n(a)})}function p(a,b,e,f){var g=a.xmaLayoutType,h=b.length;if(g==null)return o(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)))return f({layoutType:"expired"});if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PLACEHOLDER)))return f({layoutType:"placeholder"});if(h===1)return f({attachmentItems:b,layoutType:"vertical",preview:b[0]});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE))&&h===6||h===7?f({attachmentItems:b,layoutType:"vertical",preview:n(a)}):o(a,b,e,f)}function q(a,b,e,f){var g=a.xmaLayoutType;if(g==null)return p(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)))return f({attachmentItems:b,layoutType:"horizontal"});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER))?f({attachmentItem:b[0],layoutType:"centered"}):p(a,b,e,f)}function a(a){var b=a.attachment;a.connectBottom;a.connectTop;a.hasText;var e=a.renderLayout;a=a.renderUnsupportedXMAAttachment;a=a===void 0?m:a;var g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.attachment_items).getKeyRange(b.attachmentFbid)},[g,b.attachmentFbid],f.id+":236");return l.jsx("div",{className:"x16it46q",children:q(b,i,a,e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSInsertAnonymousTaskContext",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(311).add({taskId:a[0],projectName:a[1]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSAnonymizedIgdXMASingleItemReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("server_content_ref",a[1]),d[0].set("locale",a[2]),d[0].set("experiment_params",a[3]),d[1]=d[0].get("message_id"),d[0],d[4]=["LSMailboxAnonymizedIgdXMASingleItemReceiverFetchSyncAction",".",d[1]].join(""),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),d[4],c.i64.cast([0,60011]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_IgdReceiverFetch_FCI")}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIgdXMASingleItemReceiverFetchDispatch",["LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("server_content_ref",a[1]),d[0].set("locale",a[2]),d[0].set("experiment_params",a[3]),d[1]=d[0].get("message_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),["LSMailboxIgdXMASingleItemReceiverFetchSyncAction",".",d[1]].join(""),c.i64.cast([0,60010]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!0,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIgdXMADispatchSingleItemReceiverFetchBase",["LSAnonymizedIgdXMASingleItemReceiverFetchDispatch","LSIgdXMASingleItemReceiverFetchDispatch"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return!0===a[4]?c.storedProcedure(b("LSAnonymizedIgdXMASingleItemReceiverFetchDispatch"),a[0],a[1],a[2],a[3]):c.storedProcedure(b("LSIgdXMASingleItemReceiverFetchDispatch"),a[0],a[1],a[2],a[3])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("issueIGDReceiverFetchTask",["LSFactory","LSIgdXMADispatchSingleItemReceiverFetchBase","Promise","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,d,e,f,g){if(e==null)return(i||(i=b("Promise"))).resolve();(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(832772736,"2251"),{bool:{isReceiverFetchRetry:!f}},{instanceKey:g});return a.runInTransaction(function(a){return c("LSIgdXMADispatchSingleItemReceiverFetchBase")(d,e,"","",f,c("LSFactory")(a))},"readwrite")}function a(a,b,c,d){return j(a,b,c,!0,d)}function d(a,b,c,d){return j(a,b,c,!1,d)}g.issueIGDReceiverFetchTaskDeidentified=a;g.issueIGDReceiverFetchTaskIdentified=d}),98);
__d("useIssueIGDReceiverFetchTask",["FBLogger","IGDInstamadilloUtils","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MessengerWebUXLogger","PolarisAutomaticPreviewsDisabledContext.react","PolarisDismissEntry","QuickPerformanceLogger","Random","ReQL","asyncToGeneratorRuntime","cr:1562","cr:7275","issueIGDReceiverFetchTask","promiseDone","qex","qpl","react","useAsyncReStore","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=e.useState;function n(){return d("PolarisDismissEntry").isInstamadilloNuxDismissed(d("PolarisDismissEntry").IGD_INSTAMADILLO_STORY_PREVIEW_TYPE)}function a(a,e,f){var g=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDXMAPreviewNUXModal.react").__setRef("useIssueIGDReceiverFetchTask")),i=g[0],o=d("PolarisAutomaticPreviewsDisabledContext.react").usePolarisAutomaticPreviewsDisabledContext();g=m(!1);var p=g[0],q=g[1],r=c("useAsyncReStore")(),s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),u=k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads)));var b=a?d("LSMessagingThreadTypeUtil").isSecure(a.threadType):!1;a=d("IGDInstamadilloUtils").isInstamadilloCutover(a);s==null?void 0:s({eventName:"igd_previews_popup_dismiss",extraData:{is_secure:String(b),is_tlc_cutover:String(a)},flowInstanceId:t})});return function(b){return a.apply(this,arguments)}}(),"readwrite")}),[t,s]),v=k(function(){var a,b=c("qex")._("662")===!0,g=o==null||Boolean(o.current)===!0;a=JSON.parse((a=e)!=null?a:"");a=a.__typename==="XMSGIgReceiverFetchXmaStoryFetchParams";b&&!g&&a&&!n()&&i({logCloseModal:function(){return c("promiseDone")(u())},messageThreadKey:f});d("PolarisDismissEntry").setInstamadilloNuxSessionTimes(d("PolarisDismissEntry").IGD_INSTAMADILLO_STORY_PREVIEW_TYPE)},[o,e,i,f,u]),w=d("Random").uint32();l(function(){p&&v()},[p,v]);l(function(){if(e==null)return;var f=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=o==null||Boolean(o.current)===!0;if(c){yield b("cr:1562")==null?void 0:b("cr:1562").renderDefaultPreview(a,e);return}p||(q(!0),yield b("cr:7275")==null?void 0:b("cr:7275").init(w));c=(yield r);yield d("issueIGDReceiverFetchTask").issueIGDReceiverFetchTaskDeidentified(c,a,e,w)});return function(){return c.apply(this,arguments)}}();c("promiseDone")(f(),null,function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(832772736,"2251"),3,w),c("FBLogger")("igd_web_on_msgr").catching(a).warn("Failed to issue receiver fetch task for message on mount")})},[o,a,e,p,v,r,w])}g["default"]=a}),98);
__d("IGDXMAAttachment.react",["I64","IGDPlaceholderMessage.react","IGDXMAAttachmentCard.react","IGDXMAAttachmentExpired.react","IGDXMAAttachmentPlaceholder.react","IGDXMAAttachmentPortrait.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachment.react","cr:2021","react","useIssueIGDReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.formatText,l=h===void 0?!1:h,m=a.getFaviconUrlXMA,n=a.getHeaderImageUrlXMA,o=a.getPreviewImageUrlXMA;h=a.hasText;var p=h===void 0?!1:h;h=a.isReply;var q=h===void 0?!1:h,r=a.message,s=a.outgoing;c("useIssueIGDReceiverFetchTask")(r.messageId,r.xmaReceiverFetchParams,r.threadKey);return k.jsx(c("MWPBaseXMAAttachment.react"),{attachment:e,connectBottom:f,connectTop:g,hasText:p,renderLayout:function(a){switch(a.layoutType){case"vertical":var h=a.attachmentItems,t=a.preview;h=h.filter(function(a){return a.previewUrl!=null});var u=e.xmaLayoutType;return u!=null&&(i||(i=d("I64"))).equal(u,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))?k.jsx(c("IGDXMAAttachmentPortrait.react"),{attachment:e,attachmentItem:t,connectBottom:f,connectTop:g,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:p,message:r,outgoing:s}):k.jsx(c("IGDXMAAttachmentCard.react"),{attachment:e,attachmentItem:t,attachmentItems:h,connectBottom:f,connectTop:g,getFaviconUrlXMA:m,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:p,isReply:q,outgoing:s});case"centered":if(a.attachmentItem!=null&&b("cr:2021")!=null)return k.jsx(b("cr:2021"),{attachment:e,attachmentItem:a.attachmentItem,connectBottom:f,connectTop:g,getFaviconUrlXMA:m,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,outgoing:s});break;case"expired":return k.jsx(c("IGDXMAAttachmentExpired.react"),{attachment:e,formatText:l,message:r,outgoing:s});case"placeholder":return k.jsx(c("IGDXMAAttachmentPlaceholder.react"),{attachment:e,outgoing:s})}},renderUnsupportedXMAAttachment:function(){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:s})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("MWPMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageListColumn.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:"x1jwls1v",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var b=a.bubble,c=a.centered,e=a.children,f=a.grow,g=a.justifyContent,h=a.paint,k=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.root,f===!0?j.grow:!1,m===!0?j.shrinkwrap:!1,h===!0?j.paint:!1,k===!0?j.profile:!1,a===!0?j.withGutters:!1,b===!0?j.bubble:!1,c===!0?j.centered:!1,l===!0?j.selfCentered:!1,g==="flex-start"?j.justifyContentStart:!1],children:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return i.jsx(k,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function c(a){var b=a.centered,c=a.children;a=a.paint;return i.jsx(k,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}c.displayName=c.name+" [from "+f.id+"]";function e(a){a=a.children;return i.jsx(k,{grow:!0,paint:!0,children:a})}e.displayName=e.name+" [from "+f.id+"]";function l(a){a=a.children;return i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children;a=a.paint;return i.jsx(k,{bubble:!0,paint:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";function n(){return i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.height;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,j.customHeight(a)]})}o.displayName=o.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=c;g.MWPMessageListColumnGrow=e;g.MWPMessageListColumnGrowJustified=l;g.MWPMessageListColumnBubble=m;g.MWPMessageListColumnHorizontalSpacer=n;g.MWPMessageListColumnVerticalRhythm=o}),98);
__d("MWPMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.message;a.outgoing;var g=a.paint;g=g===void 0?!0:g;var h=a.renderEmphasisRing;a=a.xmaLayout;var k=c("MWPMessageHasXMA")(f),l=c("MWPMessageIsReply")(f),m=c("MWPMessageWithAttachmentHasPoll")(f);f=f.text;f=f!=null?f!=="":!1;m=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k?j.container_for_xma:!1,m?j.container_for_poll:!1],children:b});return i.jsxs(i.Fragment,{children:[e&&(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!k||!f)?i.jsx(d("react-strict-dom").html.div,{style:j.vr}):null,i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!l&&g,children:h!=null?h(k,m):m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPGetAttachmentCTA",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){var c;return d("ReQL").fromTableAscending(b.table("attachment_ctas")).getKeyRange((c=a)!=null?c:(h||(h=d("I64"))).zero)},[b,a],f.id+":23")}g["default"]=a}),98);
__d("useMWPGetAttachments",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":24").sort(function(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","MessagingAttachmentType","gkx","react","useMWPGetAttachmentCTA","useMWPGetAttachments","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.message,g=a.renderAudioAttachment,h=a.renderEmphasisRing,m=a.renderEphemeralMediaAttachment,n=a.renderFileAttachment,o=a.renderImageAttachment,p=a.renderImageGrid,q=a.renderStickerAttachment,r=a.renderUnsupportedAttachment,s=a.renderUnsupportedMultipleAttachments,t=a.renderVideoAttachment,u=a.renderWrapper,v=a.renderXMAAttachment;a=a.xmaLayout;var w=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,x=c("useMWPGetAttachments")(f);a=c("useMWPGetAttachmentCTA")(x.length>0?x[0].attachmentCta1Id:null);var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.blurMediaEnabled;y=c("gkx")("24098")&&y;if(f.replyType!=null&&(i||(i=d("I64"))).equal(f.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP)))return null;if(x.length!==1)x.length>1&&x.every(l)?y?y=x.map(function(a,b){return k.jsxs(k.Fragment,{children:[b!==0?k.jsx(c("MWVerticalRhythm"),{height:2}):null,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:o(a,b!==0,b!==x.length-1,r)})]},a.attachmentFbid)}):y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,renderEmphasisRing:h,xmaLayout:w,children:p(x)}):y=s!=null?s(x):void 0;else{p=x[0];s=p.attachmentType;s=!(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));var z=p.attachmentType;y=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:f,paint:s,renderEmphasisRing:h,xmaLayout:w,children:(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?o(p,e,b,r):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?t(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?g(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?q(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?v(p,a):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?n(p):(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(z,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?m(p):r(p)})}return y!=null?u!=null?u(y):y:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 xgx9qek x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1iorvi4 x150jy0e xjkvuk6 x1e558r4",children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["CometImageCover.react","MWChatFileIconV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName;a=a.withPreview;b=(b=b)!=null?b:{};b=b.previewUrl;return b==null||!a?i.jsx("div",{className:"x1ye3gou",children:i.jsx(c("MWChatFileIconV2.react"),{})}):i.jsx(c("CometImageCover.react"),{alt:(a=d)!=null?a:"",src:b,style:j.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}var j=c("gkx")("24035");function k(a,b){if(j){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}}function e(a){return k("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null?void 0:f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.table("threads")).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.table("attachments")).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.messageID,g=a.onPress,h=a.url;a=a.xstyle;return f!=null&&f.type==="sent"&&b!=null&&h!=null?i.jsx(j,{attachmentID:b,children:c,entryPoint:e,onPress:g,sentMessage:f.value,url:h,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:g,url:h,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=a.attachmentID,e=a.children,f=a.entryPoint,g=a.onPress,h=a.sentMessage,j=a.url;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();h=c("useMWFileOnPress")(h,b,g,f,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("rpp_file_viewer","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(j);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:e,onPress:h,url:j,xstyle:a})})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoSharedContentQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){h.contents=!0,c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:"side_panel_"+a}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a){case"media":b="open_tab_media";break;case"files":b="open_tab_files";break;case"links":b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a){case"media":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case"files":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case"links":c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a){case"media":b="media";break;case"files":b="file";break;case"links":b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});if(a==="links"){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._("__JHASH__eMlnaQRXRvN__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__3UzqYHovNJr__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH___CyxwP2Ni02__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__B5cUSs7YWey__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__7EGP9din_0A__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__ghfLx6_Ho7n__JHASH__",[h._param("value",a,[0])])},function(a){return h._("__JHASH__osT4Py2kL4R__JHASH__",[h._param("value",a,[0])])}],j=0;function a(a,b){b===void 0&&(b=1024);if(a==null)return null;if(a===0)return i[j](0);var c=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,c);a=Math.round(a*100)/100;return i[c](a)}g["default"]=a}),226);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWInboxInfoSharedContentQPLLogger","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=m(function(){var a=b.filename;if(a!=null)return a;else return h._("__JHASH__uiTAWyhPCWI__JHASH__")},[b]);var f=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),g=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_comet")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),onPress:function(){return d("MWInboxInfoSharedContentQPLLogger").logOpenSharedContentFromThread("files")},url:g==null?void 0:g.toString(),children:l.jsxs("div",{className:(i||(i=c("stylex")))(n.root,!1),"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xn6708d xsag5q8 x1ye3gou x13faqbe",children:[l.jsx(c("MDSTextPairing.react"),{headline:a,headlineLineLimit:3,level:4}),l.jsx("div",{className:"x889kno",children:l.jsx(c("MDSTextPairing.react"),{body:f,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDAttachment.react",["EphemeralMediaViewMode","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDBroadcastChannelLoggerUtils","IGDChatImage.react","IGDChatVideo.react","IGDEphemeralButton.react","IGDMessageContainerWithHighlightBar.react","IGDMessageContentNoLongerAvailablePlaceholder.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWPMessageListAttachment.react","MWPSolidMessageBubble.react","MWV2ChatFileV2.react","MessagingAttachmentType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useCallback;function a(a){var b=a.connectBottom,e=a.connectTop,f=a.formatText,g=a.hasText,h=a.message,m=a.outgoing,n=l(function(a){return d("LSMediaUrlAttachment").headerImageUrl(a)},[]),o=l(function(a,b){return d("LSMediaUrlAttachment").previewUrl(a)},[]),p=l(function(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:void 0},[]),q=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(h.threadKey);return k.jsx(c("MWPMessageListAttachment.react"),{connectBottom:b,connectTop:e,message:h,renderAudioAttachment:function(a){return k.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,outgoing:m})},renderEphemeralMediaAttachment:function(a){if(a.ephemeralMediaViewMode){var f=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.ephemeralMediaViewMode);switch(f){case c("EphemeralMediaViewMode").PERMANENT:if(a.igStoryReplyType==="story_selfie_reply")return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:b,connectTop:e,outgoing:m});return(j||(j=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:e,message:h,outgoing:m}):k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:b,connectTop:e,message:h,outgoing:m});case c("EphemeralMediaViewMode").READ_ONCE:case c("EphemeralMediaViewMode").REPLAYABLE:return k.jsx(c("IGDEphemeralButton.react"),{attachment:a,connectBottom:b,connectTop:e,outgoing:m})}}return null},renderFileAttachment:function(a){return k.jsx(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:e,outgoing:m,style:{backgroundColor:"var(--comment-background)"},children:k.jsx(c("MWV2ChatFileV2.react"),{attachment:a})})},renderImageAttachment:function(a,b,d){return k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:d,connectTop:b,message:h,outgoing:m})},renderImageGrid:function(a){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:b,connectTop:e,outgoing:m})},renderStickerAttachment:function(a){return k.jsx(c("IGDSticker.react"),{attachment:a})},renderUnsupportedAttachment:function(a){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:b,connectTop:e,outgoing:m})},renderUnsupportedMultipleAttachments:function(a){var f=h.displayedContentTypes;return a.length===0&&!!(j||(j=d("I64"))).equal(f,(j||(j=d("I64"))).zero)?k.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:m,withMarginBottom:!1,children:k.jsx(c("IGDMessageContentNoLongerAvailablePlaceholder.react"),{message:h.replySnippet!=null?h:void 0})}):k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:b,connectTop:e,outgoing:m})},renderVideoAttachment:function(a){return k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:e,message:h,outgoing:m})},renderXMAAttachment:function(a,i){if(d("IGDAttachmentUtil").isUnsupportedXma(a,i)||d("IGDAttachmentUtil").isIGDPoll(a)&&!q)return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:b,connectTop:e,outgoing:m});else if(a.playableUrlMimeType==="image/gif")return k.jsx(c("IGDSticker.react"),{attachment:a});else return k.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:b,connectTop:e,formatText:f,getFaviconUrlXMA:p,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:g,message:h,outgoing:m})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSCallPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M18.227 22.912c-4.913 0-9.286-3.627-11.486-5.828C4.486 14.83.731 10.291.921 5.231a3.289 3.289 0 0 1 .908-2.138 17.116 17.116 0 0 1 1.865-1.71 2.307 2.307 0 0 1 3.004.174 13.283 13.283 0 0 1 3.658 5.325 2.551 2.551 0 0 1-.19 1.941l-.455.853a.463.463 0 0 0-.024.387 7.57 7.57 0 0 0 4.077 4.075.455.455 0 0 0 .386-.024l.853-.455a2.548 2.548 0 0 1 1.94-.19 13.278 13.278 0 0 1 5.326 3.658 2.309 2.309 0 0 1 .174 3.003 17.319 17.319 0 0 1-1.71 1.866 3.29 3.29 0 0 1-2.138.91 10.27 10.27 0 0 1-.368.006Zm-13.144-20a.27.27 0 0 0-.167.054A15.121 15.121 0 0 0 3.28 4.47a1.289 1.289 0 0 0-.36.836c-.161 4.301 3.21 8.34 5.235 10.364s6.06 5.403 10.366 5.236a1.284 1.284 0 0 0 .835-.36 15.217 15.217 0 0 0 1.504-1.637.324.324 0 0 0-.047-.41 11.62 11.62 0 0 0-4.457-3.119.545.545 0 0 0-.411.044l-.854.455a2.452 2.452 0 0 1-2.071.116 9.571 9.571 0 0 1-5.189-5.188 2.457 2.457 0 0 1 .115-2.071l.456-.855a.544.544 0 0 0 .043-.41 11.629 11.629 0 0 0-3.118-4.458.36.36 0 0 0-.244-.1Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal",[],(function(a,b,c,d,e,f){"use strict";function a(){return function(a){a({type:"DIRECT_VERIFIED_USER_CALLING_NOT_ENABLED_MODAL_OPEN"})}}f.openVerifiedUserCallingNotEnabledModal=a}),66);
__d("PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){b({type:"DIRECT_VERIFIED_USER_CALLING_NOT_FOLLOWING_MODAL_OPEN",username:a})}}f.openVerifiedUserCallingNotFollowingModal=a}),66);
__d("IGDCallButton.react",["FBLogger","I64","IGDInstamadilloUtils","IGDSCallPanoOutline24Icon.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","MWPActor.react","MessengerWebUXLogger","PolarisAPIRetrieveUserCallSettings","PolarisCallNavigator","PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal","PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal","PolarisDirectLogger","PolarisDirectStrings","PolarisInstapi","PolarisReactRedux.react","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","asyncToGeneratorRuntime","cr:1009","gkx","promiseDone","react","requireDeferred","useIGDIsE2EECallingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react"),m=c("requireDeferred")("MWLogSend").__setRef("IGDCallButton.react");function n(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.ig_thread_info).getKeyRange(a).map(function(a){return a.igThreadId})},[b,a],f.id+":80")}function o(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,e)}),d("ReQL").fromTableAscending(b.tables.ig_contact_info)).map(function(a){a[0];a=a[1];return a})},[b,e,a],f.id+":92")}function p(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a).map(function(a){a=a.name;return a})},[b,a],f.id+":112")}function q(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a).map(function(a){return a.jid})},[b,a],f.id+":123")}var r=-1;function a(a){var e,g=a.isVideo,k=a.threadKey,s=a.threadType,t=d("MWPActor.react").useActor(),u=(h||(h=c("useReStore")))(),v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.tables.threads).getKeyRange(k)},[u.tables.threads,k],f.id+":144");a=c("useIGDIsE2EECallingEnabled")(k);var w=n(k),x=q(k),y=(e=o(k))!=null?e:[];e=(e=y[0])!=null?e:{};var z=e.contactId,A=e.igId,B=p((e=z)!=null?e:(i||(i=d("I64"))).of_int32(r)),C=b("cr:1009")==null?void 0:b("cr:1009").useStartCallCallback(),D=d("PolarisReactRedux.react").useDispatch(),E=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),F=c("MessengerWebUXLogger").useInteractionLogger();e=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"start_video_chat_button_impression"});var G=a,H=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(v),b=d("IGDInstamadilloUtils").isInstamadilloCutover(v),e=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(v),f=v?d("LSMessagingThreadTypeUtil").isSecure(v.threadType):!1,h=a?1:0;F==null?void 0:F({eventName:g?"start_video_chat":"start_audio_call",extraData:{is_dm:String(e),is_instamadillo:String(a),is_instamadillo_tlc:String(b),is_secure:String(f)},flowInstanceId:E});m.onReady(function(a){return a.log({actor:t,attachmentFbids:[],attachmentType:g?10:11,backend:h,hasReply:!1,sendType:0,source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").INSTAGRAM_WEB_SENDS),threadKey:k,threadType:s})});if(c("gkx")("24007")){if(A==null||s==null||(i||(i=d("I64"))).to_int32(s)!==1||c("gkx")("24008")!==!0)return;e=d("PolarisInstapi").apiGet("/api/v1/friendships/show/{target_user_id}/",{path:{target_user_id:A}});a=(yield d("PolarisAPIRetrieveUserCallSettings").retrieveUserCallSettings()).setting_type;if(a!=="people_you_follow"){D(d("PolarisDirectActionOpenVerifiedUserCallingNotEnabledModal").openVerifiedUserCallingNotEnabledModal());return}if((yield e).data.following!==!0){if(B==null){c("FBLogger")("ig_web").mustfix("Unable to open modal - username is null");return}D(d("PolarisDirectActionOpenVerifiedUserCallingNotFollowingModal").openVerifiedUserCallingNotFollowingModal(B));return}}d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_click",{has_video:g,ig_thread_id:w});G&&C?c("promiseDone")(C({existingCall:null,extra:{igThreadId:w},invitees:y.filter(Boolean).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)}),isE2eeMandated:G,mediaType:g?"video":"audio",thread:{e2eeThreadID:x!=null?(i||(i=d("I64"))).to_string(x):void 0,id:(i||(i=d("I64"))).to_string(k),secureOneToOneThreadPeerId:(i||(i=d("I64"))).to_int32(s)===15&&z!=null?(i||(i=d("I64"))).to_string(z):void 0,type:(j||(j=d("LSIntEnum"))).unwrapIntEnum(s)},trigger:g?"direct_armadillo_start_video_call":"direct_armadillo_start_audio_call"})):w!=null?d("PolarisCallNavigator").launchCall(w,g):c("FBLogger")("ig_web").mustfix("Unable to initiate call - missing thread id")}),[t,z,A,D,x,E,G,g,F,y,C,v,w,k,s,B]);return a&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("24009"))?null:l.jsx(c("IGDSIconButton.react"),{innerRef:e,onClick:H,children:g?l.jsx(c("IGDSVideoChatPanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").VIDEO_CALL_STRING,color:"ig-primary-text"}):l.jsx(c("IGDSCallPanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").AUDIO_CALL_STRING,color:"ig-primary-text"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3*60,j=i*60;function k(a,b){return a+b>=d("ServerTime").getMillis()}function l(a,b){var c=new Date(d("ServerTime").getMillis());c.setDate(c.getDate()-b);b=new Date(a);if(c.getDay()===b.getDay()&&c.getMonth()===b.getMonth())return c.getFullYear()===b.getFullYear();else return!1}function a(a){if(k(a,i))return h._("__JHASH__yCT-6TTQLoe__JHASH__");else if(k(a,i*59))return h._("__JHASH__O4B4eMqb3mU__JHASH__",[h._param("mins",Math.floor((d("ServerTime").getMillis()-a)/i).toString())]);else if(k(a,j*23))return h._("__JHASH__398KkN5HDjO__JHASH__",[h._param("hours",Math.floor((d("ServerTime").getMillis()-a)/j).toString())]);else if(l(a,0))return h._("__JHASH__iw8t4iQWjoj__JHASH__");else if(l(a,1))return h._("__JHASH__dzU1Cfcfr8H__JHASH__");else return}g["default"]=a}),226);
__d("DirectRequestsThreadAllowFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsThreadAllowFalcoEvent").__setRef("DirectRequestsThreadAllowFalcoEventDeferred");function a(a){var b=a.folder,c=a.is_interop,d=a.is_spam,e=a.is_unread;h.onReady(function(a){return a.log(function(){return{folder:b,is_interop:c,is_spam:d,is_unread:e}})})}g.logDirectRequestsThreadAllowFalcoEvent=a}),98);
__d("IGDAcceptOpenMessageRequestLogger",["DirectRequestsThreadAllowFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e)));b!=null&&d("DirectRequestsThreadAllowFalcoEventDeferred").logDirectRequestsThreadAllowFalcoEvent({folder:b.igFolder!=null?(h||(h=d("I64"))).to_string(b.igFolder):void 0,is_interop:!1,is_spam:(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3)),is_unread:d("MWPIsThreadUnread").isThreadUnread(b)})})())}g.logAcceptOpenMessageRequest=a}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g;g=(g=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,f)}))))!=null?g:[void 0,void 0];g[0];g=g[1];if(g==null)return;var i=babelHelpers["extends"]({},g,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([g.id],i);d("LSMessagingThreadTypeUtil").isSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:g.id}))});return function(a){return g.apply(this,arguments)}}(),"readwrite"))}g.call=a}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite"))},[b,a])}g["default"]=a}),98);
__d("IGDAcceptOpenMessageRequestComposerBannerButton.react",["fbt","I64","IGDAcceptOpenMessageRequestLogger","IGDInstamadilloUtils","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWPActor.react","MessengerWebUXLogger","react","useMWLSAcceptMessageRequest","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var b=a.thread,e=(i||(i=c("useReStore")))(),f=d("MWPActor.react").useActor();a=b.threadKey;var g=c("useMWLSAcceptMessageRequest")(a),k=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("Int64Hooks").useCallbackInt64(function(){g();d("IGDAcceptOpenMessageRequestLogger").logAcceptOpenMessageRequest(e,b.threadKey);d("MAWOptimisticUpdateContactRelationship").call(b,e,f);var a=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(b),c=d("LSMessagingThreadTypeUtil").isSecure(b.threadType),h=d("IGDInstamadilloUtils").isInstamadilloCutover(b),i=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(b),l=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(b);k==null?void 0:k({eventName:"accept_chat_request",extraData:{is_dm:String(i),is_instamadillo:String(a),is_instamadillo_tlc:String(h),is_request:String(l),is_secure:String(c),target_id:(j||(j=d("I64"))).to_string(b.threadKey)},flowInstanceId:m})},[g,f,e,m,k,b]);return l.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:h._("__JHASH__oHArC5ZUIpE__JHASH__"),onClick:a,role:"button",variant:"secondary_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDBlockUserComposerBannerButton.react",["fbt","FBLogger","I64","IGDInstamadilloUtils","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MessageRequestsLog","MessengerWebUXLogger","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var e=a.contact,f=a.thread,g=c("useAsyncReStore")();a=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDBlockUserComposerBannerButton.react"));var i=a[0],l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("Int64Hooks").useCallbackInt64(function(){var a=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),h=d("LSMessagingThreadTypeUtil").isGroup(f.threadType),k=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(f),n=d("IGDInstamadilloUtils").isInstamadilloCutover(f),o=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(f),p=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f);i({clickPoint:"composer_banner",contactID:e.id,isBlocked:!1,isGroup:h,isSecure:a,onBlock:function(){a&&c("promiseDone")(g.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("MessageRequestsLog").logActionConfirmed(a,2,(j||(j=d("I64"))).to_string(e.id)):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()))},threadKey:f.threadKey,userName:e.name},function(){});a&&c("promiseDone")(g.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("MessageRequestsLog").logActionTapped(a,2,(j||(j=d("I64"))).to_string(e.id)):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()));l==null?void 0:l({eventName:"block_profile_attempt",extraData:{is_dm:String(o),is_instamadillo:String(k),is_instamadillo_tlc:String(n),is_request:String(p),is_secure:String(a),target_id:(j||(j=d("I64"))).to_string(e.id)},flowInstanceId:m})},[e.id,e.name,g,m,l,i,f]);return k.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:h._("__JHASH__GGqnVjf_Hbb__JHASH__"),onClick:a,role:"button",variant:"destructive_link_deprecated"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDDeleteThreadComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.onDelete,d=a.thread,e=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDChatSettingsDeleteThreadDialog.react").__setRef("IGDDeleteThreadComposerBannerButton.react")),f=e[0];e=k(function(){var c;c=(c=a.onClick)!=null?c:function(){};f({onDelete:b,thread:d},function(){});return c()},[b,a.onClick,f,d]);return j.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:h._("__JHASH__O5M5LG37TOs__JHASH__"),onClick:e,role:"button",variant:"destructive_link_deprecated"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function a(a){var b=a.messageRequestAccept,d=a.messageRequestBlockLeave,e=a.messageRequestDelete,f=a.messageRequestFootnote;a=a.messageRequestHeader;return i.jsxs("div",{className:"x5ur3kl x13fuv20 x178xt8z",children:[i.jsxs(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:j.header,children:[i.jsx(c("CometColumnItem.react"),{align:"center",children:a}),i.jsx(c("CometColumnItem.react"),{align:"center",paddingTop:12,children:f})]}),i.jsxs("ul",{className:"x6s0dn4 x78zum5 xyamay9 x1pi30zi x1l90r2v x1swvt13",children:[i.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:d}),i.jsx("li",{"aria-hidden":!0,className:"xopu45v xu3j5b3 xm81vs4 x1c4vz4f xs83m0k xxk0z11"}),i.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:e}),b!=null?i.jsxs(i.Fragment,{children:[i.jsx("li",{"aria-hidden":!0,className:"xopu45v xu3j5b3 xm81vs4 x1c4vz4f xs83m0k xxk0z11"}),i.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:b})]}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDUnblockUserComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","LSMessagingThreadTypeUtil","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){var b=a.contact,e=a.thread,f=d("LSMessagingThreadTypeUtil").isSecure(e.threadType),g=d("LSMessagingThreadTypeUtil").isGroup(e.threadType);a=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDUnblockUserComposerBannerButton.react"));var i=a[0];a=k(function(){i({clickPoint:"composer_banner",contactID:b.id,isBlocked:!0,isGroup:g,isSecure:f,onBlock:function(){},threadKey:e.threadKey,userName:b.name},function(){})},[b.id,b.name,g,f,i,e.threadKey]);return j.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:h._("__JHASH__x-pum3PzC44__JHASH__"),onClick:a,role:"button",variant:"secondary_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDBlockedUserComposer.react",["fbt","IGDDeleteOpenThread","IGDDeleteSecureThread","IGDDeleteThreadComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDSText.react","IGDUnblockUserComposerBannerButton.react","Int64Hooks","LSMessagingThreadTypeUtil","MWPBumpEntityKey","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback;function m(a){a=a.thread;var b=a,e=(i||(i=c("useReStore")))(),f=d("LSMessagingThreadTypeUtil").isSecure(b.threadType);a=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(f?d("IGDDeleteSecureThread").deleteSecureThread(e,b.threadKey):d("IGDDeleteOpenThread").deleteOpenThread(e,b.threadKey))},[e,f,b.threadKey]);var g=l(function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_blocked","delete_thread")},[]);return k.jsx(c("IGDDeleteThreadComposerBannerButton.react"),{onClick:g,onDelete:a,thread:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.contact;a=a.thread;var d=b.secondaryName!=null?b.secondaryName:b.name,e=h._("__JHASH__W0Exlzwgehy__JHASH__");d=h._("__JHASH__puvVrZ7OcmR__JHASH__",[h._param("user_name",d)]);return k.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:null,messageRequestBlockLeave:k.jsx(c("IGDUnblockUserComposerBannerButton.react"),{contact:b,thread:a}),messageRequestDelete:k.jsx(m,{thread:a}),messageRequestFootnote:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:d}),messageRequestHeader:k.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",weight:"normal",children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDComposerAttachmentButton.react",["fbt","CometFileSelector.react","IGDInstamadilloUtils","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useCallback,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function n(a){return l(function(b){b=Array.from(b);if(b.length>0)return a(b)},[a])}function a(a){a.disabled;var b=a.multiple;b=b===void 0?!0:b;var e=a.onAttachmentsAdded,g=a.supportedFileTypes,j=a.threadKey,l=(i||(i=c("useReStore")))(),o=d("MWPActor.react").useActor();a=n(e);e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.tables.threads).getKeyRange(j)},[l,j],f.id+":65");var p=d("IGDInstamadilloUtils").isInstamadilloCutover(e),q=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(e),r=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(e),s=e?d("LSMessagingThreadTypeUtil").isSecure(e.threadType):null,t=c("MessengerWebUXLogger").useInteractionLogger(),u=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();return k.jsx(c("CometFileSelector.react"),{accept:g,multiple:b,onFilesSelected:a,children:function(a){return k.jsx(c("IGDSIconButton.react"),{onClick:function(){t==null?void 0:t({eventName:"composer_open_file_picker",extraData:{is_dm:String(r),is_instamadillo:String(q),is_instamadillo_tlc:String(p),is_secure:String(s)},flowInstanceId:u}),a(),m.onReady(function(a){return c("promiseDone")(a.log(l,void 0,j,"composer","attach",void 0,void 0,void 0,void 0,"image",o))})},children:k.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:h._("__JHASH__ffgxgUxbaWG__JHASH__"),color:"ig-primary-text"})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDAddEmojiToComposerForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.focus(function(){b.update(function(){var b=String.fromCodePoint.apply(String,a);b=d("Lexical").$createTextNode(b);d("Lexical").$insertNodes([b])})})}g["default"]=a}),98);
__d("IGDComposerEmojiButton.react",["fbt","CometPopoverLoadingState.react","IGDAddEmojiToComposerForLexical","IGDInstamadilloUtils","IGDSFace2OutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSMessagingThreadTypeUtil","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={button:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}},m=c("JSResourceForInteraction")("IGDComposerEmojiPicker.react").__setRef("IGDComposerEmojiButton.react");function a(a){var b=a.editor,e=a.threadKey,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(e)},[g,e],f.id+":54");var j=d("IGDInstamadilloUtils").isInstamadilloCutover(a),n=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),o=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),p=d("LSMessagingThreadTypeUtil").isSecure(e),q=h._("__JHASH__VkhGNWsM0xI__JHASH__").toString();a=function(a){c("IGDAddEmojiToComposerForLexical")(a,b)};var r=c("MessengerWebUXLogger").useInteractionLogger(),s=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();return k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:k.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{onSelect:a,showPopoverArrow:!0,threadKey:e},popoverResource:m,position:"above",children:function(a,b){return k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:a,onClick:function(){b(),r==null?void 0:r({eventName:"composer_open_emoji_picker",extraData:{is_dm:String(o),is_instamadillo:String(n),is_instamadillo_tlc:String(j),is_secure:String(p)},flowInstanceId:s})},xstyle:l.button,children:k.jsx(c("IGDSFace2OutlineIcon.react"),{alt:q,color:"ig-primary-text"})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSMediaPanoOutlineIcon.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDComposerMediaStaging.react",["fbt","CometFileSelector.react","CometImage.react","CometImageCover.react","I64","IGDSCircleXOutlineIcon.react","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","LSIntEnum","MWMediaManager","MessagingAttachmentType","react","stylex","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useCallback,o={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",marginTop:"xr9ek0c",marginEnd:"xq8finb",marginBottom:"xzueoph",marginStart:"x1mh8g0r",position:"x1n2onr6",width:"x1useyqa",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xsdox4t",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x1useyqa",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xsdox4t",justifyContent:"xl56j7k",marginEnd:"xq8finb",marginLeft:null,marginRight:null,position:"x1n2onr6",width:"x1useyqa",$$css:!0}},p=h._("__JHASH__luYLgOAOqD8__JHASH__"),q=h._("__JHASH__Ucpbsp424i9__JHASH__"),r=h._("__JHASH__S0T9GbUzGf-__JHASH__"),s=h._("__JHASH__tFATIgp0gLR__JHASH__");function t(a){return n(function(b){b=Array.from(b);b.length>0&&a(b)},[a])}function u(a){var b=a.multiple;b=b===void 0?!0:b;var d=a.onAttachmentsAdded;a=a.supportedFileTypes;d=t(d);return m.jsx(c("CometFileSelector.react"),{accept:a,multiple:b,onFilesSelected:d,children:function(a){return m.jsx(c("IGDSIconButton.react"),{onClick:a,xstyle:o.root,children:m.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:q,color:"ig-primary-text"})})}})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.onPress;return m.jsx("div",{className:"x11xbgvx x10l6tqk xu5yr9u",children:m.jsx(c("IGDSIconButton.react"),{onClick:a,children:m.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:p,color:"ig-primary-text",size:18})})})}v.displayName=v.name+" [from "+f.id+"]";var w=function(a){return a.mimeType==="image/gif"||a.mimeType==="image/webp"};function x(a){a=a.mediaStagingItem;var b=a.attachmentType,e=a.previewUrl||"";if(w(a)){if(e!==null)return m.jsx(c("CometImageCover.react"),{alt:r,src:e})}else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){if(e!==null)return m.jsxs(m.Fragment,{children:[m.jsx("video",{className:"xl1xv1r",height:"48",src:e,width:"48"}),m.jsx("div",{className:"x16hk5td x7wgvq7 x10l6tqk xtzzx4i xwa60dl",children:m.jsx(c("CometImage.react"),{src:"/images/video/play_24dp.png"})})]})}else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))){if(e!==null)return m.jsx(c("CometImageCover.react"),{alt:"",src:e})}else return m.jsxs("div",{className:"x6s0dn4 x78zum5 xurb0ha x1sxyh0 x1iorvi4 xjkvuk6 x87ps6o",children:[m.jsx(c("IGDSMediaOutlineIcon.react"),{alt:s}),m.jsx("div",{className:"x1iyjqo2",children:m.jsxs(c("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",a.filename," "]})})]});return m.jsx(m.Fragment,{})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.mediaStagingItem,e=a.onAttachmentRemoved;a=n(function(){e(b.offlineAttachmentId)},[b.offlineAttachmentId,e]);var f=!(k||(k=d("I64"))).equal(b.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(k||(k=d("I64"))).equal(b.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!w(b);return m.jsxs("div",{className:(i||(i=c("stylex")))(o.itemContainer,f&&o.fileContainer),children:[m.jsx("div",{className:i(o.previewContainer,f&&o.filePreviewContainer),children:m.jsx(x,{mediaStagingItem:b})}),m.jsx(v,{onPress:a})]})}y.displayName=y.name+" [from "+f.id+"]";function a(a){var b=a.hideUploadPlaceholder;b=b===void 0?!1:b;var e=a.multiple;e=e===void 0?!0:e;var f=a.supportedFileTypes;a=a.thread;var g=c("useIGDMediaMangerUploadFailedToast")();g=d("MWMediaManager").useMediaManager({showUploadFailureToast:g,thread:a});var h=g.handleFileRemove;a=g.handleFileSelect;g=g.mediaStaging;if(g.length===0)return m.jsx(m.Fragment,{});else return m.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d xsag5q8 x1ye3gou xh8yej3",children:[Array.from(g).map(function(a){return m.jsx(y,{mediaStagingItem:a,onAttachmentRemoved:h},a.offlineAttachmentId)}),b?null:m.jsx(u,{multiple:e,onAttachmentsAdded:a,supportedFileTypes:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDDeleteOpenThreadComposerBannerButton.react",["FBLogger","IGDConfirmDeleteOpenMessageRequestLogger","IGDDeleteThreadComposerBannerButton.react","IGDOpenDeleteOpenMessageRequestDialogLogger","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWPBumpEntityKey","MessengerWebUXLogger","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useIGDDeleteOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.extraLoggingData;a=a.thread;var f=a,g=c("useIGDDeleteOpenThread")(f.threadKey),h=c("useAsyncReStore")(),j=c("MessengerWebUXLogger").useInteractionLogger(),k=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(h.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","delete_thread");a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDOpenDeleteOpenMessageRequestDialogLogger").logOpenDeleteOpenMessageRequestDialog(a):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log");j==null?void 0:j({eventName:"thread_delete_attempt",extraData:e,flowInstanceId:k})});return function(b){return a.apply(this,arguments)}}()))},[h,f.threadKey,j,e,k]);var l=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(h.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){g();a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDConfirmDeleteOpenMessageRequestLogger").logConfirmDeleteOpenMessageRequest(a):c("FBLogger")("igd_web_on_msgr").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}())),j==null?void 0:j({eventName:"thread_delete_confirmed",extraData:e,flowInstanceId:k})},[h,g,e,k,j,f.threadKey]);return i.jsx(c("IGDDeleteThreadComposerBannerButton.react"),{onClick:a,onDelete:l,thread:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDGoToProfileMessageRequestComposerBannerButton.react",["IGDSButton.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.link;return i.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,href:a,label:d("PolarisDirectStrings").RESTRICTED_THREAD_GO_TO_PROFILE_CTA,role:"link",variant:"secondary_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","LSContactTypeExact","LSIntEnum","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.blockedByViewerStatus,e=a.contactTypeExact,f=a.id;a=a.secondaryName;if((h||(h=d("I64"))).to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)))return;b=d("MWLSContactTypeExactUtils").isIgContact(e);return a!=null&&b?"https://www.instagram.com/"+a:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(h||(h=d("I64"))).to_string(f)}).toString()}g["default"]=a}),98);
__d("IGDComposerRestricted.react",["fbt","IGDBlockUserComposerBannerButton.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDGoToProfileMessageRequestComposerBannerButton.react","IGDInstamadilloUtils","IGDMessageRequestComposerLayout.react","IGDSText.react","LSMessagingThreadTypeUtil","PolarisDirectStrings","cr:7172","getLSContactHref","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo;function l(){return j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:d("PolarisDirectStrings").RESTRICTED_THREAD_ACTION_BODY})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var e=a.contact;a=a.thread;var f=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),g=e.name;g=g!==""?h._("__JHASH__e1WPpZR1NHV__JHASH__",[h._param("user_name",g)]):h._("__JHASH__QgLNzcvbkaC__JHASH__");var i=c("getLSContactHref")(e),m=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),n=d("IGDInstamadilloUtils").isInstamadilloCutover(a),o=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),p=a?d("LSMessagingThreadTypeUtil").isSecure(a.threadType):!1,q=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),r=k(function(){return{is_dm:String(o),is_instamadillo:String(m),is_instamadillo_tlc:String(n),is_request:String(q),is_secure:String(p)}},[o,m,n,q,p]);return j.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:i!=null?j.jsx(c("IGDGoToProfileMessageRequestComposerBannerButton.react"),{link:i}):null,messageRequestBlockLeave:j.jsx(c("IGDBlockUserComposerBannerButton.react"),{contact:e,thread:a}),messageRequestDelete:f?b("cr:7172")==null?j.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{extraLoggingData:r,thread:a}):j.jsx(b("cr:7172"),{extraLoggingData:r,thread:a}):j.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{extraLoggingData:r,thread:a}),messageRequestFootnote:j.jsx(l,{}),messageRequestHeader:j.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",weight:"normal",children:g})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSHeartOutlineIcon.react",["IGDSHeartPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSHeartPanoOutlineIcon.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDWebHeartConst",[],(function(a,b,c,d,e,f){"use strict";a=String.fromCodePoint(10084,65039);f.HEART_BUTTON_UNICODE=a}),66);
__d("IGDHeartLikeButton.react",["fbt","IGDInstamadilloUtils","IGDSHeartOutlineIcon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDWebHeartConst","Int64Hooks","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","MWPActor.react","MessengerWebUXLogger","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDHeartLikeButton.react"),m=c("requireDeferred")("MWLogSend").__setRef("IGDHeartLikeButton.react"),n=h._("__JHASH__6U7UDSmCorj__JHASH__");function a(a){var b=a.onSendMessage,e=a.thread,f=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),h=d("IGDInstamadilloUtils").isInstamadilloCutover(e),i=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(e),o=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(e),p=e?d("LSMessagingThreadTypeUtil").isSecure(e.threadType):null,q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),s=i?1:0;a=d("Int64Hooks").useCallbackInt64(function(){q==null?void 0:q({eventName:"send_hot_emoji",extraData:{is_dm:String(o),is_instamadillo:String(i),is_instamadillo_tlc:String(h),is_secure:String(p)},flowInstanceId:r}),b(d("IGDWebHeartConst").HEART_BUTTON_UNICODE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),l.onReady(function(a){return c("promiseDone")(f.then(function(b){return a.log(b,void 0,e.threadKey,"composer","reaction",void 0,void 0,void 0,void 0,"reaction",g)}))}),m.onReady(function(a){return a.log({actor:g,attachmentFbids:[],attachmentType:0,backend:s,hasReply:!1,sendType:0,source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").INSTAGRAM_WEB_SENDS),threadKey:e.threadKey,threadType:e.threadType})})},[q,o,i,h,p,r,b,f,e.threadKey,e.threadType,g,s]);return k.jsx(c("IGDSIconButton.react"),{onClick:a,children:k.jsx(c("IGDSHeartOutlineIcon.react"),{alt:n,color:"ig-primary-text","data-testid":void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),i.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDVoiceClipButton.react",["IGDInstamadilloUtils","IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.thread,e=a.voiceRecorder,f=d("IGDInstamadilloUtils").isInstamadilloCutover(b),g=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(b),h=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(b),k=d("LSMessagingThreadTypeUtil").isSecure(b.threadType),l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=j(function(){navigator.mediaDevices&&c("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){e.start(a)})),l==null?void 0:l({eventName:"composer_record_audio",extraData:{is_dm:String(h),is_instamadillo:String(g),is_instamadillo_tlc:String(f),is_secure:String(k)},flowInstanceId:m})},[l,h,g,f,k,m,e]);return i.jsx(c("IGDSIconButton.react"),{onClick:a,children:i.jsx(c("IGDSMicrophonePanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),n={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},o=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var b=a.ariaDescribedBy,e=a.contentEditableRef,f=a.editor,g=a.handlePastedFiles,h=a.placeholderText,i=a.policyProduct,p=a.surface;a=a.testId;var q=c("useDeferredModuleOnReady")(m),r=d("LexicalComposerContext").createLexicalComposerContext(),s=l(function(){return[f,r]},[f,r]),t=k(function(a){a=a==null?null:a;e.current=a;f.setRootElement(a)},[e,f]);b=j.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:b,ariaLabel:o,contentEditableRef:t,editor:f,spellCheck:!0,tabIndex:0,webDriverTestID:a,xstyle:n.editor});t=j.jsx(c("CometLexicalPlaceholder.react"),{children:h});return j.jsxs("div",{className:"x1n2onr6",children:[j.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:f,policyProduct:i,surface:p}),j.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:s,children:[j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:b,placeholder:t}),j.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]}),q==null||g===void 0?null:j.jsx(q,{editor:f,handlePastedFiles:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWWorkForeignEntityTypeUtils",["I64","LSContactWorkForeignEntityType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)))return"NOT_FOREIGN";else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactWorkForeignEntityType").NOT_FOREIGN_LIMITED)))return"LIMITED";else return"FOREIGN"}g.getWorkForeignEntityType=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("IGDComposerView.react",["fbt","DisappearingMessagesMode","I64","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDDMModeContextProvider","IGDHeartLikeButton.react","IGDInstamadilloUtils","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDVoiceClipButton.react","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPThreadThemeGradientUtils","MWPUseVoiceRecorder","MessengerWebUXLogger","Promise","cr:1273","cr:4380","cr:6023","deferredLoadComponent","gkx","isArmadillo","promiseDone","react","requireDeferred","stylex","useCurrentDisplayMode","useIGDDeviceType","useMWPThreadTheme","useParticipantsExcludingViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useCallback,p=e.useContext,q=c("requireDeferred")("MWLogSend").__setRef("IGDComposerView.react"),r=c("deferredLoadComponent")(c("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),s={buttonBar:{display:"x78zum5",$$css:!0},buttonBarHidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1ke7ulo",borderTopEndRadius:"x3jqge",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0},rootDM:{borderTopStyle:"xlya59e",borderEndStyle:"x157eodl",borderBottomStyle:"xpvcztv",borderStartStyle:"x1q04ism",$$css:!0},sendButton:{marginEnd:"xfs2ol5",marginLeft:null,marginRight:null,$$css:!0}};function t(a){var b=a.hidden,e=a.onClick,f=a.thread,g=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(f),i=g?1:0,j=d("IGDInstamadilloUtils").isInstamadilloCutover(f),k=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(f),l=c("MessengerWebUXLogger").useInteractionLogger(),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),r=d("MWPActor.react").useActor(),t=d("LSMessagingThreadTypeUtil").isSecure(f.threadKey);a=o(function(){e(),l==null?void 0:l({eventName:"send_message",extraData:{is_dm:String(k),is_instamadillo:String(g),is_instamadillo_tlc:String(j),is_secure:String(t)},flowInstanceId:p}),q.onReady(function(a){return a.log({actor:r,attachmentFbids:[],attachmentType:0,backend:i,hasReply:!1,sendType:0,source:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").INSTAGRAM_WEB_SENDS),threadKey:f.threadKey,threadType:f.threadType})})},[r,i,p,g,j,t,k,l,e,f.threadKey,f.threadType]);return n.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:b,label:h._("__JHASH__5ibYHtsbofL__JHASH__"),onClick:a,variant:"primary_link",xstyle:s.sendButton})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.attachmentsSupported,f=a.editor,g=a.editorElementRef,l=a.hasStuffToSend,u=a.hideUploadPlaceholder;u=u===void 0?!1:u;var v=a.isSecureThread,w=a.multiple;w=w===void 0?!0:w;var x=a.onAttachmentsAdded,y=a.onSendMessage,z=a.policyProduct,A=a.sendMessage,B=a.supportedFileTypes,C=a.surface,D=a.thread,E=d("useIGDDeviceType").useIGDDeviceType().isMobile;a=(a=a.emojisSupported)!=null?a:!0;var F=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();F=F.hasLSThreadBitOffset;var G=F(56),H=F(36),I=F(109),J=F(43),K=F(4),L=d("LSMessagingThreadTypeUtil").isGroup(D.threadType);E=F(14)&&!E;F=F(2)&&e===!0;e=v?E&&c("isArmadillo")():E;var M=d("MWPUseVoiceRecorder").useVoiceRecorder();E=M.state.stage!=="Unopen";var N=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(D),O=N?1:0,P=d("MWPActor.react").useActor();N=o(function(){return c("promiseDone")(M.getVoiceClip().then(function(a){M.reset();y(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0);q.onReady(function(a){return a.log({actor:P,attachmentFbids:[],attachmentType:75,backend:O,hasReply:!1,sendType:0,source:(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").INSTAGRAM_WEB_SENDS),threadKey:D.threadKey,threadType:D.threadType})});return(j||(j=b("Promise"))).resolve()}))},[P,O,y,D.threadKey,D.threadType,M]);var Q=c("useCurrentDisplayMode")(),R=c("useMWPThreadTheme")();R=d("MWPThreadThemeGradientUtils").getBottomGradientColor(R);Q=Q==="dark"?"var(--always-white)":R;R=Q;Q=c("useParticipantsExcludingViewer")({threadKey:D.threadKey});var S=p(d("IGDDMModeContextProvider").IGDDMModeContext);S=S.dmMode;var T=c("gkx")("24011"),U=o(function(){return A()},[A]);return n.jsxs("div",{className:(i||(i=c("stylex")))([s.root,S===c("DisappearingMessagesMode").ON?s.rootDM:null]),children:[n.jsx(c("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:u,multiple:w,supportedFileTypes:B,thread:D}),b("cr:6023")!=null&&J&&!v&&L?n.jsx(b("cr:6023"),{editor:f,isAiBotMentionsEnabled:T,participants:Q,threadFBID:(k||(k=d("I64"))).to_string(D.threadKey)}):null,n.jsxs("div",{className:"x6s0dn4 x78zum5 x1gg8mnh x1pi30zi xlu9dua",children:[a&&!E?n.jsx(c("IGDComposerEmojiButton.react"),{editor:f,threadKey:D.threadKey}):null,E?n.jsxs(n.Fragment,{children:[n.jsx(c("IGDSIconButton.react"),{"aria-label":h._("__JHASH__errp_RlaJTi__JHASH__"),onClick:function(){return M.reset()},children:n.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:R,isRotated:!0,size:20})}),n.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:n.jsx(r,{voiceRecorder:M})}),n.jsx(t,{onClick:N,thread:D})]}):n.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,children:n.jsx(c("MWPCometComposerInner.react"),{ariaDescribedBy:h._("__JHASH__RTiaBuM2Ahi__JHASH__").toString(),contentEditableRef:g,editor:f,handlePastedFiles:x,placeholderText:h._("__JHASH__O9X2YGfflJk__JHASH__").toString(),policyProduct:z,surface:C})}),E?null:n.jsxs(n.Fragment,{children:[n.jsx(t,{hidden:!l,onClick:U,thread:D}),n.jsxs("div",{className:(i||(i=c("stylex")))([s.buttonBar,l&&s.buttonBarHidden]),children:[e?n.jsx(c("IGDVoiceClipButton.react"),{thread:D,voiceRecorder:M}):null,F?n.jsx(c("IGDComposerAttachmentButton.react"),{disabled:!G,multiple:w,onAttachmentsAdded:x,supportedFileTypes:B,threadKey:D.threadKey}):null,I?n.jsx(c("IGDHeartLikeButton.react"),{onSendMessage:y,thread:D}):null,K&&b("cr:4380")!=null&&n.jsx(b("cr:4380"),{color:R,disabled:!1,onSendMessage:y}),H&&b("cr:1273")!=null?n.jsx(b("cr:1273"),{threadKey:D.threadKey}):null]})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDLeaveGroupComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","MWPBumpEntityKey","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(a){a=a.thread;var b=a;a=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDChatSettingsLeaveThreadDialog.react").__setRef("IGDLeaveGroupComposerBannerButton.react"));var e=a[0];a=k(function(){e({thread:b},function(){});return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","leave_chat")},[e,b]);return j.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:h._("__JHASH__W6x1n43ujW0__JHASH__"),onClick:a,role:"button",variant:"destructive_link_deprecated"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LsFalcoEventEntryPoint",[],(function(a,b,c,d,e,f){"use strict";a="message_actions";b="composer";c="icebreaker";f.messageActions=a;f.composer=b;f.icebreaker=c}),66);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWChatStrikethroughText.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){a=a.children;return i.jsx("s",{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1ye3gou",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},line:{borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",bottom:"xbfrwjf",start:"x17qophe",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0}};function a(a){var b=a.children,c=a.outgoing;c=c===void 0?!0:c;a=a.xstyle;return i.jsxs(d("react-strict-dom").html.blockquote,{style:[j.forwarded,a],children:[i.jsx(d("react-strict-dom").html.div,{style:[j.line,c?j.lineOutgoingColor:j.lineIncomingColor]}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}});f["default"]=a}),66);
__d("MWChatTextFormatting",["$InternalEnum","MWChatStrikethroughText.react","MWXMessageBlockQuote.react","MWXText.react","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","react","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]),l=new Set(Object.values(c("MessageMarkdownCodeblockLanguages"))),m={codeBlock:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function n(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case k.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case k.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case k.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case k.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case k.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case k.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case k.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||l.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var o=[k.CodeBlock,k.BlockQuote,k.InlineQuote,k.InlineCode,k.Bold,k.Italics,k.StrikeThrough];function p(a,b){switch(b.format){case k.Bold:return j.jsx(d("react-strict-dom").html.b,{children:b.text});case k.Italics:return j.jsx(d("react-strict-dom").html.i,{children:b.text});case k.StrikeThrough:return j.jsx(c("MWChatStrikethroughText.react"),{children:b.text});case k.CodeBlock:return j.jsx(d("react-strict-dom").html.div,{style:m.codeBlock,children:j.jsx(c("MWXText.react"),{type:"body4",children:j.jsx(d("react-strict-dom").html.code,{children:b.text})})});case k.InlineCode:return j.jsx(d("react-strict-dom").html.code,{style:m.codeInline,children:b.text});case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!0,children:b.text})}}p.displayName=p.name+" [from "+f.id+"]";function a(a,b){switch(b.format){case k.BlockQuote:case k.InlineQuote:return j.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!1,children:b.text});default:return p(a,b)}}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=[];o.forEach(function(c){var e=n(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,j=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=(i||(i=d("UnicodeUtils"))).substr(a,0,k.index);e=e.length-i.strlen(e);var h=k.index-e,l=i.strlen(k[0]);g&&(h+=k[j].length,l-=k[j].length);e=function(a){var b=h+l,c=a.offset+a.length;return b>a.offset&&h<c};var m=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+m;e.length+=l+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:m},length:l,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=p;g.messageIncomingRenderer=a;g.getFormattingRanges=e}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.isHotLike;e=e===void 0?!1:e;var f=a.ranges,g=a.text;a=a.transformEmoticons;a=a===void 0?!0:a;g=b("cr:2472")==null?g:b("cr:2472").unvault(g);var i=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString();return j.jsx("div",{className:"xi81zsa",dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},text:e?i:g,transforms:a?d("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatMessagesOnChatTabLoadTracker",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function a(a){return function(b){var c=(h||(h=d("I64"))).to_string(b);c in a||(a[(h||(h=d("I64"))).to_string(b)]=0);a[h.to_string(b)]++}}f=a(i);a=a(j);function b(a){return i[a]||0}function c(a){return j[a]||0}function e(a){delete i[a],delete j[a]}g.trackSendFor=f;g.trackReceivedFor=a;g.getMessageSendsCountFor=b;g.getMessageReceivesCountFor=c;g.clearMessageCountsFor=e}),98);
__d("MWPComposerDraftMessages",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){if(b==null){i["delete"]((h||(h=d("I64"))).to_string(a));return}i.set((h||(h=d("I64"))).to_string(a),b)}function b(a){return i.get((h||(h=d("I64"))).to_string(a))}g.updateDraftMessage=a;g.getDraftMessage=b}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:3101","cr:6138"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:3101")||b("cr:6138");a={getRanges:function(a){var b=[],c=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var e=a.getEntity();b.push({id:e.id,length:a.getTextContent().length,offset:c,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(h!=null&&a instanceof h.MessengerLexicalCommandNode){e=a.getEntity();b.push({id:e.commandId,length:a.getTextContent().length,offset:c,type:a.getRangeType()})}c+=a.getTextContent().length})});return b}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext,k=b.useMemo,l=c({});function a(a){var b=a.children,c=a.onMessageSendAttempt;a=j(l);var d=a.onMessageSendAttempt;a=k(function(){return{onMessageSendAttempt:function(a){d==null?void 0:d(a),c==null?void 0:c(a)}}},[d,c]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({hasContentRef:void 0});function a(a){a=a.children;var b=l(!1),c=k(function(){return{hasContentRef:b}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";e=b("cr:3101")||b("cr:6138");var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,e==null?void 0:e.MessengerLexicalCommandNode],i=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});function a(a){var b,e=d("Lexical").createEditor({namespace:"MWPEditor",nodes:(b=a==null?void 0:a.nodes)!=null?b:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,e,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP: %s",b)})},theme:(b=a==null?void 0:a.theme)!=null?b:i});return e}g["default"]=a}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isFocused;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("useMWPComposerAutoFocus",["MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect;function l(a){var b;b=(b=document.activeElement)==null?void 0:(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b==null?void 0:b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=a.editor,e=a.focusEditorDelayed,f=a.hasUnsentAttachments,g=f===void 0?!1:f;f=a.isPreviewThread;f=f===void 0?!1:f;var h=a.isQuickchat;a=d("MWChatFocusComposerContext").useMWChatFocusComposer();a=a.setFocusComposer;var m=j(d("MWPReplyContext.react").MWPReplyContext),n=m.reply,o=c("usePrevious")(n);k(function(){(o==null?n!=null:!c("deepEquals")(o,n))&&(h&&e?e(b):l(b))},[b,n,o,e,h]);m=d("MWV2IsTabFocusedContext.react").useIsTabFocused();var p=m&&!f;k(function(){p&&(h&&e?e(b):l(b))},[b,p,e,h]);k(function(){g&&(h&&e?e(b):l(b))},[b,g,e,h]);a(i(function(){h&&e?e(b):l(b)},[b,e,h]))}g["default"]=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.editor,e=a.isPreviewThread,f=a.threadKey,g=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),h=i(function(a){e&&g!=null?g.current=a:d("MWPComposerDraftMessages").updateDraftMessage(f,a)},[e,g,f]);d("Int64Hooks").useEffectInt64(function(){return b.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});h(a)},{wait:250}))},[b,h]);d("Int64Hooks").useEffectInt64(function(){var a=b.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});h(a)},[b,h])}g["default"]=a}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b,c){i(function(){if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(b);e.clear();e.append(a);c===!0&&e.selectEnd()}})},[a])}g["default"]=a}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=a.editor,e=a.isPreviewThread;e=e===void 0?!1:e;var f=a.isQuickchat;f=f===void 0?!1:f;a=a.threadKey;var g=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),h=i(c("MWPreloadedText"));h=h.text!=null?h.text:g!=null?g.current:d("MWPComposerDraftMessages").getDraftMessage(a);c("useMWLSSaveDrafts")({editor:b,isPreviewThread:e,threadKey:a});c("usePrepopulateLexicalEditor")(b,f?void 0:h);return h}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","WALoggerDeferred","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useLexicalInitializeEditor__DEPRECATED","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useRef,n=b("cr:7101")==null?function(a){}:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[];function p(){c("promiseDone")(d("WALoggerDeferred").logWithTags(["MWPComposerEditor","Composer"],["Calling onSendMessage"],"LOG"))}var q=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function a(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?q:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var r=a.onSendMessage,s=a.onTypingStateChanged,t=a.threadKey,u=a.clearFormatAfterSend,v=a.isQuickchat;v=v===void 0?!1:v;var w=a.focusEditorDelayed,x=a.editorNodes,y=a.editorTheme;a=m(null);var z=l(function(){return c("mwpLexicalCreateEditor")({nodes:x,theme:y})},[x,y]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(z);c("useMWPLexicalClearEditor")(z,u);c("useMWPComposerAutoFocus")({editor:z,focusEditorDelayed:w,hasUnsentAttachments:h,isPreviewThread:e,isQuickchat:v});u=c("useMWPComposerEditorDraftText")({editor:z,isPreviewThread:e,isQuickchat:v,threadKey:t});var A=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:z,initialValue:u!=null&&u!==""}),B=A||h;w=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var C=w.hasContentRef;k(function(){if(C==null)return;C.current=A},[A,C]);c("useMWXLexicalOnTypingChanged")({editor:z,onTypingStateChanged:s});e=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var D=e.onMessageSendAttempt;v=d("Int64Hooks").useCallbackInt64(function(){D==null?void 0:D(B);z.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);if(!B)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(t);p();var a=b!=null?b(z,(i||(i=d("I64"))).to_string(t)):c("MWV2ChatComposerGetViewContent").getRanges(z),e=z.getEditorState();e=f(e);r(e,a);d("MWPComposerDraftMessages").updateDraftMessage(t,"");z.focus()},[B,r,t,b,z,f,D]);u=g?c("emptyFunction"):v;c("useMWPLexicalCommitMessageOnEnter")(z,u);n(a.current);return{editor:z,editorElementRef:a,hasStuffToSend:B,sendMessage:u}}g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWXText.react","cometIsMimeTypeForMedia","gkx","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.createElement,n=b.useCallback,o=b.useRef,p=e({current:{enabled:!0,handler:null}});function q(a){var b=a.children;a=a.fileUploadHandlerConfigRef;return m(p.Provider,{children:b,value:a})}var r={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function s(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function t(a){switch(a){case 0:return void 0;case 1:return h._("__JHASH__M7mGXjgzxvT__JHASH__").toString();default:return h._("__JHASH__UaK2GgtSNQH__JHASH__").toString()}}function u(a,b){var d=t(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite"))}function v(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var w=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.isDisabled,f=a.isMediaOnly,g=a.thread;a=a.xstyle;var k=o({enabled:!1,handler:null}),m=o(null),p=(i||(i=c("useReStore")))(),t=g!=null?(d("MWCMThreadTypes.react").isBroadcastThread(g.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(g.threadType))&&!d("LSThreadBitOffset").has(56,g):!1;g=!c("gkx")("24132");var x=e===!0||g||t;e=function(a){var b;return((b=k.current)==null?void 0:b.handler)==null?!1:!s(a).some(function(a){return w.has(a)})};g=c("useFileDragEvents")(function(){return!1},void 0,e);e=n(function(a){var b;if(((b=k.current)==null?void 0:b.enabled)===!1)return;b=(b=k.current)==null?void 0:b.handler;if(b==null){if(!t){var d=k.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_comet")}return}d=Array.from(a);a=f?d.filter(v):d;d.length!==a.length&&u(p,d.length);!x&&a.length!==0&&b(a)},[f,x,t,p]);c("useFileDragEvents")(e,m.current,function(a){return!0});return l.jsxs("div",{className:(j||(j=c("stylex")))(r.root,(e=a)!=null?e:!1),ref:m,children:[l.jsx(q,{fileUploadHandlerConfigRef:k,children:b}),!x&&g?l.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xds687c xl56j7k x10l6tqk x17qophe x13vifvy x1vjfegm",children:l.jsx(c("MWXText.react"),{type:"body1",children:h._("__JHASH__Cpq0daihgaG__JHASH__")})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=p;g.MWV2FileDropzone=a}),226);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){var c={enabled:!0,handler:a};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a])}g["default"]=a}),98);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,c("err")("fail_to_send_message")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.initiatingSource,f=a.isCommunityEvent,g=a.isMessageRequest,m=a.s2sInstanceKey,n=a.threadType,o=a.traceSendMessageAPI,p={initiatingSource:e,isCommunityEvent:f,isMessageRequest:g,mwVersion:d("MWVersion").v2,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(m));d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:babelHelpers["extends"]({},d("MWLSLogSend").getMessageSendAnnotations(p))});d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{subscription_points_gk:!0}});var e=!1,f=d("ReQL").fromTableAscending(c.tables.messages.index("optimistic")).getKeyRange(a),g=d("ReQLSubscribe").subscribeToFirst(f,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(e=!0,j(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(e=!0,k(m,a),g()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(m)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!e){var a=(yield d("ReQL").firstAsync(f));e||d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){g()},6e4)}}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","MWPActor.react","MWPReplyContext.react","MessagePowerUp","asyncToGeneratorRuntime","gkx","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a){var e=a.authorityLevel,f=a.ephemeralDurationInSec,g=a.onOptimisticMessageCreation,h=a.pluginType,m=a.skipUrlPreviewGen,n=a.threadKey,o=a.threadType,p=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var q=a.reply,r=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(a){var k=a.afterSend,s=a.attributionAppId,t=a.dataTraceId,u=a.externalAttachmentUrl,v=a.hotEmojiSize,w=a.logSendPoint,x=a.mentionData,y=a.messageText,z=a.messageTypeParams,A=a.multitabEnv,B=a.optimisticAttachmentPreview,C=a.platformToken,D=a.profileRanges,E=a.richTextFormatType,F=a.s2sInstanceKey,G=a.setupS2SLogging,H=a.source,I=a.stickerID,J=a.transaction;return K(J);function K(a){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("LSFactory")(a),K=c("gkx")("24135");yield l(a,(i||(i=d("I64"))).to_string(n),t);a=z.hasAttachment;var L=z.hasGif,M=z.hasLinks,N=z.hasSticker,O=z.hasText;b=(yield c("LSOptimisticSendMessageV2StoredProcedure")(b,{extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:s,calculate_denormalizations:!1,data_trace_id:(b=t)!=null?b:void 0,ephemeral_duration_in_sec:f,external_attachment_url:u,hot_emoji_size:v,initiating_source:r,mark_read:i.ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:x,multitab_env:A,optimistic_attachment_preview:B,platform_token:C,plugin_type:h,power_up_style:j.ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:F==null?void 0:F.toString(),reply_source_id:q==null?void 0:q.messageId,reply_source_type:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:q!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:E,skip_url_preview_gen:m,source:H,sticker_id:I,text_has_links:M&&K}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:p,text:y,threadKey:n,threadType:o}));w("create_optimistic_message_success");if(!a){K=b[0];G(K)}g!=null&&g({TAG:0,hasLink:M,hasMention:D!=null&&D.length>0,isGIF:L,isReply:!!(q&&q.messageId!==""),isSticker:N,isText:O,offlineThreadingId:b[0]});k!=null&&(yield k(J));return b});return L.apply(this,arguments)}},[n,f,r,e,h,q,m,p,o,g])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.ephemeralDurationInSec,d=a.onOptimisticMessageCreation,e=a.pluginType,f=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,ephemeralDurationInSec:b,onOptimisticMessageCreation:d,pluginType:e,skipUrlPreviewGen:f,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("LSInsertRollCallContribution",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(255).fetch([[[a[0],a[1],a[2],a[3]]],"optimistic"]),function(c){return b.i64.eq(c.rollCallContributionId,a[0])&&b.i64.eq(c.rollCallId,a[1])&&c.messageId===a[2]&&b.i64.eq(c.messageTimestampMs,a[3])&&b.i64.lt(c.authorityLevel,a[23])}),function(a){return a["delete"]()})},function(c){return b.db.table(255).add({rollCallContributionId:a[0],rollCallId:a[1],messageId:a[2],messageTimestampMs:a[3],threadKey:a[4],primaryMediaUrl:a[5],primaryMediaUrlFallback:a[6],primaryMediaExpiryMs:a[7],primaryMediaWidth:a[8],primaryMediaHeight:a[9],primaryMediaMimeType:a[10],previewMediaUrl:a[11],previewMediaUrlFallback:a[12],previewMediaExpiryMs:a[13],previewMediaWidth:a[14],previewMediaHeight:a[15],previewMediaMimeType:a[16],authorityLevel:a[23],contributorId:a[17],offlineThreadingId:a[18],blurOverride:a[19],contributionSource:a[20],contributionType:a[21],content:a[22]})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticRollCallContribution",["LSArrayGetObjectAt","LSGetFirstAvailableAttachmentCTAID","LSGetViewerFBID","LSInsertAttachmentItem","LSInsertRollCallContribution","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[1]!==void 0?c.sequence([function(b){return c.db.table(250).fetch([[[c.i64.from_string(a[1]),a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticRollCallContributionStoredProcedure] couldn't find roll call in table roll_calls"),e=["Roll Call",c.i64.cast([0,0])],d[0]=e[0],d[1]=e[1],e):(b=a.item,e=[b.rollCallPrompt,b.expiryTimestampSec],d[0]=e[0],d[1]=e[1],e)})},function(b){return c.islc(c.sortBy(c.filter(c.db.table(255).fetch(),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.rollCallId,c.i64.from_string(a[1]))}),[["messageTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=void 0:(b=a.item,d[3]=b.messageId)})},function(b){return d[3]!==void 0?c.sequence([function(b){return d[7]=c.createArray(),c.forEach(c.islc(c.sortBy(c.db.table(18).fetch([[[a[0],d[3]]],"fk_attachments"]),[["attachmentIndex","ASC"]]),0,c.i64.to_float(c.i64.cast([0,2]))),function(a){a=a.item;return d[8]=new c.Map(),d[8].set("attachment_index",a.attachmentIndex),d[8].set("preview_url",a.previewUrl),d[8].set("preview_url_expiration_timestamp_ms",a.previewUrlExpirationTimestampMs),d[8].set("preview_url_mime_type",a.previewUrlMimeType),d[8].set("preview_width",a.previewWidth),d[8].set("preview_height",a.previewHeight),d[8].set("default_cta_id",a.defaultCtaId),d[8].set("playable_url",a.playableUrl),d[9]=(d[7].push(d[8]),d[7])})},function(a){return d[5]=d[7]}]):c.resolve((d[7]=c.createArray(),d[5]=d[7]))},function(e){return c.i64.neq(a[6],void 0)?d[6]=a[6]:d[6]=c.i64.cast([0,0]),c.i64.eq(d[6],c.i64.cast([0,0]))?(d[7]=c.i64.of_int32(a[2].length),c.i64.eq(d[7],c.i64.cast([0,1]))?c.sequence([function(b){return a[5]!==void 0?d[8]=c.i64.from_string(a[5]):d[8]=c.i64.cast([0,0]),c.localizeV2Async(c.i64.cast([0,3989800917]),void 0).then(function(a){return d[9]=a})},function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],c.i64.cast([0,0])).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(a){return c.storedProcedure(b("LSGetFirstAvailableAttachmentCTAID")).then(function(a){return a=a,d[12]=a[0],a})},function(b){return d[13]=d[10].get("offline_attachment_id"),d[10],d[14]=d[10].get("attachment_index"),d[10],c.filter(c.db.table(16).fetch([[[a[0],a[3],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[3]&&b.attachmentFbid===a[1]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[0],messageId:a[3],attachmentFbid:a[1],timestampMs:a[4],offlineAttachmentId:d[13],attachmentType:c.i64.cast([0,7]),filesize:c.i64.cast([0,0]),attachmentCta1Id:d[12],attachmentIndex:d[14],hasMedia:!1,hasXma:!0,isSharable:!1,xmaLayoutType:c.i64.cast([0,10]),cta1Title:d[9],cta1Type:"xma_disabled_cta",defaultCtaTitle:d[9],defaultCtaType:"xma_disabled_cta",defaultCtaId:d[12],titleText:d[0],authorityLevel:c.i64.cast([0,20]),countdownTimestampMs:c.i64.mul(d[1],c.i64.cast([0,1e3])),maxTitleNumOfLines:c.i64.cast([0,4])}):0})},function(a){return d[15]=d[10].get("preview_url"),d[10],d[26]=d[15]==null?"":d[15],d[16]=d[10].get("preview_url_mime_type"),d[10],d[27]=d[16]==null?"":d[16],d[17]=d[10].get("preview_height"),d[10],d[23]=d[17]==null?c.i64.cast([0,0]):d[17],d[18]=d[10].get("preview_width"),d[10],d[22]=d[18]==null?c.i64.cast([0,0]):d[18],d[19]=d[10].get("playable_url"),d[10],d[25]=d[19]==null?"":d[19],d[20]=d[10].get("playable_url_mime_type"),d[10],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.storedProcedure(b("LSInsertRollCallContribution"),c.i64.cast([0,0]),c.i64.from_string(a[1]),a[3],a[4],a[0],d[25],"",c.i64.cast([0,0]),d[22],d[23],d[20]==null?"":d[20],d[26],"",c.i64.cast([0,0]),d[22],d[23],d[27],d[21],a[3],!1,d[8],a[6],void 0,c.i64.cast([0,20]))},function(b){return c.forEach(c.db.table(250).fetch([[[c.i64.from_string(a[1]),a[0]]]]),function(a){var b=a.update;a.item;return b({isBlurred:!1,viewerHasContributed:!0})})},function(e){return d[24]=d[10].get("attachment_index"),d[10],c.storedProcedure(b("LSInsertAttachmentItem"),a[1],d[24],a[0],c.i64.cast([0,0]),a[3],void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,d[25],void 0,void 0,void 0,void 0,d[26],d[26],c.i64.cast([0,0]),d[27],d[22],d[23],void 0,d[12],d[9],"xma_disabled_cta",void 0,void 0,void 0,!1,"full",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},function(e){return d[28]=c.i64.of_int32(d[5].length),c.i64.gt(d[28],c.i64.cast([0,0]))?c.loopAsync(d[28],function(e){return d[29]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(e){return d[32]=d[30].get("attachment_index"),d[30],d[33]=d[30].get("preview_url"),d[30],d[34]=d[30].get("preview_url_expiration_timestamp_ms"),d[30],d[35]=d[30].get("preview_url_mime_type"),d[30],d[36]=d[30].get("preview_width"),d[30],d[37]=d[30].get("preview_height"),d[30],d[38]=d[30].get("default_cta_id"),d[30],d[39]=d[30].get("playable_url"),d[30],c.storedProcedure(b("LSInsertAttachmentItem"),a[1],c.i64.add(d[32],c.i64.cast([0,1])),a[0],c.i64.cast([0,0]),a[3],void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,d[39],void 0,void 0,void 0,void 0,d[33],d[33],d[34],d[35],d[36],d[37],void 0,d[38],d[9],"xma_disabled_cta",void 0,void 0,void 0,!1,"full",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}])}):c.resolve()}]):c.resolve((d[8]=c.i64.of_int32(a[2].length),function(a){c.logger(a).mustfix(a)}(["[LSMailboxLocalApplyOptimisticRollCallContributionStoredProcedure] expected only 1 attachment for MEDIA contribution, but found ",c.i64.to_string(d[8])].join(""))))):c.i64.eq(d[6],c.i64.cast([0,1]))?a[7]!==void 0?(d[7]=new c.Map(),d[7].set("roll_call_id",c.i64.from_string(a[1])),d[7].set("contribution_type",d[6]),d[7].set("content",a[7]),d[7].set("offline_threading_id",a[3]),d[8]=d[7].get("roll_call_id"),d[7],d[9]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[8]),c.i64.cast([0,610]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticRollCallContributionStoredProcedure] expected non-null content for TEXT contribution, but found null")):c.resolve(c.i64.eq(d[6],c.i64.cast([0,2]))?function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticRollCallContributionStoredProcedure] LINK contributions are not yet supported"):0)}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticRollCallContributionStoredProcedure] param product_fbid is missing"))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSArrayRemoveObjectAt",["I64","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,f){return(i||(i=b("Promise"))).resolve([e.splice((h||(h=d("I64"))).to_int32(f),1)])}g.call=a}),98);
__d("LSCollapseAttachments",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.islc(b.sortBy(b.db.table(16).fetch([[[a[0],a[1]]],"idx_attachments_collapsible_id"]),[["timestampMs","DESC"]]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.sequence([function(d){return c[0]=e.messageId,b.forEach(b.db.table(16).fetch([[[a[0],a[1],{lt:c[0]}],[a[0],a[1],{gt:c[0]}]],"idx_attachments_collapsible_id"]),function(a){var c=a.item;return b.forEach(b.filter(b.db.table(12).fetch([[[c.threadKey,c.timestampMs,c.messageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,c.timestampMs)&&a.messageId===c.messageId}),function(a){var b=a.update;a.item;return b({isCollapsed:!0})})})},function(a){return b.forEach(b.filter(b.db.table(12).fetch([[[e.threadKey,e.timestampMs,c[0]]]]),function(a){return b.i64.eq(a.threadKey,e.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,e.timestampMs)&&a.messageId===c[0]}),function(a){var b=a.update;a.item;return b({isCollapsed:!1})})}]))})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticSharedAlbumContribution",["LSArrayGetObjectAt","LSArrayRemoveObjectAt","LSCollapseAttachments","LSGetFirstAvailableAttachmentCTAID","LSInsertAttachmentItem"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2856734260]),void 0).then(function(a){return d[0]=a})},function(a){return c.storedProcedure(b("LSGetFirstAvailableAttachmentCTAID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return d[4]=c.i64.random(),d[5]=c.i64.to_string(d[4]),a[1]!==void 0?c.sequence([function(b){return c.db.table(279).fetch([[[c.i64.from_string(a[1]),a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticSharedAlbumContributionStoredProcedure] couldn't find album in table shared_albums"),d[6]=void 0):(b=a.item,d[6]=b.title)})},function(e){return d[6]!==void 0?c.sequence([function(b){return d[8]=d[2].get("offline_attachment_id"),d[2],d[9]=d[2].get("attachment_index"),d[2],c.filter(c.db.table(16).fetch([[[a[0],a[3],d[5]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[3]&&b.attachmentFbid===d[5]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[0],messageId:a[3],attachmentFbid:d[5],timestampMs:a[4],offlineAttachmentId:d[8],attachmentType:c.i64.cast([0,7]),filesize:c.i64.cast([0,0]),attachmentCta1Id:d[1],attachmentIndex:d[9],hasMedia:!1,hasXma:!0,isSharable:!1,xmaLayoutType:c.i64.cast([0,10]),cta1Title:d[0],cta1Type:"xma_disabled_cta",defaultCtaTitle:d[0],defaultCtaType:"xma_shared_album_viewer",defaultCtaId:d[1],titleText:d[6],authorityLevel:c.i64.cast([0,20]),maxTitleNumOfLines:c.i64.cast([0,4]),collapsibleId:c.i64.from_string(a[1])}):0})},function(d){return c.storedProcedure(b("LSCollapseAttachments"),a[0],c.i64.from_string(a[1]))},function(e){return d[10]=c.i64.of_int32(a[2].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[12]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[2],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(b){return d[15]=d[13].get("preview_url"),d[13],d[23]=d[15]==null?"":d[15],d[16]=d[13].get("preview_height"),d[13],d[24]=d[16]==null?c.i64.cast([0,0]):d[16],d[17]=d[13].get("preview_width"),d[13],d[25]=d[17]==null?c.i64.cast([0,0]):d[17],d[18]=d[13].get("preview_url_mime_type"),d[13],d[19]=d[13].get("playable_url"),d[13],d[20]=d[13].get("playable_url_mime_type"),d[13],d[21]=d[13].get("preview_url_mime_type"),d[13],d[22]=d[13].get("offline_attachment_id"),d[13],d[22]!==void 0?c.sequence([function(b){return d[27]="",d[28]=c.i64.from_string(d[22]),d[29]=c.i64.from_string(a[1]),d[26]=c.i64.of_float(Date.now()),c.forEach(c.filter(c.db.table(280).fetch([[[d[29],d[28],a[0],d[27]]]]),function(b){return c.i64.eq(b.sharedAlbumId,d[29])&&c.i64.eq(b.sharedAlbumContributionId,d[28])&&c.i64.eq(b.threadKey,a[0])&&b.messageId===d[27]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(280).add({messageId:d[27],sharedAlbumContributionId:d[28],sharedAlbumId:d[29],threadKey:a[0],mediaUrl:d[19]==null?d[23]:d[19],mediaHeight:d[24],mediaWidth:d[25],mediaUrlFallback:"",urlExpiryMs:c.i64.cast([0,0]),creationTimestampMs:d[26],authorityLevel:c.i64.cast([0,20]),previewMediaUrl:d[23],previewMediaHeight:d[24],previewMediaWidth:d[25],previewMediaMimeType:d[18]==null?"":d[18]})}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticSharedAlbumContributionStoredProcedure] param $attachment_otid is missing"))}])}):c.resolve()},function(e){return d[11]=c.createArray(),d[12]=(d[11].push(c.i64.cast([0,0])),d[11]),c.forEach(c.islc(c.sortBy(c.db.table(280).fetch([[[c.i64.from_string(a[1])]]]),[["creationTimestampMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,4]))),function(e){var f=e.item;return c.sequence([function(a){return d[15]=f.previewMediaUrl,c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(e){return c.i64.eq(c.i64.cast([0,0]),d[12])?d[14]=d[6]:d[14]=void 0,c.storedProcedure(b("LSInsertAttachmentItem"),d[5],d[12],a[0],c.i64.cast([0,0]),a[3],void 0,c.i64.cast([0,0]),void 0,d[14],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d[15],d[15],c.i64.cast([0,0]),f.previewMediaMimeType,f.mediaWidth,f.mediaHeight,void 0,d[1],void 0,"xma_shared_album_viewer",void 0,void 0,void 0,!1,"full",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},function(a){return c.nativeTypeOperation("Array",b("LSArrayRemoveObjectAt"),d[11],c.i64.cast([0,0])).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]=(d[11].push(c.i64.add(d[12],c.i64.cast([0,1]))),d[11])}])})}]):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("[LSMailboxLocalApplyOptimisticSharedAlbumContributionStoredProcedure] param product_fbid is missing"))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsV2",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessageV2","LSLocalApplyOptimisticRollCallContribution","LSLocalApplyOptimisticSharedAlbumContribution","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessageV2"),a[0],a[1],a[2],a[3],a[4],a[5],void 0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=a[5].get("attachments"),a[5],d[3]=a[5].get("product_type"),a[5],d[3]==="roll_call"?(d[4]=a[5].get("product_fbid"),a[5],d[5]=a[5].get("product_attribution"),a[5],d[6]=a[5].get("contribution_type"),a[5],c.storedProcedure(b("LSLocalApplyOptimisticRollCallContribution"),a[1],d[4],d[2],d[0],d[1],d[5],d[6],a[3])):d[3]==="shared_albums"?(d[4]=a[5].get("product_fbid"),a[5],d[5]=a[5].get("product_attribution"),a[5],c.storedProcedure(b("LSLocalApplyOptimisticSharedAlbumContribution"),a[1],d[4],d[2],d[0],d[1],d[5])):(d[4]=c.i64.of_int32(d[2].length),c.i64.gt(d[4],c.i64.cast([0,0]))?c.loopAsync(d[4],function(e){return d[5]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[2],d[5]).then(function(a){return a=a,d[6]=a[0],d[7]=a[1],a})},function(b){return d[8]=d[6].get("attachment_fbid"),d[6],d[9]=d[6].get("offline_attachment_id"),d[6],d[10]=d[6].get("attachment_type"),d[6],d[11]=d[6].get("filename"),d[6],d[12]=d[6].get("filesize"),d[6],d[13]=d[6].get("attachment_index"),d[6],d[14]=d[6].get("has_media"),d[6],d[15]=d[6].get("has_xma"),d[6],d[16]=d[6].get("playable_url"),d[6],d[17]=d[6].get("playable_url_mime_type"),d[6],d[18]=d[6].get("playable_duration_ms"),d[6],d[19]=d[6].get("preview_url"),d[6],d[20]=d[6].get("preview_url_mime_type"),d[6],d[21]=d[6].get("mini_preview"),d[6],d[22]=d[6].get("preview_width"),d[6],d[23]=d[6].get("preview_height"),d[6],d[24]=d[6].get("xma_layout_type"),d[6],d[25]=d[6].get("xmas_template_type"),d[6],d[26]=d[6].get("cta1_title"),d[6],d[27]=d[6].get("cta2_title"),d[6],d[28]=d[6].get("cta3_title"),d[6],d[29]=d[6].get("image_url"),d[6],d[30]=d[6].get("action_url"),d[6],d[31]=d[6].get("title_text"),d[6],d[32]=d[6].get("subtitle_text"),d[6],d[33]=d[6].get("description_text"),d[6],d[34]=d[6].get("source_text"),d[6],d[35]=d[6].get("original_file_hash"),d[6],d[36]=d[6].get("sound_bite_client_sound_key"),d[6],d[37]=d[6].get("sound_bite_visual"),d[6],d[38]=d[6].get("ephemeral_media_state"),d[6],d[39]=d[6].get("waveform_data"),d[6],d[40]=d[6].get("avatar_audio_message_animated_url"),d[6],d[41]=d[6].get("avatar_audio_message_idle_url"),d[6],d[42]=d[6].get("avatar_audio_message_animated_b_url"),d[6],d[43]=d[6].get("avatar_audio_message_idle_b_url"),d[6],d[44]=d[6].get("avatar_audio_message_background_graphics_image_url"),d[6],d[45]=d[6].get("avatar_audio_message_pose_id"),d[6],d[46]=d[6].get("sampling_frequency_hz"),d[6],d[47]=d[6].get("should_autoplay_video"),d[6],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[8]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[8]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[8],timestampMs:d[1],offlineAttachmentId:d[9],attachmentType:d[10],filename:d[11],filesize:d[12],attachmentIndex:d[13],hasMedia:d[14],hasXma:d[15],isSharable:!1,playableUrl:d[16],playableUrlMimeType:d[17],playableDurationMs:d[18],previewUrl:d[19],previewUrlMimeType:d[20],miniPreview:d[21],previewWidth:d[22],previewHeight:d[23],xmaLayoutType:d[24],xmasTemplateType:d[25],cta1Title:d[26],cta2Title:d[27],cta3Title:d[28],imageUrl:d[29],actionUrl:d[30],titleText:d[31],subtitleText:d[32],descriptionText:d[33],sourceText:d[34],ephemeralMediaState:d[38],waveformData:d[39],samplingFrequencyHz:d[46],originalFileHash:d[35],authorityLevel:c.i64.cast([0,20]),shouldAutoplayVideo:d[47]}):0})}])}):c.resolve())},function(e){return d[4]=c.i64.of_int32(d[2].length),c.i64.gt(d[4],c.i64.cast([0,0]))?(d[5]=a[5].get("sticker_id"),a[5],c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(d[5],void 0))):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure",["LSLocalApplyOptimisticMessageWithAttachmentsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.senderId;d[1]=b.threadKey;d[2]=b.threadType;d[3]=b.text;d[4]=b.snippet;d[5]=b.extraSendMessageParams;return c("LSLocalApplyOptimisticMessageWithAttachmentsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPSendMessageLogger",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,c,d,e,f,g,i,j){h.onReady(function(h){return h.log({actor:c,attachmentFbids:e,attachmentType:g,backend:0,ephemeralDurationInSec:j,hasReply:i,offlineThreadingId:d,sendType:0,source:f,threadKey:a,threadType:b})})}g.log=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var m=c("LSGenerateTraceId")(),n=k[0];n=d("MessagingLoggingUtils").convertI64ToAttachmentType(n.attachmentType);yield j(a,m,(i||(i=d("I64"))).of_int32(g.length),n);var o=0;n=g.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(g),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:f,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})});g=k.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(g!=null){var h=g.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:h,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(h)})}),o++)}c("gkx")("24136")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))});return function(a,b){return g.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(n);yield d("MWPOpenComposerUtils").resumeSendJob(c("LSFactory")(a),f,m);yield l(a,i.to_string(e),m);yield c("updateAndFlushLSDataTrace")(a,m);return{sentWithAllFilesUploaded:o===g.length}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("issueSendInstamadilloMediaMessageCometTask",["CometTaskFramework","MAWCurrentUser","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){c("promiseDone")(c("CometTaskFramework")(d("MAWCurrentUser").getID()).issueTask("igd_send_media_message",{offlineThreadingId:f}));f=e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})})});return function(a){return c.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(f)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenStagedMedia",["I64","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","asyncToGeneratorRuntime","issueLSMediaSendJobs","issueSendInstamadilloMediaMessageCometTask","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a,e,f){var g=d("MWPActor.react").useActor(),h=k(d("MWPReplyContext.react").MWPReplyContext),l=h.reply,m=c("useLSMessagingInitiatingSource")(),n=d("LSThreadBitOffset").has(40,f);return d("Int64Hooks").useCallbackInt64(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var h=b.isFirstMessage;h=h===void 0?!1:h;var k=b.isFirstMessageText,o=b.mediaStagings,p=b.pluginType,q=b.sendFirstMessageSeparately;q=q===void 0?!1:q;var r=b.setupS2SLogging,s=b.source;b=b.transaction;if(o.length===0){d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,void 0,[],s,c("MessagingAttachmentType").NONE,l!=null,a);return}var t=o[0];t=d("MessagingLoggingUtils").convertI64ToAttachmentType(t.attachmentType);var u=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(o,n),v=!0;for(var w=0;w<u.length;w++)if(!h||!q||w===0&&h&&!k){var x=u[w],y=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(c("LSFactory")(b),{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray(x.map(d("LSShape").ofRecord)),ephemeral_duration_in_sec:a,external_attachment_url:void 0,initiating_source:m,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:p,reply_source_id:l==null?void 0:l.messageId,reply_source_type:l!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:l!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:s}),senderId:g,threadKey:f.threadKey,threadType:f.threadType}));y=y[0];w===0&&r(y);yield b.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:m,markThreadRead:!1,messageId:void 0,offlineThreadingId:y,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(j||(j=d("I64"))).of_string(y),threadAttributionSource:s,threadKey:f.threadKey});e==null?void 0:e({TAG:2,numberOfAttachments:x.length,offlineThreadingId:y});if(p!=null&&(i||(i=d("LSIntEnum"))).unwrapIntEnum(p)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield c("issueSendInstamadilloMediaMessageCometTask")(b,x,y);else{var z=(yield c("issueLSMediaSendJobs")(b,f.threadKey,y,x,o));v=v&&z.sentWithAllFilesUploaded}d("MWPSendMessageLogger").log(f.threadKey,f.threadType,g,y,x.map(function(a){return a.attachment_fbid}),s,t,l!=null,a)}z=(j||(j=d("I64"))).to_string(f.threadKey);y=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[z,null]:[null,z];var A=y[0],B=y[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:v?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:B,thread_fbid:A}})});return function(a){return h.apply(this,arguments)}}(),[n,f.threadKey,f.threadType,g,l,a,m,e])}g["default"]=a}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.tables.attachments).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,b,c,d,e,f,g,h,i,k,l){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l,m,n,o,p){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:l.attachment_type,inMessageIndex:(h||(h=d("I64"))).zero,isSecure:!1,offlineAttachmentId:j,offlineThreadingId:k,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=function(a,f){if(f==null)return;var m=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingletonLazyWrapper")());return a.runInTransaction(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(h||(h=d("I64"))).of_float(f),offlineAttachmentId:j});yield d("MWPOpenComposerUtils").resumeSendJob(b,k,g);i(l.playable_url,f,a,e)});return function(a){return m.apply(this,arguments)}}(),"readwrite")});return function(){return a.apply(this,arguments)}}();c("promiseDone")(m(),function(){o==null?void 0:o(a)})};var q=function(a,b){p==null?void 0:p((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)};d("MWPComposerMediaUploadUtil").startUpload(n,void 0,a,q,!0,[m.file],[j],void 0,void 0,m.waveformData,void 0,h.to_string(f))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","asyncToGeneratorRuntime","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessageCometTask","react","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return m.apply(this,arguments)}function a(a){var e=a.ephemeralDurationInSec,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,h=a.onUploadStart,m=a.onUploadSuccess,n=a.sendMessageLogger,o=a.skipUrlPreviewGen,p=a.threadKey,q=a.threadType,r=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var s=a.reply,t=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dataTraceId,k=a.pluginType,u=a.setupS2SLogging,v=a.source,w=a.transaction;a=a.voiceClip;var x=c("LSFactory")(w),y=d("OfflineThreadingId").createOfflineThreadingID(),z=d("MWPComposerMediaUploadUtil").getAudioAttachment(y,a.file,a.duration,a.waveformData);yield l(w,b,(i||(i=d("I64"))).one,2);x=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(x,{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray([d("LSShape").ofRecord(z)]),ephemeral_duration_in_sec:e,external_attachment_url:void 0,initiating_source:t,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:k,reply_source_id:s==null?void 0:s.messageId,reply_source_type:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:s!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:v}),senderId:r,threadKey:p,threadType:q}));x=x[0];u(x);yield w.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:t,markThreadRead:!1,messageId:void 0,offlineThreadingId:x,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:o,taskId:i.of_string(x),threadAttributionSource:v,threadKey:p});f!=null&&f({TAG:1,offlineThreadingId:x});k!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(k)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield c("issueSendInstamadilloMediaMessageCometTask")(w,[z],x):yield c("issueLSAudioMediaSendJob")(w,p,r,b,y,x,z,a,h,m,g);n({actor:r,attachmentFbids:[z.attachment_fbid],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(z.attachment_type),hasReply:s!=null,key:p,offlineThreadingId:x,source:v,type:q})});return function(b){return a.apply(this,arguments)}}(),[r,p,q,s,t,o,f,h,n,m,g])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,i=a.skipUrlPreviewGen;a=a.thread;var j=d("Int64Hooks").useCallbackInt64(function(a){var c=a.actor,e=a.attachmentFbids,f=a.attachmentType,g=a.hasReply,h=a.key,i=a.offlineThreadingId,j=a.source;a=a.type;c!=null&&d("MWPSendMessageLogger").log(h,a,c,i,e,j,f,g,b)},[b]);return c("useMWV2SendOpenVoiceClipImplShared")({onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,sendMessageLogger:j,skipUrlPreviewGen:i,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","gkx","hasDefaultThreadOneToOneCapability","react","sendToSentQPLLogger","useAsyncReStore","useLSMessagingInitiatingSource","useMWLSDefaultThreadSource","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(a){var e=a.ephemeralDurationInSec,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,h=a.onUploadStart,k=a.onUploadSuccess,l=a.pluginType,m=a.skipUrlPreviewGen,n=a.thread,o=c("useAsyncReStore")();a=j(d("MWPReplyContext.react").MWPReplyContext);var p=a.reply,q=c("useLSMessagingInitiatingSource")(),r=c("useMWLSDefaultThreadSource")(),s=c("useMWV2SendOpenVoiceClip")({ephemeralDurationInSec:e,onOptimisticMessageCreation:f,onUploadFailure:g,onUploadStart:h,onUploadSuccess:k,skipUrlPreviewGen:m,thread:n}),t=c("useMWV2SendOpenStagedMedia")(e,f,n),u=c("useMWV2SendOpenMessageImpl")({ephemeralDurationInSec:e,onOptimisticMessageCreation:f,pluginType:l,skipUrlPreviewGen:m,thread:n}),v=d("LSMessagingThreadTypeUtil").isMessageRequest(n);a=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var w=a.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h,j,k,m,x,y,z,A,B,C,D,E){z===void 0&&(z=!1);A===void 0&&(A=!1);var F=!1;w==null?void 0:w(!0);function G(a){B.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(C,a)}var H=r(n.threadKey),I=c("LSGenerateTraceId")(),J={contents:1};D=n.eventStartTimestampMs!=null;var K=n.threadType,L=(yield o),M=c("MWV2SetupS2SLoggingShared")({db:L,initiatingSource:q,isCommunityEvent:D,isMessageRequest:v,s2sInstanceKey:C,threadType:K,traceSendMessageAPI:B});if(c("gkx")("24121")){D=(yield c("hasDefaultThreadOneToOneCapability")(n.threadKey,L));D&&(G("invalid_send_to_default_e2ee"),d("sendToSentQPLLogger").addSendToSentAnnotations(C,{string:{invalid_send_to_default_e2ee_attribution:(i||(i=d("I64"))).to_string(H)}}))}var N=d("MWSharedMsgLogUtils").getMessageTypeParams(a,g,p,f,j,m,yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(L.tables.media_staging).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,n.threadKey)}))),O=(yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(n,N,q)),P=(yield d("MultipleTabsLogger").hasMultipleTabs());return L.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(B,N,n,q);d("sendToSentQPLLogger").addSendToSentAnnotations(C,O);if(m!=null){yield s({dataTraceId:I,pluginType:l,setupS2SLogging:M,source:H,transaction:b,voiceClip:m});return}var c=N.hasGif,o=N.hasSticker,p=N.hasText;o?J.contents=4:c&&(J.contents=6);var r=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;G("before_create_optimistic_message");if(p||o||c){F=!0;if(z===!1||A===!0){yield u({afterSend:y,attributionAppId:h,dataTraceId:I,externalAttachmentUrl:j,hotEmojiSize:g,logSendPoint:G,mentionData:r,messageText:a,messageTypeParams:N,multitabEnv:P,optimisticAttachmentPreview:k,platformToken:x,profileRanges:e,richTextFormatType:E,s2sInstanceKey:C,setupS2SLogging:M,source:H,stickerID:f,transaction:b});if(z===!0)return}}else y!=null&&(yield y(b));!o&&!c&&(yield t({isFirstMessage:A,isFirstMessageText:F,mediaStagings:yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.media_staging).filter(function(a){return!a.isSent&&(i||(i=d("I64"))).equal(a.threadKey,n.threadKey)})),pluginType:l,sendFirstMessageSeparately:z,setupS2SLogging:M,source:H,transaction:b}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return a.apply(this,arguments)}}(),[w,r,n,o,q,v,p,s,u,t,l])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","Int64Hooks","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","ReQL","asyncToGeneratorRuntime","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useMWV2SendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.useMemo;function a(a){var e=a.afterSendMessage,f=a.ephemeralDurationInSec,g=a.onOptimisticMessageCreation,h=a.onUploadFailure,m=a.onUploadStart,n=a.onUploadSuccess,o=a.pluginType,p=a.skipUrlPreviewGen,q=a.thread,r=d("MWPActor.react").useActor();a=k(d("MWPReplyContext.react").MWPReplyContext);var s=a.clearReply,t=q.threadSubtype,u=l(function(){return{is_community_event:(q.eventStartTimestampMs!=null).toString(),is_cutover:(!1).toString(),is_secure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(q.threadKey),thread_subtype:t&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(t)?(i||(i=d("I64"))).to_string(t):"",thread_type:i.to_string(q.threadType)}},[q,t]),v=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,u),w=c("useMWV2SendOpenMessage")({ephemeralDurationInSec:f,onOptimisticMessageCreation:g,onUploadFailure:h,onUploadStart:m,onUploadSuccess:n,pluginType:o,skipUrlPreviewGen:p,thread:q});return d("Int64Hooks").useCallbackInt64(function(a,f,g,h,k,l,m,n,o,p,t,x,y,z){t===void 0&&(t=!1);x===void 0&&(x=!1);var A=d("LSMessagingThreadTypeUtil").isMessageRequest(q);return v(function(v){var y=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:u});c("promiseDone")(w(a,f,g,h,k,l,m,n,o,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;p==null?void 0:p();if(!d("LSMessagingThreadTypeUtil").isOneToOne(q.threadType))return;b=(b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(q.threadKey),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,r)}))))==null?void 0:b[1];if(b==null)return;!(i||(i=d("I64"))).to_float(b.contactViewerRelationship)!==c("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield a.contacts.put(babelHelpers["extends"]({},b,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))});return function(b){return a.apply(this,arguments)}}(),t,x,v,y,void 0,z),function(){e(),s(q.threadKey,!1),A&&d("MessageRequestsLog").logActionConfirmed(q,1)})})},[q,v,u,w,e,s,r])}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.isGroupThread;d[2]=b.isTyping;return c("LSSendTypingIndicator").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","MWCMIsAnyCMThread","MWPActor.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))&&!(i||(i=d("I64"))).equal(b,f)){var g;b=(yield (g=d("ReQL")).firstAsync(g.mergeJoin(g.fromTableAscending(a.tables.participants).getKeyRange(b),g.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(i||(i=d("I64"))).equal(b.contactId,f)})));return b!=null}else return!c("MWCMIsAnyCMThread")(e)});return l.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),f=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(g){if(!(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(k(b,a.threadKey,a.threadType,e).then(function(e){if(e){f==null?void 0:f({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(b),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:g,threadKey:a.threadKey})},"readwrite")}}))},[a.authorityLevel,a.threadKey,a.threadType,b,e,f])}g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno",children:j.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDProAcceptMessageRequestComposerBannerButton.react",["fbt","I64","IGDInstamadilloUtils","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MessengerWebUXLogger","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("JSResourceForInteraction")("IGDProAcceptThreadDialog.react").__setRef("IGDProAcceptMessageRequestComposerBannerButton.react");function a(a){var b=a.thread,e=a.username;a=c("useIGDSLazyDialog")(l);var f=a[0],g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("Int64Hooks").useCallbackInt64(function(){f({threadKey:b.threadKey,username:e});var a=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(b),c=d("LSMessagingThreadTypeUtil").isSecure(b.threadType),h=d("IGDInstamadilloUtils").isInstamadilloCutover(b),k=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(b),l=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(b);g==null?void 0:g({eventName:"accept_chat_request",extraData:{is_dm:String(k),is_instamadillo:String(a),is_instamadillo_tlc:String(h),is_request:String(l),is_secure:String(c),target_id:(j||(j=d("I64"))).to_string(b.threadKey)},flowInstanceId:i})},[i,g,f,b,e]);return k.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__JqJoVQCuGCc__JHASH__"),onClick:a,role:"button",variant:"secondary_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRequestComposerBanner.react",["fbt","CometPlaceholder.react","I64","IGDAcceptOpenMessageRequestComposerBannerButton.react","IGDBlockUserComposerBannerButton.react","IGDComposerCommon.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDInstamadilloUtils","IGDLeaveGroupComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDProAcceptMessageRequestComposerBannerButton.react","IGDSGlimmer.react","IGDSText.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MessageRequestsLog","ReQL","ReQLSuspense","cr:7172","cr:7251","deferredLoadComponent","react","requireDeferredForDisplay","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useMemo,p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDBlockedUserComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDComposerRestricted.react").__setRef("IGDMessageRequestComposerBanner.react")),r={displayNameGlimmer:{display:"x1rg5ohu",height:"x1ta3ar0",width:"x1pju0fl",$$css:!0}};function s(a){var b=a.displayName;a=a.username;a=a!=null?"("+a+")":"";return m.jsx(c("IGDSText.react"),{size:"body",textAlign:"center",weight:"normal",children:h._("__JHASH__9r4tbRGwdpg__JHASH__",[h._param("IG Name",b!=null?m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:b}):m.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:r.displayNameGlimmer})),h._param("IG Username",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:a}))])})}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.isGroup;var b=h._("__JHASH__0lnTHW7sFlZ__JHASH__"),d=h._("__JHASH__sFfs804Wxqx__JHASH__");return m.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:a?d:b})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.thread,g=e.inviterId,h=e.snippetSenderContactId,l=e.threadKey;a=e.threadType;var r=(i||(i=c("useReStore")))(),u=d("MWPActor.react").useActor(),v=d("LSMessagingThreadTypeUtil").isGroup(a),w=d("LSMessagingThreadTypeUtil").isSecure(a),x=d("LSMessagingThreadTypeUtil").isOneToOne(a),y=d("ReQLSuspense").useFirst(function(){var a;if(x)return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(r.tables.participants).getKeyRange(l),d("ReQL").fromTableAscending(r.tables.contacts)).filter(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,u)}).map(function(a){a[0];a=a[1];return a});a=(a=g)!=null?a:h;return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(r.tables.contacts).bounds({gte:d("ReQL").key(a),lte:d("ReQL").key(a)})},[r,x,l,g,h,u],f.id+":155");n(function(){y!=null&&w&&d("MessageRequestsLog").logMessageRequestInfoShown(e,(j||(j=d("I64"))).to_string(y.id))},[]);a="Instagram User";var z,A=!1,B=!1;if(y!=null){var C=y.name;a=C;z=y.secondaryName;A=!(j||(j=d("I64"))).equal(y.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));B=!v&&d("LSContactBitOffset").has(66,y)}C=c("usePolarisViewer")();C=C==null?!1:C.isProfessionalAccount===!0;var D=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(e),E=d("IGDInstamadilloUtils").isInstamadilloCutover(e),F=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(e),G=e?d("LSMessagingThreadTypeUtil").isSecure(e.threadType):!1,H=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(e),I=o(function(){return{is_dm:String(F),is_instamadillo:String(D),is_instamadillo_tlc:String(E),is_request:String(H),is_secure:String(G)}},[F,D,E,H,G]);if(A&&x)return y!=null?m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:m.jsx(p,{contact:y,thread:e})}):null;return B&&x?y!=null?m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:m.jsx(q,{contact:y,thread:e})}):null:m.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:w&&b("cr:7251")!=null?m.jsx(b("cr:7251"),{thread:e}):C&&y!=null?m.jsx(c("IGDProAcceptMessageRequestComposerBannerButton.react"),{thread:e,username:y.name}):m.jsx(c("IGDAcceptOpenMessageRequestComposerBannerButton.react"),{thread:e}),messageRequestBlockLeave:v?m.jsx(c("IGDLeaveGroupComposerBannerButton.react"),{thread:e}):y!=null?m.jsx(c("IGDBlockUserComposerBannerButton.react"),{contact:y,thread:e}):null,messageRequestDelete:w?b("cr:7172")==null?m.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{extraLoggingData:I,thread:e}):m.jsx(b("cr:7172"),{extraLoggingData:I,thread:e}):m.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{extraLoggingData:I,thread:e}),messageRequestFootnote:m.jsx(t,{isGroup:v}),messageRequestHeader:m.jsx(s,{displayName:a,username:z})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function a(){var a;return i.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:i.jsx(a=c("IGDSGlimmer.react"),{index:1,xstyle:j.glimmerButton}),messageRequestBlockLeave:i.jsx(a,{index:1,xstyle:j.glimmerButton}),messageRequestDelete:i.jsx(a,{index:1,xstyle:j.glimmerButton}),messageRequestFootnote:i.jsx(a,{index:1,xstyle:j.glimmerFootnote}),messageRequestHeader:i.jsx(a,{index:1,xstyle:j.glimmerHeader})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(47,a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,h=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled").isContextBannerDisabled(a)?null:i.jsxs(i.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(i.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,h!=null&&l!=null?b==null?void 0:b(h,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDBlockedBroadcastThreadDetail.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","LSVerificationBadge.react","MWPThreadContextBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){a=a.descriptionText;return j.jsx("div",{className:"xz9dl7a",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:a})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.thread;a=a.threadTitle;return j.jsx("div",{className:"x9f619 xpkgp8e xmns6w2 xh8yej3",children:j.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[j.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("LSVerificationBadge.react"),{icon:j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),threadKey:b.threadKey})})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.thread;return j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",margin:"auto",maxWidth:"415px",padding:12,position:"relative",children:j.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:function(){return j.jsx(k,{descriptionText:h._("__JHASH__LeLaIejE4Mi__JHASH__").toString()})},renderThreadPicture:function(a){return j.jsx("div",{className:"xyamay9 x1l90r2v",children:j.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})},renderThreadTitle:function(a){return j.jsx(l,{thread:b,threadTitle:a})},thread:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDCallButtonAndJoinButtonWithBlockCheck.react",["I64","IGDCallButton.react","IGDJoinCallButton.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadBitOffset","MWCMThreadTypes.react","MWPActor.react","PolarisDirectLogger","RTWebIncomingRingConfiguration","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){a=a[1];return a}).filter(function(a){return(i||(i=d("I64"))).equal(a.id,e)?!1:!(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}):d("ReQL").empty()},[b,a,e],f.id+":56")!=null}function n(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(a.threadKey).map(function(a){a=a.ongoingCallServerInfoData;return a})},[b,a],f.id+":82")}function o(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a.threadKey).map(function(a){a=a.ongoingCallState;return a})},[b,a],f.id+":98")}function p(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b)},[a,b],f.id+":110")}function a(a){var b;a=a.thread;var e=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a);b=(b=o(a))!=null?b:(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL);var f=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType),g=p();g=g!=null?d("LSContactBitOffset").has(23,g):void 0;var h=m(a),k=n(a);b=!(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))&&!(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_1TO1_CALL));var q=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),r=d("LSThreadBitOffset").has(24,a),s=d("LSThreadBitOffset").has(25,a),t=d("RTWebIncomingRingConfiguration").isSupportedClient(),u=!q&&s;q=!q&&r;(u||q)&&d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","call_button_impression",{isRTCVideoCallEnabled:r,isRTCVoiceCallEnabled:s});switch(!0){case h:case e:case!f&&g===!0:case!t:return null;case k!=null:d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","join_button_impression",{has_video:b,server_info_data:k});return l.jsx(c("IGDJoinCallButton.react"),{isVideo:b,serverInfoData:k,threadKey:a.threadKey,threadType:a.threadType});default:return l.jsxs(l.Fragment,{children:[u?l.jsx(c("IGDCallButton.react"),{isVideo:!1,threadKey:a.threadKey,threadType:a.threadType}):null,q?l.jsx(c("IGDCallButton.react"),{isVideo:!0,threadKey:a.threadKey,threadType:a.threadType}):null]})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react",["CometPlaceholder.react","IGDEqualityUtils","deferredLoadComponent","react","requireDeferredForDisplay","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDCallButtonAndJoinButtonWithBlockCheck.react").__setRef("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"));function a(a){a=a.thread;var b=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,parentThreadKey:a.parentThreadKey,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);a=j(function(){return i.jsx(k,{thread:b})},[b]);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDE2EEAttributionThreadContextBanner.react",["fbt","CometLink.react","IGDSBox.react","IGDSLockFilledIcon.react","IGDSText.react","XInstagramHelpDotComContentControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"x1iymm2a",$$css:!0},linkMargin:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}},l=h._("__JHASH__B_F6DFujXgX__JHASH__"),m=h._("__JHASH__RV-kQJWBDXB__JHASH__"),n=h._("__JHASH__4Vv_6Y5N66l__JHASH__");function a(){var a;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return j.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"secondaryBackground",direction:"column",marginEnd:4,marginStart:4,marginTop:4,maxWidth:445,paddingX:4,paddingY:3,xstyle:k.container,children:[j.jsxs(c("IGDSBox.react"),{direction:"row",children:[j.jsx(c("IGDSBox.react"),{marginEnd:2,children:j.jsx(c("IGDSLockFilledIcon.react"),{alt:l,color:"ig-primary-text","data-testid":void 0,size:8})}),j.jsx(c("IGDSText.react"),{size:"body",weight:"medium",children:m})]}),j.jsx(c("IGDSBox.react"),{direction:"row",marginTop:2,xstyle:k.text,children:j.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[l,j.jsx(c("CometLink.react"),{href:a,target:"_blank",xstyle:k.linkMargin,children:n})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDInboxAvatarWrapper.react",["IGDAvatar.react","react","useMWPPresenceStatesForThread","useMWPThreadHasActiveUser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.isMobile,d=a.thread;a=c("useMWPPresenceStatesForThread")(d);var e=c("useMWPThreadHasActiveUser")(a);return j(function(){return i.jsx(c("IGDAvatar.react"),{isActive:e,size:b?"tiny":"medium",thread:d})},[e,b,d])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDSGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12.54 7c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3ZM8.5 23a1 1 0 0 1-.912-.59l-1.707-3.793a.992.992 0 0 0-.498-.498L1.59 16.412a1 1 0 0 1 0-1.824l3.793-1.707a.994.994 0 0 0 .498-.498L7.588 8.59a1 1 0 0 1 1.824 0l1.707 3.793a.99.99 0 0 0 .498.498l3.793 1.707a1 1 0 0 1 0 1.824l-3.793 1.707a.988.988 0 0 0-.498.498L9.412 22.41A1 1 0 0 1 8.5 23Zm13.344-9.572a1.15 1.15 0 0 1-.34-.052l-6.192-1.921a1.156 1.156 0 0 1-.441-1.95l4.76-4.402V5.1a1.157 1.157 0 0 1 1.909.594l1.432 6.323c.09.401-.04.824-.342 1.103a1.16 1.16 0 0 1-.786.306Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("IGDSBox.react"),{marginStart:1,children:j.jsx(c("IGDSGenAiPanoFilled24Icon.react"),{alt:h._("__JHASH__CKs_EskqOFs__JHASH__"),color:"ig-secondary-icon",size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDProfileLinkOrFragment.react",["IGDInstamadilloUtils","IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWPThreadCapabilitiesContext","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={threadTextWidth:{display:"xjp7ctv",width:"xeq5yr9",$$css:!0}};function a(a){var b=a.children;a=a.thread;var e=(h||(h=c("useReStore")))(),g=a.threadKey,i=a.threadType,l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table,["jid"]).getKeyRange(g).map(function(a){return a.jid})},[e,g],f.id+":48"),m=(l=l)!=null?l:g;l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts,["secondaryName"]).getKeyRange(m)},[e,m],f.id+":56");var n=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();n=n.hasLSThreadBitOffset;i=d("LSMessagingThreadTypeUtil").isSecure(i)||n(41);n=d("PolarisLinkBuilder").buildUserLink((n=l==null?void 0:l.secondaryName)!=null?n:"");var o=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),p=d("IGDInstamadilloUtils").isInstamadilloCutover(a),q=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),r=a?d("LSMessagingThreadTypeUtil").isSecure(a.threadType):!1,s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();return i&&(l==null?void 0:l.secondaryName)!=null?j.jsx(c("PolarisFastLink.react"),{href:n,onClick:function(){s==null?void 0:s({eventName:"open_profile",extraData:{is_dm:String(q),is_instamadillo:String(o),is_instamadillo_tlc:String(p),is_secure:String(r)},flowInstanceId:t})},xstyle:k.threadTextWidth,children:b}):j.jsx(j.Fragment,{children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDBroadcastChannelThreadHeader.react",["fbt","CometRelativeTimestamp.react","I64","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","PolarisBigNumber.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=a.isMobile,e=a.memberCount;a=a.pauseThreadTimestamp;var f=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();f=f.hasLSThreadBitOffset;f=f(171);return k.jsxs(c("IGDSBox.react"),{children:[!b&&k.jsx(c("MWVerticalRhythm"),{height:4}),k.jsx(c("IGDSBox.react"),{alignSelf:"start",marginTop:1,children:k.jsxs(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:[h._("__JHASH__1pwPMXxqDHd__JHASH__"),e!==0?k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),k.jsx(c("PolarisBigNumber.react"),{shortenNumber:!0,value:e}),k.jsx(k.Fragment,{children:" "}),h._("__JHASH__prmnVSPmpr___JHASH__",[h._plural(e)])]}):null,!f&&a!=null&&(j||(j=d("I64"))).ge(a,(j||(j=d("I64"))).zero)?k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText"}),h._("__JHASH__RKFqy919n9u__JHASH__",[h._param("broadcast channel duration",c("CometRelativeTimestamp.react").getRelativeTimestampInFuture(new Date(),new Date((j||(j=d("I64"))).to_int32(a)*1e3),"minimized"))])]}):null]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDPresenceTextForThreadWrapper.react",["IGDPresenceTextForThread.react","IGDSBox.react","IGDSText.react","MWVerticalRhythm","react","useMWPPresenceStatesForThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isMobile;a=a.thread;a=c("useMWPPresenceStatesForThread")(a);return i.jsx(c("IGDPresenceTextForThread.react"),{presenceState:a,renderWrapper:function(a){return i.jsxs(i.Fragment,{children:[!b&&i.jsx(c("MWVerticalRhythm"),{height:4}),i.jsx(c("IGDSBox.react"),{marginTop:1,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:a})})]})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadHeaderGenAISubtitle.react",["fbt","IGDInboxGenAIStarIcon.react","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.nullstateDescriptionText;return j.jsxs(c("IGDSBox.react"),{alignSelf:"start",direction:"row",marginTop:1,children:[j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:(a=a)!=null?a:h._("__JHASH__6Hge9pFZXAs__JHASH__")}),j.jsx(c("IGDInboxGenAIStarIcon.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDThreadSubTitle.react",["I64","IGDBroadcastChannelThreadHeader.react","IGDPresenceTextForThreadWrapper.react","IGDSText.react","IGDThreadHeaderGenAISubtitle.react","LSIntEnum","MWCMThreadTypes.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.isMobile;a=a.thread;var e=a.threadSubtype!=null?d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype):!1,f=(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(201));if(e){e=a.memberCount!=null?(i||(i=d("I64"))).to_int32(a.memberCount):0;return k.jsx(c("IGDBroadcastChannelThreadHeader.react"),{isMobile:b,memberCount:e,pauseThreadTimestamp:a.pauseThreadTimestamp})}return f?k.jsx(c("IGDThreadHeaderGenAISubtitle.react"),{nullstateDescriptionText:a.nullstateDescriptionText1}):k.jsx(c("IGDSText.react"),{color:"secondaryText",children:k.jsx(c("IGDPresenceTextForThreadWrapper.react"),{isMobile:b,thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadTitleAndPresence.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadSubTitle.react","LSThreadTitle.react","LSVerificationBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}};function a(a){var b=a.isMobile;a=a.thread;return i.jsxs(c("IGDSBox.react"),{direction:"column",xstyle:j.threadTextWidth,children:[i.jsxs(c("IGDSBox.react"),{alignItems:"end",direction:"row",children:[i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"label",weight:"semibold",children:i.jsx(c("LSThreadTitle.react"),{thread:a,transforms:[]})}),i.jsx(c("LSVerificationBadge.react"),{icon:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),threadKey:a.threadKey})]}),i.jsx(c("IGDThreadSubTitle.react"),{isMobile:b,thread:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},n={4:{paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",$$css:!0},8:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0},12:{paddingStart:"x1ye3gou",paddingLeft:null,paddingRight:null,paddingEnd:"xn6708d",$$css:!0},16:{paddingStart:"x1swvt13",paddingLeft:null,paddingRight:null,paddingEnd:"x1pi30zi",$$css:!0},20:{paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},p={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},q={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},r={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},s={4:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",$$css:!0},8:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",$$css:!0},12:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,marginEnd:"xq8finb",$$css:!0},16:{marginStart:"x1d52u69",marginLeft:null,marginRight:null,marginEnd:"xktsk01",$$css:!0},20:{marginStart:"xmn8rco",marginLeft:null,marginRight:null,marginEnd:"x1h5jrl4",$$css:!0}};b=j.forwardRef(a);function a(a,b){var d,e,f,g;a=babelHelpers["extends"]({},a);d=(d=k(c("MDSColumnContext")))!=null?d:{};var i=a.align;e=i===void 0?(e=d.align)!=null?e:"stretch":i;i=a.children;var u=a.expanding;u=u===void 0?!1:u;var v=a.fallback,w=a.paddingHorizontal;f=w===void 0?(f=d.paddingHorizontal)!=null?f:0:w;w=a.paddingTop;var x=a.paddingVertical;x=x===void 0?0:x;var y=a.placeholder,z=a.verticalAlign;z=z===void 0?"top":z;var A=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"]),B=k(c("MDSColumnItemContext")),C=B.isFirst;B=B.isLast;var D=(h||(h=c("stylex"))).compose(a.xstyle);g=j.jsxs(j.Fragment,{children:[d.hasDividers===!0&&j.jsx(c("BaseView.react"),{role:"separator",xstyle:[l.divider,s[(g=d.paddingHorizontal)!=null?g:0],C&&l.firstChildDisplay]}),j.jsx(c("BaseView.react"),babelHelpers["extends"]({},A,{ref:b,xstyle:[l.root,u&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],e!=="stretch"&&m[e],z!=="top"&&r[z],n[f],p[x],w!=null&&o[w],d.spacing!=null&&[q[d.spacing],D.marginTop==null&&C&&l.firstChildMargin,D.marginBottom==null&&B&&l.lastChildMargin],a.xstyle],children:j.jsx(c("MDSColumnContext").Provider,{value:null,children:i})}))]});if(v!==void 0){a.fallback;var E=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);v===null?g=j.jsx(c("CometErrorBoundary.react"),{children:g}):g=j.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return j.jsx(t,babelHelpers["extends"]({},E,{ref:b,children:typeof v==="function"?v(a,c):v}))},children:g})}if(y!==void 0){a.placeholder;A=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);g=j.jsx(c("CometPlaceholder.react"),{fallback:y!=null?j.jsx(t,babelHelpers["extends"]({},A,{ref:b,children:y})):null,children:g})}return g}a.displayName=a.name+" [from "+f.id+"]";var t=b;e=t;g["default"]=e}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={4:{paddingEnd:"xg83lxy",paddingStart:"x1h0ha7o",$$css:!0},8:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},12:{paddingEnd:"xsyo7zv",paddingStart:"x16hj40l",$$css:!0},16:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},24:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},32:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},l={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function a(a,b){var d;d=(d=j(c("MDSRowContext")))!=null?d:{};var e=d.spacingHorizontal;d=d.spacingVertical;var f=a.fallback,g=a.placeholder,h=babelHelpers.objectWithoutPropertiesLoose(a,["fallback","placeholder"]);if(g!==void 0){a.placeholder;var n=babelHelpers.objectWithoutPropertiesLoose(a,["placeholder"]);return i.jsx(c("CometPlaceholder.react"),{fallback:g!=null?i.jsx(m,babelHelpers["extends"]({},n,{ref:b,children:g})):null,children:i.jsx(m,babelHelpers["extends"]({},n,{ref:b}))})}if(f!==void 0){a.fallback;var o=babelHelpers.objectWithoutPropertiesLoose(a,["fallback"]);return f===null?i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))}):i.jsx(c("CometErrorBoundary.react"),{fallback:function(a,c){return i.jsx(m,babelHelpers["extends"]({},o,{ref:b,children:typeof f==="function"?f(a,c):f}))},children:i.jsx(m,babelHelpers["extends"]({},o,{ref:b}))})}return i.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},h,{ref:b,useDeprecatedStyles:h.useDeprecatedStyles,xstyle:[k[e],l[d],h.xstyle],children:i.jsx(c("MDSRowContext").Provider,{value:null,children:h.children})}))}a.displayName=a.name+" [from "+f.id+"]";var m=i.forwardRef(a);b=m;g["default"]=b}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={0:{$$css:!0},4:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0},8:{paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",$$css:!0},10:{paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",$$css:!0},12:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},16:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},o={0:{$$css:!0},4:{marginEnd:"xwrv7xz",marginStart:"x8182xy",$$css:!0},8:{marginEnd:"xcud41i",marginStart:"x139jcc6",$$css:!0},10:{marginEnd:"x6zhf5e",marginStart:"xrzrlj5",$$css:!0},12:{marginEnd:"xykv574",marginStart:"xbmpl8g",$$css:!0},16:{marginEnd:"x1n0m28w",marginStart:"xp7jhwk",$$css:!0},24:{marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},32:{marginEnd:"x19f6ikt",marginStart:"x169t7cy",$$css:!0}},p={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function a(a,b){var d,e=j(c("MDSColumnContext")),f=j(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,h=(e==null?void 0:e.spacing)!=null?0:16,q=a.children,r=a.paddingHorizontal;g=r===void 0?g:r;r=a.paddingVertical;r=r===void 0?0:r;var s=a.paddingTop;d=s===void 0?(d=a.paddingVertical)!=null?d:h:s;h=a.spacing;s=h===void 0?12:h;h=a.spacingHorizontal;var t=h===void 0?s:h;h=a.spacingVertical;var u=h===void 0?s:h;s=a.xstyle;h=babelHelpers.objectWithoutPropertiesLoose(a,["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"]);a=k(function(){return{spacingHorizontal:t,spacingVertical:u}},[t,u]);b=i.jsx(c("BaseRow.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:[l[g],n[r],d!=null&&m[d],o[t],p[u],s],children:i.jsx(c("MDSRowContext").Provider,{value:a,children:q})}));if(f!=null)return i.jsx(c("MDSRowItem.react"),{expanding:h.expanding,children:b});return e!=null?i.jsx(c("MDSColumnItem.react"),{expanding:h.expanding,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);d=e;g["default"]=d}),98);
__d("IGDInboxHeader.react",["fbt","CometPressable.react","IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react","IGDEqualityUtils","IGDInboxAvatarWrapper.react","IGDInstamadilloUtils","IGDMobileNavigationButton.react","IGDNavigation","IGDProfileLinkOrFragment.react","IGDSIconButton.react","IGDSInfoFilledIcon.react","IGDSInfoOutlineIcon.react","IGDSectionHeader.react","IGDThreadListNewMessageLoggingDataContext","IGDThreadTitleAndPresence.react","Int64Hooks","LSMessagingThreadTypeUtil","MAWThreadCutover","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWPBumpEntityKey","MessengerWebUXLogger","PolarisCallGatingHelpers","WebUXLoggingSurfaceContextProvider","gkx","react","useIGDDeviceType","useIsReadOnlyFeatureLimited","useRoutePassthroughProps","useStableValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;e=b.memo;var k=b.useMemo,l={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}},m=h._("__JHASH__YAMsEplqqD7__JHASH__");function n(a){var b=a.info,e=a.setInfo,f=a.thread;a=d("useIGDDeviceType").useIGDDeviceType().isMobile;var g=d("IGDNavigation").useIGDNavigation(),i=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),k=!d("LSMessagingThreadTypeUtil").isGroup(f.threadType)&&c("gkx")("24013"),n=d("MAWThreadCutover").useIsCutoverOpenThread(f.threadKey),o=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f.threadSubtype),p=c("useRoutePassthroughProps")(),q=p!=null&&p.entryPoint==="pendingRequests",r=p!=null&&p.entryPoint==="inboxSpam";p=d("LSMessagingThreadTypeUtil").isOneToOne(f.threadType);var s=c("useIsReadOnlyFeatureLimited")();s=d("PolarisCallGatingHelpers").isWebCallingEnabled()&&!s&&(k||!i)&&!d("LSMessagingThreadTypeUtil").isPartnership(f.threadSubtype);var t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),u=c("MessengerWebUXLogger").useInteractionLogger();k=d("Int64Hooks").useCallbackInt64(function(){var a=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(f),c=d("IGDInstamadilloUtils").isInstamadilloCutover(f),g=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(f),h=f?d("LSMessagingThreadTypeUtil").isSecure(f.threadType):!1;u==null?void 0:u({eventName:"open_thread_info",extraData:{is_dm:String(g),is_instamadillo:String(a),is_instamadillo_tlc:String(c),is_secure:String(h)},flowInstanceId:t});e(!b);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},[t,b,u,e,f]);return j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"inbox_header",children:j.jsx(c("IGDSectionHeader.react"),{endAdornment:n?null:j.jsxs(j.Fragment,{children:[s?j.jsx(c("IGDCallButtonAndJoinButtonWithBlockCheckWrapper.react"),{thread:f}):null,j.jsx("div",{className:"x78zum5 x4uap5 xurb0ha",children:j.jsx(c("IGDSIconButton.react"),{onClick:k,padding:0,children:b?j.jsx(c("IGDSInfoFilledIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0}):j.jsx(c("IGDSInfoOutlineIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0})})})]}),isMobile:a,startAdornment:a?j.jsx(c("IGDMobileNavigationButton.react"),{onClick:function(){if(q)return g.openPendingInbox();return r?g.openHiddenRequests():g.goToNullState()}}):null,children:j.jsxs(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j.jsx(c("MDSRowItem.react"),{children:p?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:f,children:j.jsx(c("IGDInboxAvatarWrapper.react"),{isMobile:a,thread:f})}):j.jsx(c("CometPressable.react"),{"aria-label":o?h._("__JHASH__GzYxmRVjA0o__JHASH__"):h._("__JHASH__EtZPWoRxaAi__JHASH__"),onPress:function(){e(!b);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},overlayDisabled:!0,children:j.jsx(c("IGDInboxAvatarWrapper.react"),{isMobile:a,thread:f})})}),j.jsx(c("MDSRowItem.react"),{expanding:!0,children:p?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:f,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:a,thread:f})}):j.jsx(c("CometPressable.react"),{onPress:function(){e(!b);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.infobar","toggle_info_panel")},overlayDisabled:!0,xstyle:l.threadTextWidth,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:a,thread:f})})})]})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.info,c=a.setInfo;a=a.thread;var e=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,memberCount:a.memberCount,nullstateDescriptionText1:a.nullstateDescriptionText1,parentThreadKey:a.parentThreadKey,pauseThreadTimestamp:a.pauseThreadTimestamp,threadKey:a.threadKey,threadName:a.threadName,threadPictureUrl:a.threadPictureUrl,threadPictureUrlExpirationTimestampMs:a.threadPictureUrlExpirationTimestampMs,threadPictureUrlFallback:a.threadPictureUrlFallback,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return k(function(){return j.jsx(n,{info:b,setInfo:c,thread:e})},[b,c,e])}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),226);
__d("E2EEMessagingLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isSecure;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.E2EEMessagingLinkProvider=a;g.useE2EEMessagingLink=b}),98);
__d("IGDChatBubble.react",["MWPSolidMessageBubble.react","PolarisLikeAnimation.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.memo;var j=b.useMemo;function k(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA;a=a.showLikeAnimation;var h=j(function(){return f&&!g?{backgroundColor:"#3797F0",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}:{backgroundColor:"rgb(var(--ig-highlight-background))",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}},[f,g]);return i.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:d,connectTop:e,outgoing:f,precedesXMA:g,style:h,children:[b,a?i.jsx(c("PolarisLikeAnimation.react"),{likeEventCount:1},"igd-like-animation"):null]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.connectBottom,d=a.connectTop,e=a.isSecure,f=a.outgoing;a=a.precedesXMA;e=i.jsx(l,{isSecure:e,outgoing:f,children:i.jsx(k,{connectBottom:c,connectTop:d,outgoing:f,precedesXMA:a,showLikeAnimation:!1,children:b})});if(a)return i.jsx("div",{role:"none",style:{width:"100%"},children:e});else return e}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.children,d=a.isSecure;a=a.outgoing;return!d||!c("gkx")("24015")?b:i.jsxs(i.Fragment,{children:[a?i.jsx(m,{outgoing:a}):null,b,a?null:i.jsx(m,{outgoing:a})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.outgoing;return i.jsx("div",{style:{alignItems:"center",display:"flex",paddingLeft:a?0:"4px",paddingRight:a?"4px":0},children:"\ud83d\udd0f"})}m.displayName=m.name+" [from "+f.id+"]";d=e(a);g["default"]=d}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("MWPMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(o(r))return h._("__JHASH__INRUrq18hhv__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(r!=null)if(e!=null)if(n(r))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(o(r))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(n(r))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(o(r))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),226);
__d("IGDForwardedContent.react",["IGDSText.react","MWPForwardedContent","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{paddingTop:"x889kno",$$css:!0},textIncoming:{paddingStart:"x1ye3gou",$$css:!0},textOutgoing:{paddingEnd:"xsyo7zv",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,a?k.textOutgoing:k.textIncoming),children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon.react","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx(c("IGDSHeartPanoFilledIcon.react"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageSendErrorStatus.react",["fbt","IGDSCircleXOutlineIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"x78zum5 xdt5ytf x13a6bvl x1k2j06m x1n2onr6",children:j.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:h._("__JHASH__3lAzcCmpfEs__JHASH__"),color:"ig-error-or-destructive","data-testid":void 0,size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageSendingStatus.react",["fbt","CometScreenReaderText.react","IGDSDirectPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsxs("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1n2onr6",children:[j.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:"IGD message sending status icon",color:"ig-secondary-text","data-testid":void 0,size:12}),j.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__MuPLBp1vro6__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){a=a.message;a=a.sendStatusV2;return k.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od",children:(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1))?k.jsx(c("IGDMessageSendingStatus.react"),{}):(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))?k.jsx(c("IGDMessageSendErrorStatus.react"),{}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return[];a=d("PolarisIGHashtagRegex").matchHashtags(a);return a.map(function(a){var b=a.endIndex,c=a.hashtag;a=a.startIndex;return{entity:{__typename:"Hashtag",uri:d("PolarisLinkBuilder").buildTagLink(c)},length:b-a,offset:a}})}g.getHashtagRanges=a}),98);
__d("MWPVisibleMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState;e={setVisibleMessage:c("emptyFunction"),visibleMessage:void 0};var m=d(e);function a(a){a=a.children;var b=l(),c=b[0],d=b[1];b=k(function(){return{setVisibleMessage:d,visibleMessage:c}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWPVisibleMessageContext=m;g.MWPVisibleMessageContextProvider=a;g.useMWPVisibleMessageContext=b}),98);
__d("MessageProfileRangeTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MWV2ChatTextParserUtils",["EmojiRenderer","EmoticonRenderer","I64","LSContactTypeExact","LSIntEnum","MWChatTextFormatting","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),c=d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});b=b.concat(c).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var e={contents:0},f={contents:0};c=b.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return k.test(c)===!1});b=e.contents!==a.length&&!k.test(a.substring(f.contents));if(c)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function l(a){if(c("gkx")("23433"))return"/t/"+a;else return"/messages/t/"+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":109")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g){b=b.split(",");var i=c.split(","),k=e.split(","),n=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeTypeUtils").ofString(n[e]),o=Number(i[e]);e=Number(k[e]);var p=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));p=e-p;e=e-p;f==="t"||f==="a"?b.push({entity:{__typename:"Profile",id:c,uri:l(c)},length:o,offset:e}):f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:o,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:o,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:o,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:o,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("MWV2ChatTextUtils",["MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a,b,c){var e=b.mentionIds,f=b.mentionLengths,g=b.mentionOffsets;b=b.mentionTypes;return e!=null&&f!=null&&g!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,e,f,g,b,c):[]}function l(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=f.visibleMessage;return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:k(e,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a).concat(d("MWV2ChatTextParserUtils").findRanges(a)).concat(l(g==null?void 0:g,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,e,g])}g.useRanges=a}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.outgoing,e=a.text,f=a.xstyle,g=a.ranges,h=a.renderers;a=a.transforms;return e==null?null:i.jsx(c("MWXText.react"),{color:b?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.regular,b?j.outgoing:j.incoming,f],children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:g,renderers:h,text:e,transforms:(b=a)!=null?b:d("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.message,e=a.xstyleForForwarded,f=a.xstyleForText,g=a.outgoing,h=a.ranges,l=a.renderers,m=a.text;a=a.transforms;if(m==null)return null;b=b.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(b.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));l=k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:g,ranges:h,renderers:l,text:m,transforms:(h=a)!=null?h:d("MWChatTextTransform").textTransforms,xstyle:f});return b?k.jsx(c("MWXMessageBlockQuote.react"),{outgoing:g,xstyle:e,children:l}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._("__JHASH__dr5LK8JTLfs__JHASH__"),o=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),226);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:269","cr:820","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,c){var e=a.encryptedLink;a=babelHelpers.objectWithoutPropertiesLoose(a,["encryptedLink"]);var f=d("E2EEMessagingLinkContext.react").useE2EEMessagingLink();f=f||e===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};if(b("cr:269"))return i.jsx(b("cr:269"),babelHelpers["extends"]({},a,f,{ref:c}));return b("cr:820")?i.jsx(b("cr:820"),babelHelpers["extends"]({},a,f,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";c=i.forwardRef(a);e=c;g["default"]=e}),98);
__d("getMAWLinkEntityRenderer.react",["MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle:g,children:a})})})}}g["default"]=a}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("24165")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","react","useIGDDeviceType","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},l=["Ai",function(a){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}];function a(a,b,e,f){var g=c("useMWPLinkRendererFactory")(b),h=e&&f?k.textPrecedesXMA:e?k.regularOutgoing:k.regularIncoming;b=d("useIGDDeviceType").useIGDDeviceType();f=b.isMobile;var i=f?"_self":"_blank",m=c("useMWPCombineTextRenderers")(j(function(){return[g([k.link],"ig_chat_message_regular_link","Link",i),g([k.bold,h],"ig_profile_link","Profile",i),g([k.bold,h],"ig_chat_message_regular_hashtag","Hashtag",i),l]},[g,i,h]));return j(function(){var b=babelHelpers["extends"]({},m);a===!0&&(b.MessengerTextFormatting=[e?d("MWChatTextFormatting").messageRenderer:d("MWChatTextFormatting").messageIncomingRenderer]);return b},[a,e,m])}g["default"]=a}),98);
__d("IGDMessageListText.react",["IGDGetHashtagRanges.react","MWV2ChatTextUtils","MWXMessageListText.react","react","useIGDTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.enableMessengerTextFormatting,e=a.isSecureMessage,f=a.message,g=a.outgoing;a=a.precedesXMA;var h=f.textHasLinks;b=c("useIGDTextRenderers")(b,e,g,a);e=d("IGDGetHashtagRanges.react").getHashtagRanges(f.text);e=d("MWV2ChatTextUtils").useRanges(f.text,f).concat(e);return i.jsx(c("MWXMessageListText.react"),{message:f,outgoing:h||a?!1:g,ranges:e,renderers:b,text:f.text})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",{className:(h||(h=c("stylex")))(l.container,a),role:"none",children:[b.map(function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(l.items,d),role:"none",children:a},""+b)}),e?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.reactionFbid;d[3]=b.nextPageCursor;return c("LSIssueReactionsV2DetailsUsersListFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWXDialogLoadingState.react",["cr:9909","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9909")}),98);
__d("useMWXLazyDialog",["MWXDialogLoadingState.react","react","tracePolicyFromResource","useBaseLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=function(a){return i.jsx(c("MWXDialogLoadingState.react"),{onClose:a})};function a(a,b,d){var e=c("tracePolicyFromResource")("mwp.dialog",a);return c("useBaseLazyDialog")(a,(a=b)!=null?a:j,e,d)}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=p(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":64"));return a}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e)},[b,g,e],f.id+":89");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":103");return a}function u(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function v(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function w(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,w=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E=d("MWLSThread").useThread(w,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(w),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,w]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":224");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,w,t,p],f.id+":218");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,w);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?v(E):v(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=u(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:w}}},[g,w]),M=n(function(){y(function(){return!1}),x(function(){return!0})},[x,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null?void 0:h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:w};return D||!G?b(K,E,k,g,w,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,w,O,!1,c("emptyFunction"))})}w.displayName=w.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=w}),226);
__d("useIGDBroadcastChannelReactionsFooterButtonClickLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){var e=d("MWLSThread").useThread(a,function(a){return a.threadSubtype});e=e!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e);var f=c("useIGDBroadcastChannelLogger")(a);a=i(function(){c("promiseDone")(f(babelHelpers["extends"]({},d("IGDBroadcastChannelLoggingShapes").REACTIONS_FOOTER_BUTTON_CLICK_SHAPE,{extra:{mid:b}})))},[f,b]);return e?a:c("emptyFunction")}g["default"]=a}),98);
__d("IGDMessageRowFooter.react",["IGDSEmoji.react","IGDSingleAvatar.react","JSResourceForInteraction","MWPActor.react","MWPMessageFooter.react","MWPMessageReactions.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","requireDeferred","stylex","useIGDBroadcastChannelReactionsFooterButtonClickLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageRowFooter.react"),m=c("JSResourceForInteraction")("IGDBroadcastChannelReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),n=c("JSResourceForInteraction")("IGDReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),o={footerContainer:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},footerContainerOutgoing:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0},reactionPillEmoji:{alignItems:"x6s0dn4",display:"x78zum5",fontSize:"x1pg5gke",height:"x1v9usgg",justifyContent:"xl56j7k",marginStart:"x12mruv9",marginEnd:"xfs2ol5",textAlign:"x2b8uid",width:"x6jxa94",$$css:!0},singleReaction:{marginEnd:"xfs2ol5",$$css:!0},translate:{transform:"x1wx64ow",$$css:!0},translateReset:{transform:"x1c1b4dv",$$css:!0}};function p(a){var b=a.reaction,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(b.actorId)},[e,b.actorId],f.id+":98");if(a!=null)return k.jsx("div",{className:"x12mruv9 xfs2ol5",role:"none",children:k.jsx(c("IGDSingleAvatar.react"),{size:"micro",src:a.profilePictureUrl})});else return null}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.count,d=a.emojis,e=a.reactions,f=a.shouldShowAvatarForSingleReaction,g=e.length===1;a=d.map(function(a,b){return k.jsx("span",{className:(i||(i=c("stylex")))([o.reactionPillEmoji,g&&!f?o.singleReaction:!1]),children:k.jsx(c("IGDSEmoji.react"),{emoji:a.join("")})},String(b))});return k.jsxs("div",{className:"x6s0dn4 x19g9edo x1yhmmig xeqyd3i xyb01ml xdn568n x13zp6kq x1mcfq15 xrosliz x1wb7cse x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x1gnnqk1 x9f619 x78zum5 x1q0g3np x17rw0jw xl56j7k xo5v014 x16hj40l xsyo7zv",role:"none",children:[a,g&&f?k.jsx(p,{reaction:e[0]}):null,b>1?k.jsx("div",{className:"x5n08af x1f6kntn x12mruv9 xfs2ol5",role:"none",children:c("intlSummarizeNumber")(b)}):null]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.hasReactions,e=a.isGroupThread,f=a.message,g=a.outgoing,i=a.reactions,j=a.reactionsV2;a=a.resetReactionTranslateStyle;var p=d("MWPActor.react").useActor(),r=(h||(h=c("useReStore")))(),s=j!=null&&j.length>0,t=c("useIGDBroadcastChannelReactionsFooterButtonClickLogger")(f.threadKey,f.messageId);return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{itemsXstyle:a===!0?o.translateReset:o.translate,outgoing:g,xstyle:g?o.footerContainerOutgoing:o.footerContainer,children:b?k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{dialogResource:s?m:n,message:f,onPress:function(){l.onReady(function(a){return c("promiseDone")(a.log(r,f.messageId,f.threadKey,"direct_click","view_message_reactions",void 0,void 0,void 0,f.senderId,void 0,p))}),t()},outgoing:g,reactions:i,reactionsV2:s?j:void 0,shouldUseVariant16ForReactionsV2:s,children:function(a,b,c){return k.jsx(q,{count:b,emojis:a,reactions:c,shouldShowAvatarForSingleReaction:s?!1:e})}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedEphemeralMessage.react",["EphemeralMediaViewMode","IGDChatImage.react","IGDChatVideo.react","IGDEphemeralButton.react","LSIntEnum","MessagingAttachmentType","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=340*.6,l=236*.6;function a(a){var b=a.attachment,e=a.message;a=a.outgoing;if(b.ephemeralMediaViewMode!=null){var f=(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.ephemeralMediaViewMode);if(f===c("EphemeralMediaViewMode").PERMANENT)switch((i||(i=d("LSIntEnum"))).toNumber(b.attachmentType)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return j.jsx(c("IGDChatImage.react"),{attachment:b,connectBottom:!1,connectTop:!1,maxHeight:k,maxWidth:l,message:e,outgoing:a});case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return j.jsx(c("IGDChatVideo.react"),{attachment:b,connectTop:!1,maxHeight:k,maxWidth:l,message:e,outgoing:a});default:}}return j.jsx(c("IGDEphemeralButton.react"),{attachment:b,connectBottom:!1,connectTop:!1,disabled:!0,outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrlAttachment","MWPBaseXMAAttachment.react","MWPXMAIconParser","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useMemo,l={card:{backgroundColor:"x19g9edo",$$css:!0},container:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",zIndex:"x1vjfegm",$$css:!0},headerImage:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,marginStart:"x139jcc6",marginTop:"x9otpla",marginBottom:"x1wsgfga",objectFit:"xl1xv1r",$$css:!0},preview:{position:"x1n2onr6",$$css:!0},previewHeader:{end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};b={"mwp-xma-message-bubble-max-width":"200px"};var m={dark:b,light:b,type:"VARIABLES"};e={"mwp-xma-message-bubble-max-width":"100px"};var n={dark:e,light:e,type:"VARIABLES"};function o(a){return k(function(){var b=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(a));b=typeof b==="string"?b:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function p(a){var b=d("LSMediaUrlAttachment").previewUrl(a);a=d("LSMediaUrlAttachment").playableUrl(a);b=b!=null||a!=null;a=function(a,b){return d("LSMediaUrlAttachment").previewUrl(a)};return{getPreviewImageUrlXMA:a,hasPreview:b}}function a(a){var b=a.attachment,d=c("useXMAPreviewIconDecorator.react")(b.previewImageDecorationType),e=o(b);a=p(b);var f=a.getPreviewImageUrlXMA,g=a.hasPreview,i=d!=null,k=e!=null&&!g;return j.jsx(c("BaseTheme.react"),{config:k?m:n,children:j.jsx(c("MWPBaseXMAAttachment.react"),{attachment:b,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:function(a){switch(a.layoutType){case"vertical":return j.jsxs("div",{className:(h||(h=c("stylex")))([l.container,l.card,g&&l.preview]),children:[(k||i)&&j.jsx("div",{className:(h||(h=c("stylex")))([l.header,g&&l.previewHeader]),children:k&&j.jsxs(j.Fragment,{children:[(e==null?void 0:e.imageUrl)!=null&&j.jsx(c("BaseImage.react"),{height:20,src:e.imageUrl,width:20,xstyle:l.headerImage}),(e==null?void 0:e.title)!=null&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:e.title})]})}),j.jsx("div",{className:"x1ey2m1c xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:d}),g&&a.preview!=null&&j.jsxs(j.Fragment,{children:[j.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:a.preview,getPreviewImageUrlXMA:f,size:"small"}),i&&j.jsx("div",{className:"xnp7tpx x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy"})]})]});case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyTo.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.xstyle;a=a===void 0?!1:a;return k.jsxs(c("MWXMessageBubble.react"),{align:d?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[k.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",{className:(i||(i=c("stylex")))(l.content,a),"data-testid":void 0,children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return k.jsx(c("MWV2ReplyTo.react"),{outgoing:a,children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,k.jsx("span",{className:"x1lliihq x1i64zmx",children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedEphemeralMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function a(a){var b=a.message;a=a.outgoing;var e=(h||(h=c("useReStore")))(),g=b==null?void 0:b.replySourceId,k=b==null?void 0:b.threadKey,m=d("ReQLSuspense").useArray(function(){return g!=null&&k!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(k,g):d("ReQL").empty()},[e,g,k],f.id+":41").sort(d("IGDRepliedUtils").orderByUserSelection),n=m.length;if(n===0||b==null)return null;else if(n>1)return l.jsx(c("MWRepliesAttachment.react"),{outgoing:a});else{n=m[0];if((i||(i=d("I64"))).equal(n.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(n))return l.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,outgoing:a});else if(n.playableUrlMimeType==="image/gif")return l.jsx(c("IGDSticker.react"),{attachment:n});else return l.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:n});else if((i||(i=d("I64"))).equal(n.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(n.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)))return l.jsx(c("IGDRepliedEphemeralMessage.react"),{attachment:n,message:b,outgoing:a});else return l.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWPSolidMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=a.children,e=a.message;a=a.xstyle;var f=e.replyToUserId;return l.jsxs(c("MWPSolidMessageBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:f!=null?(k||(k=d("I64"))).equal(e.senderId,f):!1,precedesXMA:!1,style:{backgroundColor:"rgb(var(--ig-highlight-background))"},children:[l.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__shPgdhtmHCq__JHASH__")}),l.jsx("div",{className:(i||(i=c("stylex")))(m.content,a),children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__ZBYp1F66CjG__JHASH__"),n={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=b.replyAttachmentId,g=b.replySourceId,h=b.threadKey,k=(i||(i=c("useReStore")))(),o=d("ReQLSuspense").useFirst(function(){return g!=null&&e!=null?d("ReQL").fromTableAscending(k.tables.attachments).getKeyRange(h,g,(j||(j=d("I64"))).to_string(e)):d("ReQL").empty()},[k,h,g,e],f.id+":46");return o!=null?l.jsx(c("IGDChatImage.react"),{attachment:o,connectBottom:!1,connectTop:!1,maxHeight:340*.6,maxWidth:236*.6,message:b,outgoing:a}):l.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:n.italic,children:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMediaUrlAttachment","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._("__JHASH__ZBYp1F66CjG__JHASH__"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=(i||(i=c("useReStore")))(),g=b.replySourceId,h=b.threadKey,j=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(h,g):d("ReQL").empty()},[e,g,h],f.id+":48").sort(d("IGDRepliedUtils").orderByUserSelection),n=j.length;if(n===0)return null;else if(n>1)return k.jsx(c("MWRepliesAttachment.react"),{outgoing:a});n=j[0];return n!=null?k.jsx(c("IGDXMAAttachment.react"),{attachment:n,connectBottom:!1,connectTop:!1,getFaviconUrlXMA:function(a){return d("LSMediaUrlAttachment").faviconUrl(a)},getHeaderImageUrlXMA:function(a){return d("LSMediaUrlAttachment").headerImageUrl(a)},getPreviewImageUrlXMA:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},message:b,outgoing:a}):k.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:m.italic,children:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedSticker.react",["fbt","CometPlaceholder.react","I64","IGDSticker.react","MWRepliesAttachment.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a.isSecureMessage;var b=a.message;a=a.outgoing;var e=h._("__JHASH__7nu6v4CDF6l__JHASH__"),g=(i||(i=c("useReStore")))(),k=d("ReQLSuspense").useFirst(function(){var a=b.replyAttachmentId,c=b.replySourceId;return c!=null&&a!=null?d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(b.threadKey,c,(j||(j=d("I64"))).to_string(a)):d("ReQL").empty()},[g,b],f.id+":45");return k==null?l.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:m.italic,children:e}):l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWRepliesAttachment.react"),{outgoing:a}),children:l.jsx(c("IGDSticker.react"),{attachment:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","MWV2MessageIsEmojiOnly","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=a.message;a=a.text;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);return c("MWV2MessageIsEmojiOnly")(a,!1)?i.jsx(c("IGDChatEmoji.react"),{text:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:e,children:i.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:f,transforms:d("MWChatTextTransform").textTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isSecureMessage;b===void 0?!1:b;b=a.message;a=a.outgoing;var e=b.replyAttachmentId,g=b.replySourceId,j=b.threadKey,l=(h||(h=c("useReStore")))(),m=d("ReQLSuspense").useFirst(function(){return g!=null&&e!=null?d("ReQL").fromTableAscending(l.tables.attachments).getKeyRange(j,g,(i||(i=d("I64"))).to_string(e)):d("ReQL").empty()},[l,e,g,j],f.id+":35");return m!=null?k.jsx(c("IGDChatVideo.react"),{attachment:m,connectTop:!1,maxHeight:340*.6,maxWidth:236*.6,message:b,outgoing:!1}):k.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction").set(b,g);e!=null&&((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",(h||(h=d("I64"))).to_string(f));return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),e=b.setVisibleMessage,f=c("useLSMessagingInitiatingSource")(),g=c("useCometInteractionTracing")(c("qpl")._(25301087,"7779"),"fast","INTERACTION");return i(function(b,c,h,i){var j=h!=null?h:"",k=i!=null?i:[];return g(function(g){e({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger").startHeroInteractionTrace(g,b,f,d("MWVersion").v2)})},[a,e,g,f])}g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a,b){var d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,h=g===void 0?!1:g;g=a.paddingHorizontal;var p=g===void 0?null:g;g=a.paddingTop;var q=a.paddingVertical;q=q===void 0?0:q;var r=a.spacing,s=r===void 0?null:r;r=a.verticalAlign;r=r===void 0?"top":r;var u=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]);var v=j(c("MDSColumnContext")),w=k(function(){return{align:e,hasDividers:h,paddingHorizontal:p,spacing:s}},[e,h,p,s]);a=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[l.root,f===!0&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],n[q],g!=null&&m[g],u],children:i.jsx(c("BaseView.react"),{xstyle:[l.inner,r!=="top"&&o[r]],children:i.jsx(c("MDSColumnContext").Provider,{value:w,children:t(d)})})}));if(v!=null){return i.jsx(c("MDSColumnItem.react"),{expanding:(b=f)!=null?b:void 0,children:a})}return a}a.displayName=a.name+" [from "+f.id+"]";e=i.forwardRef(a);d=e;var p={isFirst:!0,isLast:!1},q={isFirst:!1,isLast:!0},r={isFirst:!0,isLast:!0},s={isFirst:!1,isLast:!1};function t(a){return i.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?r:e?p:d?q:s;return i.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=d}),98);
__d("MDSGlimmer.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);var d=c("useCurrentDisplayMode")();return i.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:[d==="dark"?j.dark:j.light,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__l-5nlfLCheV__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__LLSQ7_q3mOX__JHASH__"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","MWCMIsAnyCMThread","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","promiseDone","react","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n(j.zero);var f=a[0],g=a[1];a=n(null);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1],r=c("usePrevious")(b),s=c("usePrevious")(f);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var t=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var u=a[0],v=o(),w=d("MWLSThread").useThread(b,function(a){return c("MWCMIsAnyCMThread")(a.threadType)});m(function(){w!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(f)&&r!==b&&s!==f&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",w?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),t({ctaType:p,rollCallId:f,scrollToContributionMessageId:h,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(j.zero),i(null)}),c("promiseDone")(v(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&u({asCreator:!1,rendererStrategy:a})}))},[w,s,r,f,t,b,h,v,u,p]);return l(function(a,b,c,d){e(b),g(a),i(c),q(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,h=a.outgoing,m=a.renderAttachment,n=a.renderExpiredMessage,o=a.renderGIF,p=a.renderMedia,q=a.renderPost,r=a.renderRemovedMessage,s=a.renderRollcallContribution,t=a.renderSticker,u=a.renderStory,v=a.renderTextMessage,w=a.renderUnavailableMessage;a=a.renderVideo;var x=g.replyAttachmentId,y=g.replyAttachmentType,z=g.replyMessageText;y!=null&&(!e||g.replyStatus!=null&&!(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))?((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=k.jsx(u,{isSecureMessage:f,message:g,outgoing:h}):x!=null?(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?s!=null?e=k.jsx(s,{message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=k.jsx(a,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?o!=null?e=k.jsx(o,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))?t!=null?e=k.jsx(t,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))?e=k.jsx(m,{message:g,outgoing:h}):q!=null?e=k.jsx(q,{message:g,outgoing:h}):e=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(y),"messenger_comet"):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&t!=null?e=k.jsx(t,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&m!=null?z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null:x!=null?g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?r!=null?e=k.jsx(r,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?n!=null?e=k.jsx(n,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?w!=null?e=k.jsx(w,{outgoing:h}):e=null:z!=null&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null;u=k.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var A=g.replySourceTimestampMs,B=g.replySourceId,C=c("useMWJumpToMessage")("Pinned");s=y!=null&&((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var D=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(B!=null&&A!=null&&b){o=function(){C(B,A)};if(s&&a){var E=(i||(i=d("I64"))).of_string((q=g.replyAttachmentExtra)!=null?q:"0"),F=g.threadKey,G=(t=g.replySourceId)!=null?t:null;o=function(){D(E,F,G,null)}}return k.jsx(c("MWXPressable.react"),{onPress:o,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:u})}else return u}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesImage.react",["I64","MWLSThreadDisplayContext","MWPStableImage.react","MWPThreadCapabilitiesContext","cr:4509","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.imageAlt;f=f===void 0?"":f;var g=a.isSticker;g=g===void 0?!1:g;var j=a.outgoing,m=a.src;a=a.width;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();n=n==="ChatTab";var o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.blurMediaEnabled;o=c("gkx")("24098")&&o;j=g?!1:j?l.outgoing:l.incoming;f=k.jsx(d("MWPStableImage.react").MWPStableImage,{alt:f,className:(h||(h=c("stylex")))(l.root,g&&l.rootHasSticker,j),height:e!=null?(i||(i=d("I64"))).to_float(e):void 0,maxHeight:100,maxWidth:n?180:300,src:m,width:a!=null?(i||(i=d("I64"))).to_float(a):void 0});return b("cr:4509")!=null&&o&&!g?k.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:m,xstyle:[l.root,j],children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","I64","MWRepliesImage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:9765")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((j||(j=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory"):null}:c("getLSMediaMessageReplyMediaUrl");e=e(f);return e==null?null:k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:k.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedSticker.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.react","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesStory.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isSecureMessage,d=a.message;a=a.outgoing;return i.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("IGDRepliedMedia.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("IGDRepliedSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a.label!==void 0}function a(a){var c=j(a)?a.label:a.tooltip;a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,["label"]);if(b("cr:998")!=null)return i.jsx(b("cr:998"),babelHelpers["extends"]({label:c},a));return b("cr:8602")!=null?i.jsx(b("cr:8602"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("isEditMessageHistoryEnabledForIGD",["isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("isInstamadillo")()||c("qex")._("833")===!0}g["default"]=a}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","LSMessagingThreadTypeUtil","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","gkx","isEditMessageHistoryEnabledForIGD","qex","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.hasSeparator;a=a.xstyle;var e=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},f=e.setShowEdits,g=e.showEdits;function i(){f(!g)}e=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var k=g?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__3fxL6sM27ni__JHASH__"),l=g?h._("__JHASH__WqoEC9S0Sry__JHASH__"):h._("__JHASH__0I22sJ_f1hm__JHASH__");return j.jsxs(j.Fragment,{children:[b&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:l,position:"above",tooltip:l,children:j.jsx(c("MWXLink.react"),{color:d("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:i,ref:e,weight:"medium",children:j.jsxs(d("react-strict-dom").html.span,{"data-testid":void 0,children:[k," "]})})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.hasSeparator,e=a.threadType;a=a.xstyle;e=e!=null&&d("LSMessagingThreadTypeUtil").isSecure(e);var f=c("isEditMessageHistoryEnabledForIGD")();e=!e&&c("qex")._("22")||c("gkx")("24097");return f||e?j.jsx(k,{hasSeparator:b,xstyle:a}):j.jsx(c("MWEditedEyebrowLabel.react"),{hasSeparator:b,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=k;g.MWEditedEyebrow=a}),226);
__d("IGDReplySnippet.react",["IGDSText.react","MWEditedEyebrow.react","MWLSThread","isMWEditedMessage","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={container:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x889kno",$$css:!0},containerIncoming:{paddingStart:"xurb0ha",$$css:!0},containerOutgoing:{paddingEnd:"x1sxyh0",$$css:!0},separator:{paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=b.replySnippet,f=c("isMWEditedMessage")(b);b=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType});if(e!=null)return j.jsx("div",{className:(h||(h=c("stylex")))(k.container,a?k.containerOutgoing:k.containerIncoming),children:j.jsxs(c("IGDSText.react").Footnote,{color:"secondaryText",children:[e,f&&j.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:!0,threadType:b,xstyle:k.separator})]})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchPluginUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];a=decodeURIComponent(a);h.includes("source_titles")&&b.push(a.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(a.replaceAll("+"," "));h.includes("source_urls")&&d.push(a);h==="source_query"&&(e=a.replaceAll("+"," "));h==="source_query_url"&&(f=a);h==="header"&&(g=a)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}function b(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&a.cta2Type==="xma_gen_ai_search_plugin_response_sources"}f.useSearchPluginSources=a;f.isSearchPlugin=b}),66);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={root:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=b.attachmentCta1Id;b=b.attachmentCta2Id;a=c("useMWPGetAttachmentCTA")(a);b=c("useMWPGetAttachmentCTA")(b);var h=d("MWSearchPluginUtils").useSearchPluginSources(b==null?void 0:b.nativeUrl),m=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var n=f[0];f=m?"highlight":"blueLink";m=m?"bodyLink4":"body4";var o=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),p=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},o)),q=c("MessengerWebUXLogger").useInteractionLogger(),r=j(function(){q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_more"},o))},[q,o]),s=j(function(){h!=null&&(q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},o)),n({botResponseId:e,sources:h}))},[e,o,q,n,h]);return i.jsxs(c("BaseView.react"),{ref:p,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:a==null?void 0:a.actionUrl},onPress:r,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:a!=null&&a.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:b!=null&&b.title})})]}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useContext,k=b.useMemo,l=b.useState,m=e({addMessageId:c("emptyFunction"),findMessageId:c("emptyFunction").thatReturnsFalse});function a(a){a=a.children;var b=l([]),c=b[0],d=b[1];b=k(function(){return{addMessageId:function(a){d([a].concat(c))},findMessageId:function(a){return c.find(function(b){return b===a})!=null}}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";d={Provider:a,useHook:function(){return j(m)}};g["default"]=d}),98);
__d("MWGroupBlockingProtectionUtils",["I64","LSContactBlockedByViewerStatus","LSIntEnum","MWBlockingProtectionContext.react","MWPContactContext.react","MetaConfig","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPContactContext.react").useMWPContactStableContext();a=a.contact;return c("MetaConfig")._("113")&&a?!(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function k(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(a):d("ReQL").empty()},[b,a],f.id+":39");return c("MetaConfig")._("113")&&e?!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a){var b=k(a.senderId),d=c("MWBlockingProtectionContext.react").useHook();d=d.findMessageId;return c("MetaConfig")._("113")&&b&&!d(a.messageId)}g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=k;g.useMWShouldHideReply=b}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){return((a=a.text)!=null?a:"").length>j}var p=[128,256,4096,4,512];function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||b.isExpired||a.isExpired||m(a)||!f||c||e||q(a))return!0;else return q(b)}function s(a,b){return b==null||r(a,b)}function t(a,b){return b==null||r(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!s(a,b):!1}function b(a,b,c){if(c==="below")return!t(a,b);else if(t(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.isInDifferentGroup=r;g.isStartOfGroup=s;g.isEndOfGroup=t;g.MessageWithAttachments=e}),98);
__d("MWPBaseMessageContent.react",["EntMessageReplyType","I64","LSIntEnum","MWPMessageHasAttachment","MWPMessageHasXMA","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","gkx","react","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,l=a.isNextMessagePinned,m=a.isSearchPluginAttachment,n=a.message,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.renderAttachment,s=a.renderEmoji,t=a.renderMessageBubble,u=a.shouldRenderMessageContent;a=a.xmaLayout;var v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.disableLinks;var w=c("MWPMessageIsReply")(n),x=d("MWPMessageParsingUtils").hasText(n),y=c("MWPMessageHasXMA")(n);v=c("gkx")("24165")&&v&&y&&n.textHasLinks;var z=n.replyType!=null&&(i||(i=d("I64"))).equal(n.replyType,(j||(j=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP));z=!z&&y&&b==="below"&&!v&&!m;y=b==="below"?!w&&!f&&!h:!1;m=!g&&!l||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?z:!1);u?f=n.text!=null?e?w?k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)}):w?null:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[y?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsx("div",{className:"x1n2onr6 x1vjfegm",children:s(n)})]}):n.text!==""?k.jsxs(k.Fragment,{children:[y||b==="above"?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,k.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[p?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t(n,y,m,z,p),p?null:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:f=null;var A;c("MWPMessageHasAttachment")(n)&&!v&&(A=r(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(n,q,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(n,o,b),x));return k.jsxs(k.Fragment,{children:[b==="above"?A:null,f,b==="below"?A:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDeferredValue;function a(a){var b=(h||(h=c("useReStore")))();return j(!!d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("msg_pinned_messages_v2")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a],f.id+":29"))}g["default"]=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.message,l=a.nextMessage,m=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldRenderMessageContent,s=a.xmaLayout,t=c("useMWPIsMessagePinned")(k),u=c("useMWPIsMessagePinned")(l);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:t,isNextMessagePinned:u,isSearchPluginAttachment:h,message:k,nextMessage:l,outgoing:m,prevMessage:n,renderAttachment:o,renderEmoji:p,renderMessageBubble:q,shouldRenderMessageContent:r,xmaLayout:s})},[b,e,f,g,t,u,k,l,m,n,o,p,q,r,s,h])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MWV2MessageIsEmojiOnly","MessengerWebUXLogger","MetaConfig","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function l(a,b){if(d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("MWV2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment;h=h===void 0?!1:h;var i=a.message,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.reactions;a.reactionsV2;var q=a.renderAttachment,r=a.renderEmoji,s=a.renderMessageBubble,t=a.renderMessageContainer,u=a.renderMessageFooter,v=a.renderMessageFromBlockee,w=a.renderUnsentMessage,x=a.shouldRenderMessageContent;x=x===void 0?!0:x;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var y=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),z=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(),A=c("MWBlockingProtectionContext.react").useHook(),B=A.addMessageId;A=A.findMessageId;if(i.isUnsent)if(w!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:w()});else return null;if(c("MetaConfig")._("113")&&!A(i.messageId)&&z&&v!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:v(function(){B(i.messageId)})});w=l(i,e);A=j.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:w,isFirstMessageInGroup:f,isLastMessageInGroup:g,isSearchPluginAttachment:h,message:i,nextMessage:m,outgoing:n,prevMessage:o,renderAttachment:q,renderEmoji:r,renderMessageBubble:s,shouldRenderMessageContent:x,xmaLayout:a});return j.jsxs(j.Fragment,{children:[j.jsxs(d("react-strict-dom").html.div,{ref:y,role:"none",style:k.row_container,children:[n?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t!=null?t(A,[k.container,n?k.outgoing:!1]):j.jsx(d("react-strict-dom").html.div,{style:[k.container,n?k.outgoing:!1],children:A}),n?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),j.jsxs(j.Fragment,{children:[w&&p.length>0?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("getMessengerPreciseTimestamp",["$InternalEnum","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["TODAY","WEEK_AGO","CURRENT_YEAR","OTHER_YEAR"]);d=864e5;var i=6*d;function j(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return h.TODAY;if(b.getTime()-i<a.getTime())return h.WEEK_AGO;return b.getFullYear()===a.getFullYear()?h.CURRENT_YEAR:h.OTHER_YEAR}function k(a){a=j(a);switch(a){case h.TODAY:return"g:ia";case h.WEEK_AGO:return"l g:ia";case h.CURRENT_YEAR:return"F jS, g:ia";case h.OTHER_YEAR:return"F j, Y g:i a"}}function a(a){return c("formatDate")(new Date(a),k(a))}g["default"]=a}),98);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),226);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._("__JHASH__A4ingmAx2be__JHASH__",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._("__JHASH__vWI2ZlgwXQb__JHASH__",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._("__JHASH__25PcZ3MKsFM__JHASH__",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._("__JHASH__eRreAbYsreU__JHASH__",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=m(function(){return o(e,b)});var g=a[0],i=a[1];a=n(g);var j=h._("__JHASH__LNXEmV_oB6W__JHASH__",[h._param("time",a)]);l(function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec),g===0&&(f==null?void 0:f())},[g,e,f]);return g>0?k.jsxs("div",{className:"x2b8uid xbkr7qi",children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=a.hasReactions;return j.jsx("div",{"aria-hidden":b,className:(h||(h=c("stylex")))(k.root,a?k.moveUpToAccountForReactions:!1),children:j.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e,handleMessageExpired:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowCountdown.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo;function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function p(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}var q={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0},multiReact:{zIndex:"x1vjfegm",$$css:!0},multiReactIncoming:{marginStart:"x1liizu2",$$css:!0},multiReactOutgoing:{display:"x78zum5",flexDirection:"x15zctf7",marginEnd:"xw3qccf",marginStart:"x1mh8g0r",$$css:!0}};function b(a){var b=a.children,e=a.handleMessageExpired,f=a.hasReactions,g=a.message,i=a.outgoing,j=a.renderGutterItem,k=a.renderMessageActions,m=a.renderMultiReactions;a=a.renderProfile;var n=c("MWPMessageIsReply")(g),o=g.ephemeralExpirationTs,r=g.ephemeralDurationInSec,s=g.isUnsent,t=d("MWMessageDeliveryStatus").getFromSendStatus(g.sendStatusV2).type==="Sending";m=m&&m();var u=m!=null;a=l.jsxs("div",{className:"x78zum5",role:"none",children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:[i?null:a(),f&&!u?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]}),l.jsxs("div",{className:(h||(h=c("stylex")))(q.inner,i?q.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnBubble,{paint:!i||n,children:b}),o!=null&&!s?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:r,expirationTimestamp:o,handleMessageExpired:e,hasReactions:f})}):null,p(g)?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:k(t)}):null,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[j(),f?l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:18}):null]})]});return u?l.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[a,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",{className:(h||(h=c("stylex")))(q.container,q.multiReact,i?q.multiReactOutgoing:q.multiReactIncoming),children:m})})]}):a}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}e.displayName=e.name+" [from "+f.id+"]";m={"mwp-reply-background-color":"var(--comment-footer-background)"};var r={"mwp-reply-background-color":"var(--comment-footer-background)"},s={dark:r,light:m,type:"VARIABLES"};function t(a){var b=a.children,e=a.domElementRef;a.message;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?s:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(s,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}t.displayName=t.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=b;g.MWPBaseMessageListRowFooter=e;g.MWPBaseMessageListRow=t}),98);
__d("MWMessageDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWMessageDisplayContextProvider=a;g.useMWMessageDisplayContext=b}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",{className:(h||(h=c("stylex")))(a),children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];var e=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&j.jsx(d("react-strict-dom").html.span,{style:k.visuallyHidden,children:c!=null&&!a?c:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseHovercardTrigger.react")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.fbGroupId;d[1]=b.targetUserId;d[2]=b.source;d[3]=b.threadId;d[4]=b.requestId;return c("LSIssueCommunityAdminModerationActionsFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("useMWCMIsSenderAdModOrChatHost",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g){var k=(j||(j=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){a!=null&&!(h||(h=d("I64"))).is_zero(a)&&(yield k.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(i||(i=d("LSIntEnum"))).ofNumber(14),targetUserId:g,threadId:e})},"readwrite"))});return function(){return f.apply(this,arguments)}}();c("promiseDone")(f())},[k,a,g,e]);var l=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(k.table("community_members").index("communityContact")).getKeyRange(a,g,c("pageID")):d("ReQL").empty()},[k,a,g],f.id+":66"),m=(l==null?void 0:l.isAdmin)==null?!1:l.isAdmin,n=(l==null?void 0:l.isModerator)==null?!1:l.isModerator;l=l!=null?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,l):!1;return{isAdmin:m,isChatHost:l,isModerator:n}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","BaseMiddot.react","I64","MWCMHostTextHovercard.entrypoint","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){var b=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;b=c("useMWCMIsSenderAdModOrChatHost")(b,a,e);e=b.isAdmin;var g=b.isChatHost;b=b.isModerator;var i=h._("__JHASH__l4xCpI5VHpV__JHASH__"),j=h._("__JHASH__hz8R4t8GDy7__JHASH__");a=k.jsx(c("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return k.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._("__JHASH__bZRJOb_t9fa__JHASH__")})}});return k.jsx(k.Fragment,{children:f&&(e||b||g)&&k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:e?i:b?j:a})]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return b==null||(j||(j=d("I64"))).is_zero(b)?null:k.jsx(l,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:9003","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9003")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:9019","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:9019")),c("gkx")("23219"));g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MetaConfig","ReQL","ReQLSuspense","isMWEditedMessage","react","react-strict-dom","useMWPIsMessagePinned","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingStart:"x1e558r4",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingStart:"x1ye3gou",$$css:!0},separator:{paddingEnd:"x19um543",paddingStart:"x1m6msm",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx(d("react-strict-dom").html.div,{style:[n.container,a?n.alignEnd:n.alignStart],children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.outgoing,g=a.renderPaidPartnerShipText,l=a.renderPinnedText,p=a.renderTextWrapper;a=a.shouldRenderSenderName;var q=d("MWPMessageAuthor.react").useAuthorName();q=q[0];var r=d("MWPContactContext.react").useMWPContactStableContext(),s=r.contact;r=r.nickname;var t=d("Actor").useActor();t=t[0];var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext(),v=(i||(i=c("useReStore")))(),w=d("MWLSThread").useThread(b.threadKey,function(a){return a.parentThreadKey}),x=d("ReQLSuspense").useFirst(function(){return w?d("ReQL").fromTableAscending(v.tables.community_folders).getKeyRange(w).map(function(a){return a.folderId}):d("ReQL").empty()},[v,w],f.id+":109"),y=c("isMWEditedMessage")(b),z=d("MWPThreadIsPage.react").useIsPage(),A=d("MWLSThread").useThread(b.threadKey,function(a){return a.threadType}),B=A!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A);z=z&&!(j||(j=d("I64"))).equal(b.senderId,b.threadKey)&&!e;var C=a||z&&!B,D=s?d("LSContactBitOffset").has(77,s):!1,E=s?d("LSContactBitOffset").has(84,s):!1,F=c("useMWPIsMessagePinned")(b);a=c("usePinnedTextAnimation")(F);var G=a.mountAnimation,H=a.unmountAnimation,I=c("MetaConfig")._("113")&&s?!(j||(j=d("I64"))).equal(s.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,J=b.isPaidPartnership===!0;z=C||F||y||J;a=(B=r)!=null?B:h._("__JHASH__4LwiFWKMkVy__JHASH__");s=t===(j||(j=d("I64"))).to_string(b.senderId);r=s?a.toString():q==null?void 0:q.toString();B=h._("__JHASH__G4Bi2CYTkJR__JHASH__");if(!z)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:b,outgoing:e});t=function(a){var f=C&&a!=null||F||I;a=m.jsx(o,{outgoing:e,children:p(m.jsxs(d("react-strict-dom").html.span,{style:n.color,children:[C&&a!=null&&m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:x,message:b,shouldRenderSenderName:C}),F&&!I&&m.jsx(d("react-strict-dom").html.span,{style:F?G:H,children:l(b,C)}),I&&m.jsxs(m.Fragment,{children:[m.jsx(d("react-strict-dom").html.span,{children:m.jsx(c("BaseMiddot.react"),{})}),m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:h._("__JHASH__3kkmPi45q6Z__JHASH__")})]}),y&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:f,threadType:A,xstyle:n.separator}),D===!0?m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconBot"),size:12})}):null,E&&m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"primaryAccent",icon:c("MWXIconBadgeCheckmark"),size:12})}),J&&g!=null&&g(b)]}))});return u==="reportMessages"?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return b.takedownState!=null?t(B.toString()):t(r)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPThreadIsPage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.message,j=a.outgoing,n=a.renderForwardSnippet,o=a.renderMessageEyebrows,p=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderReplySnippet,s=a.renderTextWrapper;a=a.renderTimestamp;var t=c("MWPMessageIsReply")(i);n=m(i,n,r,j);r=d("MWPContactContext.react").useMWPContactStableContext();r=r.nickname;var u=d("MWMessageDisplayContext.react").useMWMessageDisplayContext();r=f&&r!=null&&e;e=b||g&&f&&!j&&!t||r;n!=null?b=k.jsx("div",{className:(h||(h=c("stylex")))(l.header,j?l.alignEnd:!1),role:"none",children:u==="reportMessages"?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})}):o!=null?b=o(i,j,s,e):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:i.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{message:i,outgoing:j,renderPaidPartnerShipText:p,renderPinnedText:q,renderTextWrapper:s,shouldRenderSenderName:e})});g=n!=null?l.timestampWithSnippet:l.timestamp;t=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:i,renderText:s,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:j?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),t!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:t})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useRef,k=i.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=j(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return i.jsx(k,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWEditMessageContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useMemo,k=b.useState;function a(a){a=a.children;var b=k(null),c=b[0],d=b[1];b=j(function(){return{editMessageData:c,setEditMessageData:d}},[c,d]);return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";var l=e({editMessageData:null,setEditMessageData:c("emptyFunction")});g.MAWEditMessageContext=a;g.Context=l}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.messageId;var b=c("useMAWEditMessageData")(),d=b!=null;a=a!=null&&a===(b==null?void 0:b.messageId);return!d||a?null:i.jsx("div",{className:"xyl4keb x5yr21d x1ks1olk x10l6tqk x17qophe x13vifvy xh8yej3 x1vjfegm"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageCellKeyCommands.react",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.react","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children;a.message;a=b;b=d("MWV2MessageRowActionsContext.react").useMessageRowActionsContext();var e=b.forwardMessage,f=b.openReactionsMenu,g=b.removeMessage,h=b.replyToMessage,l=j(function(){return f.current()},[f]),m=j(function(){return h.current()},[h]),n=j(function(){return e.current()},[e]),o=j(function(){return g.current()},[g]);b=k(function(){var a,b=[],c=(a=d("cometGetKeyCommandConfig")).getCometAndGeminiKeyCommandConfig("chats","likeMessage",l);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","replyToMessage",m);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","forwardMessage",n);b.push(c);c=a.getCometAndGeminiKeyCommandConfig("chats","removeMessage",o);b.push(c);return b},[l,m,n,o]);return i.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.keyCommands=e}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=d(c("emptyFunction"));function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2MessageListIsRowModalContext=k;g.MWV2MessageListIsRowModalContextProvider=a;g.useMWV2MessageListIsRowModal=b}),98);
__d("useMWPEditMessageDeemphasizer",["MAWEditMessageContext.react","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=e.backgroundUrl!=null&&c("gkx")("24125")&&(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a;return e?j.deemphasize:null}g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","I64","KeyCommandHandler.react","MDSTextPairing.react","MWEditMessageOverlay.react","MWMessageCellFocusTable.react","MWMessageCellKeyCommands.react","MWMessageTableFocusTable.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOMComet","emptyFunction","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;e=b.forwardRef;var m=b.useCallback,n=b.useEffect,o=b.useId,p=b.useMemo,q=b.useRef,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",left:null,right:null,paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._("__JHASH__U5V4JiyTDSI__JHASH__"),u=h._("__JHASH__GoIrDg5lzef__JHASH__"),v=h._("__JHASH__ctLNxPXr8we__JHASH__"),w=e(function(a,b){var d=a.ariaLabel,e=a.focusable,f=a.onPress,g=a.text;a=a.xstyle;var h=c("useCometTheme")("invert"),i=h[0];h=h[1];return l.jsx(i,{children:l.jsx(c("MWXPressable.react"),{"aria-label":d,focusable:e,onPress:function(){return f()},ref:b,xstyle:[h,r.enterModalButton,a],children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"primary",level:4})})})});function a(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender,g=f===void 0?!1:f,j=a.isDialogOpened,x=a.isFocused,y=a.isModal,z=a.message,A=a.messageDomID;f=a.outgoing;var B=a.setFocused,C=a.setHovered,D=a.setIsDialogOpened,E=a.stopHoveringRef;a=a.theme;var F=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),G=q(null),H=o(),I=m(function(){F(function(){return z.messageId}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,z.messageId,H]),J=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},K=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date((k||(k=d("I64"))).to_float(z.timestampMs))),L=d("MWPMessageAuthor.react").useAuthorName();L=L[0];f=f?h._("__JHASH__g90cYI08lR4__JHASH__"):L!=null?L:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var M=o(),N=l.jsx(c("CometScreenReaderText.react"),{id:M,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",K),h._param("Name of the author of the incoming message",f)])}),O=o(),P=q(null),Q=c("gkx")("22803"),R=q(c("emptyFunction")),S=q(c("emptyFunction")),T=q(c("emptyFunction")),U=q(c("emptyFunction"));L=p(function(){return{isDialogOpened:j,setFocused:B,setIsDialogOpened:D}},[B,D,j]);K=p(function(){return{forwardMessage:T,openReactionsMenu:R,removeMessage:U,replyToMessage:S}},[R,S]);var V=c("useMAWEditMessageData")()!=null;f=c("useMWPEditMessageDeemphasizer")(z.messageId);var W=function(a){if(x!==a){B(function(){return a});return F(function(){if((a||j)&&y)return z.messageId;else return""})}},X=function(a){x!==a&&B(function(){return a});var b=P.current;if(a&&b!=null){c("setTimeout")(function(){try{return b.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return b.scrollIntoView(!1)}},0);return}};n(function(){if(g){var a;(a=G.current)==null?void 0:a.focus();(a=G.current)==null?void 0:a.scrollIntoView()}},[g]);return l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:L,children:l.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:K,children:l.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:z,role:"row",setHovered:V?c("emptyFunction"):C,stopHoveringRef:E,theme:a,xstyle:[r.row,f],children:l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:V?void 0:W,onFocusVisibleChange:V?void 0:X,children:function(a,e){a=l.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:l.jsx("div",{className:(i||(i=c("stylex")))(r.cell,y?r.cellModal:!1,e?r.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:G,role:"gridcell",tabIndex:V?-1:0,children:l.jsx(c("FocusInertRegion.react"),{disabled:y,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:y?l.jsxs(l.Fragment,{children:[l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:l.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:l.jsxs("div",{"aria-describedby":A,"aria-labelledby":M,id:O,role:"dialog",children:[b,y?N:null,l.jsx(w,{ariaLabel:u,focusable:!0,onPress:J,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(l.jsx("div",{"aria-owns":O}),document.body)]}):b})})});return l.jsxs(l.Fragment,{children:[l.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:y||V?void 0:I,onEscape:y?J:void 0,onSpace:y||V?void 0:I,children:Q?l.jsx(d("MWMessageCellKeyCommands.react").keyCommands,{message:z,children:a}):a}),l.jsx("div",{role:"gridcell",children:l.jsx(w,{ariaLabel:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):t,focusable:y,onPress:I,ref:P,text:y?h._("__JHASH__C-7ahaHTUI7__JHASH__"):v,xstyle:e&&!y?r.enterModalButtonVisible:r.visuallyHidden})})]})}})}),l.jsx(c("MWEditMessageOverlay.react"),{messageId:z.messageId})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);f=d("MWChatInteraction").get(f);e=(e=e)!=null?e:f;if(e==null)return j.jsx("div",{className:(h||(h=c("stylex")))(a),children:b});else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","MWChatTextTransform","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!=null)if(b!=null)return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransforms})," ",b]});else return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransforms});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.mutedUserId;d[1]=b.gameId;d[2]=b.userActionType;return c("LSCustomUpdateMuteManagement").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,f=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:f})},"readwrite"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSUpdateBotSubscription","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.userActionType;return c("LSUpdateBotSubscription").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,f=(h||(h=c("useReStore")))(),g=(i||(i=d("I64"))).to_string(b.threadKey),k=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(f.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(g),userActionType:a})},"readwrite"))},[f,g,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return k()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})}):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWXLink.react"),{href:d("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","WALoggerDeferred","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""]);k=function(){return a};return a}var l=j||d("react"),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(i||(i=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":40");a=a!=null?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(b.threadKey)),d("MWInboxRouteBuilder").buildHomeURL());var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":65");g=g==null?void 0:g.title;a=g!=null?l.jsx(d("react-strict-dom").html.div,{style:m.adminTextCta,children:l.jsx(c("MWXLink.react"),{href:a,target:"_self",children:g})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","I64","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),n=h._("__JHASH__8YEBJluoCs5__JHASH__");function a(a){var b,e=a.message,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[g,e],f.id+":52");b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();var h={},k=c("useMWXLazyDialog")(m),o=k[0];k=function(){return o(h)};a=a==null?void 0:a.title;b=a!=null?c("CurrentEnvironment").instagramdotcom?l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:n}):l.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:l.jsx(c("MWXLink.react"),{onClick:k,target:"_blank",children:a})}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x1o583il x1rg5ohu x177n6bx x1n2onr6",children:l.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),l.jsx(c("MWAdminTextLayout.react"),{cta:b,message:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/messenger-app/1577627185919537/?helpref=uf_permalink&parent_cms_id=1084673321594605";function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXLink.react"),{href:k,target:"_blank",children:h._("__JHASH__t0_WbzixXKp__JHASH__")})}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":35");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",{className:"x1rg5ohu x1s688f",children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":60");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWPColorUtils","MWXLink.react","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=c("useMWPThreadTheme")();f=f.threadTheme.fallbackColor;return i.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["I64","JSResourceForInteraction","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(l);var g=a[0];a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var j=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};a=a==null?void 0:a.title;j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;c=b.createContext;var i=b.createElement,j=c();function a(a){var b=a.children;a=a.value;return i(j.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.context=j;g.Provider=e}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("getGroupThreadViewParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}f["default"]=a}),66);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWEBSwitch","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotationBoolean("is_secure",g);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.addSharedAnnotations=a}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","I64","MAWEBSwitch","MAWMICSafe","MWChatInteraction","MWChatTabSharedQPLAnnotations","MWCookieUtil","gkx","justknobx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=!1,l=c("justknobx")._("2023");function m(a){var b=d("MWCookieUtil").isAutoChatTabFromCookie(a);if(!b)return!1;b=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));a=b==null?void 0:b.getTrace();return a!=null&&!a.completed}function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(b,e,f,g,h){if(m(g)&&l){var j=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(g));if(j!=null){b(j.getTraceId(),j);return}}a(function(a){var i=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addAnnotationBoolean("is_pdb",c("gkx")("24032"));var j=d("MAWMICSafe").duringMIC();j&&a.addAnnotationInt("startedDuringMIC",1);a.addMetadata("entrypoint",f);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addMetadata("hasBadge",h!=null?h.toString():"");d("MWChatTabSharedQPLAnnotations").addSharedAnnotations(a,e,g);a.onComplete(function(b){k?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),k=!0);var c=d("CometCurrentInitialLoadVC").getInitialLoadVC();c!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-c))});b(i,a)},void 0,void 0,void 0,(i||(i=d("I64"))).to_string(g))},[a])}g["default"]=a}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","Promise","ReQL","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync")),f=e[0];return j(function(e){var g=e.onProceed,i=e.threadKey;c("promiseDone")(a,function(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.thread_limits).getKeyRange(i)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(i))]).then(function(a){var b=a[0];a=a[1];return!c("shouldApplyCSAMBlock")(b)||b==null||a==null?g&&g():f({thread:a,threadLimit:b})},function(){return g&&g()})})},[a,f])}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","I64","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MessengerWebEntryPointsUtil","XCometGroupDiscussionControllerRouteBuilder","cr:9780","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider","useMaybeShowCSAMBlockAsync"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=e.useMemo;function m(){var a=d("MWChatStateV2.react").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")();return j(function(c,f,g){b(Date.now(),"","messenger");return e(function(b,e){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(c.threadKey),b);e.addMarkerPoint("dispatch_open_chat_tab","AppTiming");return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:g!==!0},{threadKeyDescriptor:c,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},(i||(i=d("I64"))).to_int32(c.threadType),f,c.threadKey,c.isUnread)},[a,b,e])}function n(a,e,f){return function(g){g=(i||(i=d("I64"))).to_string(g);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:g});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:g}):d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:g});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:g})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,g],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({thread_key:g});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:g});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:g});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:g});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:g});default:return d("MWInboxRouteBuilder").buildURL({thread_key:g})}}}function o(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),b=c("useCometRouterDispatcher")(),e=k(d("MWNavigationContext").context),f=k(c("CometPassiveGetRouterStateContext")),g=m(),h=c("useMaybeShowCSAMBlockAsync")();return l(function(){var j=function(a,b){var d,g=c("getTopMostRouteCometEntityKey")(f==null?void 0:f()),h=g==null?void 0:g.entity_type;g=c("getGroupThreadViewParams")(g,f==null?void 0:f());d=(d=e)!=null?d:n(b,h,g);return d(a)},k=function(a,c){var e=a.isUnread,f=a.threadKey;a=a.threadType;if(b!=null){var g=d("MessengerWebEntryPointsUtil").cast(c);b.go(j(f,a),{traceParams:{TLTV:"true",entrypoint:g,hasBadge:e!=null?e.toString():"",inboxEntrypoint:c,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a)?"true":"false",thread_id:(i||(i=d("I64"))).to_string(f),thread_type:i.to_string(a)}})}};return{getUrlFromThreadKey:j,openInbox:function(a,b){o(a,b);return h({onProceed:function(){k(a,b)},threadKey:a.threadKey})},openTabOrInbox:function(b,c,d){o(b,c);if(a())return h({onProceed:function(){g(b,c,d)},threadKey:b.threadKey});else return h({onProceed:function(){k(b,c)},threadKey:b.threadKey})}}},[f,e,b,h,a,g])}g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Dual-thread-cutover] Failed to navitage to open messages thread ",""]);k=function(){return a};return a}var l=h||(h=d("react")),m=h.useCallback;function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")();a=m(function(){c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:i.ofNumber(1)})},"readwrite"));b=f?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):void d("WALoggerDeferred").LOG(k(),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,e.threadKey,g]);var h=e.adminMsgCtaTitle;a=h!=null?l.jsx(c("MWXLink.react"),{onClick:a,role:"button",children:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:h})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),e=b[0];return i(function(b,c){if(a==null||b==null||c==null)return;return e({pollId:b,threadKey:a,title:c},function(){})},[e,a])}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");a=c("useMWHasPollsVotingEnabled")(b.threadKey);var j=c("useMWChatPollXMAActionHandler")(),m=l(function(){j(g==null?void 0:g.targetId,g==null?void 0:g.targetTitle)},[g==null?void 0:g.targetId,g==null?void 0:g.targetTitle,j]);if(!c("justknobx")._("1987")||!a||g==null)return k.jsx(c("MWAdminTextLayout.react"),{message:b});a=g==null?void 0:g.title;m=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:m,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":24");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;a=g!=null&&a!=null?k.jsx(c("MWXLink.react"),{color:"primary",href:a,target:"_blank",children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LWICometProactiveChatOptInMutation.react",["CometRelay","LWICometProactiveChatOptInMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("LWICometProactiveChatOptInMutation.graphql");function a(a){var b=a.entryPoint,c=a.environment,e=a.optInValue,f=a.setLoading,g=a.setOptedIn;d("CometRelay").commitMutation(c,{mutation:i,onCompleted:function(a,b){a=e;g(a);f(!1)},onError:function(){f(!1)},variables:{input:{entry_point:b,is_opted_in:e,topic:"ADVERTISER_GUIDANCE"}}})}g.commitProactiveChatOptInMutation=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","LWICometProactiveChatOptInMutation.react","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.opted_in,g=d("CometRelay").useRelayEnvironment(),j=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(j.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[j,b],f.id+":32");a=(a=a==null?void 0:a.title)!=null?a:"";var l=function(){return d("LWICometProactiveChatOptInMutation.react").commitProactiveChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:g,optInValue:e,setLoading:function(){},setOptedIn:function(){}})};l=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:l,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:l,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgICDC.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x186z157",fontWeight:"xk50ysn",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){if(a!=null)return a.isAdminMessage;else return!1}function l(a){var b=a.children,c=a.nextMessage;a=a.prevMessage;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k(a)?j.containerThatProceedsAdminMessage:!1,k(c)?j.containerThatPrecedesAdminMessage:!1],children:i.jsx(d("react-strict-dom").html.div,{style:j.content,children:b})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.message;a.nextMessage;a.prevMessage;switch(b.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return i.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:b});case"admin_msg_dual_thread_cutover":return i.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:b});case"admin_msg_web_url":return i.jsx(c("MWV2AdminMsgWebUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_in":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!0});case"admin_msg_sbg_proactive_chat_opt_out":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b,opted_in:!1});case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("24144"))return i.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:b});else break;case"admin_notification_messages_opt_out":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:b});case"admin_notification_messages_opt_in":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:b});case"admin_msg_thread_level_cutover":return i.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:b});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return i.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:b});case"xmat_instant_game_bot_message_subscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return i.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:b});case"xmat_instant_game_custom_update_message_mute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return i.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:b});case"admin_msg_admod_post_msg_remove_actions":return i.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:b});case"admin_msg_poll_details":return i.jsx(c("MWV2AdminMsgViewPoll.react"),{message:b});case"admin_msg_icdc":return i.jsx(c("MWV2AdminMsgICDC.react"),{message:b});case"admin_msg_ig_dm_learn_more":return i.jsx(c("MWV2AdminMsgDMLearnMore.react"),{message:b})}return i.jsx(c("MWAdminTextLayout.react"),{message:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.nextMessage;a=a.prevMessage;return i.jsx(l,{nextMessage:e,prevMessage:a,children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx(d("react-strict-dom").html.div,{style:j.color,children:i.jsx(m,{message:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=k;g.MWV2ChatAdminMessageContainer=l;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2TombstonedMessage.react",["MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},root:{borderTopColor:"x2z21go",borderEndColor:"x7glw7h",borderBottomColor:"xytfwv8",borderStartColor:"x1c7a9eh",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",color:"x1tbs7aw",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.children,e=a.connectBottom;e=e===void 0?!1:e;var f=a.connectTop;f=f===void 0?!1:f;a=a.xstyle;return i.jsx(d("react-strict-dom").html.div,{style:[j.root,f?j.connectTop:!1,e?j.connectBottom:!1,a],children:i.jsx(c("MWXText.react"),{color:"disabled",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{style:j.message,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"x1eb86dx",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return j.jsxs(d("react-strict-dom").html.div,{style:a?k.withRepliedMessage:k.withBackground,children:[a?null:j.jsx(d("react-strict-dom").html.div,{style:[k.vr,k.withBackground]}),j.jsx(c("MWV2TombstonedMessage.react"),{xstyle:k.withBackground,children:h._("__JHASH__fgvjfNhcDBr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","CometEntryPointPopoverTrigger.react","CometImageCover.react","I64","LSContactBitOffset","MDSAccountSvgIcon.react","MDSGlimmer.react","MWCMIsAnyCMThread","MWLSThread","MWPActor.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXIcon.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","SVGIcon","getLSMediaContactProfilePictureUrl","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._("__JHASH__G4Bi2CYTkJR__JHASH__"),n={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.contact,g=a.isGroupThread,h=a.isLastMessageInGroup,k=a.message;a=a.nickname;var o=d("MWPActor.react").useActor(),p=(i||(i=c("useReStore")))(),q=d("MWLSThread").useThread(k.threadKey),r=q==null?void 0:q.parentThreadKey;q=q==null?void 0:q.threadType;var s=d("ReQLSuspense").useFirst(function(){var a;return d("MWPreloadableQueries").getCommunityFolderQuery(p,(a=r)!=null?a:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[p,r],f.id+":79"),t=q?c("MWCMIsAnyCMThread")(q):!1;if(!h)return l.jsx("div",{className:"xgd8bvy"});if(k.takedownState!=null)q=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIcon.react"),{alt:m,icon:d("SVGIcon").legacySVGIcon(function(){return l.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})})})});else if(e!=null&&c("getLSMediaContactProfilePictureUrl")(e)!==""){var u;h=a!=null?a+" ("+e.name+")":e.name;a=(a=d("LSContactBitOffset").has(77,e))!=null?a:!1;u=(u=d("LSContactBitOffset").has(84,e))!=null?u:!1;var v=l.jsx(c("CometImageCover.react"),{alt:e.name,src:c("getLSMediaContactProfilePictureUrl")(e),style:{borderRadius:"50%"}});q=l.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&t&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu")},position:"start",tooltip:h,children:t&&!u&&!a&&c("qex")._("20")?l.jsx(c("CometEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string((e=s)!=null?e:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(o)},otherProps:{message:k},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,h,i){return g?l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:h,onPress:function(){d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:i,overlayRadius:"50%",ref:a,xstyle:n.profile,children:v}):v}}):v})}else q=l.jsx(c("MDSGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",{"aria-hidden":b,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:q})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhoto.react",["MWPContactContext.react","MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread,f=a.isLastMessageInGroup;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;return i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,contact:h,isGroupThread:e,isLastMessageInGroup:f,message:a,nickname:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef;a=a.focusCellOnRender;var f=a===void 0?!1:a;a=c("useMAWEditMessageData")();var g=a!=null;a=c("useMWPEditMessageDeemphasizer")();var i=l(null);k(function(){if(f){var a;(a=i.current)==null?void 0:a.focus();(a=i.current)==null?void 0:a.scrollIntoView()}},[f]);return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:(h||(h=c("stylex")))(a),ref:e,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",{className:(h||(h=c("stylex")))(m.row,e?m.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:g?-1:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometPressable.react","E2EEMessagingLinkContext.react","I64","IGDAttachment.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSHotEmojiSize","LSIntEnum","MWMessageEditContext.react","MWMessageSearchPluginMustache.react","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils","MWSearchPluginUtils","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2ReplyError.react","PolarisDoubleTappable","PolarisPrismQEHelpers","asyncToGeneratorRuntime","deepEquals","deferredLoadComponent","isEditMessageHistoryEnabledForIGD","isMWEditedMessage","lazyLoadComponent","promiseDone","react","requireDeferred","stylex","useAsyncReStore","useIsReadOnlyFeatureLimited","useMWPGetAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j,o=n.memo,p=n.useId,q=n.useMemo,r=n.useState,s=c("deferredLoadComponent")(c("requireDeferred")("MWPEditedMessageHistoryList.react").__setRef("IGDMessageRow.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDEditedMessageActions.react").__setRef("IGDMessageRow.react")),u={alignEnd:{alignItems:"xuk3077",$$css:!0},editedMessageIncoming:{paddingStart:"x17ax9c0",paddingLeft:null,paddingRight:null,$$css:!0},editedMessageOutgoing:{paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},v=d("LSBitFlag").set((k||(k=d("LSIntEnum"))).ofNumber(1),d("LSBitFlag").set(k.ofNumber(8),d("LSBitFlag").empty)),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function x(a){a.canNavigateToProfilePage;var b=a.isGroupThread,e=a.isLastMessageInGroup;a=a.message;var f=d("MWPContactContext.react").useMWPContactStableContext(),g=f.contact;f=f.contact;f=f===void 0?{secondaryName:void 0}:f;f=f.secondaryName;g=g!=null&&d("LSContactBitOffset").has(85,g);if(!g)return m.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a});g=f!=null?{url:"/"+f}:void 0;f=h._("__JHASH__q99c5lFvU7E__JHASH__",[h._param("name",f)]);return m.jsx(c("CometPressable.react"),{"aria-label":f,linkProps:g,overlayDisabled:!0,children:m.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a})})}x.displayName=x.name+" [from "+f.id+"]";function a(a){var e=a.domElementRef,f=a.formatText,g=a.isGroupThread,j=a.isModal,n=a.isSecureMessage,o=a.isXMAExpired,y=a.message,z=a.nextMessage,A=a.onDoubleClickToLike,B=a.prevMessage,C=a.reactions,D=a.reactionsV2;a=a.stopHoveringRef;var E=d("MWPActor.react").useActor(),F=c("useAsyncReStore")(),G=function(){var a=babelHelpers["extends"]({},y,{isExpired:!0});c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield F);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield b.messages.put(a)});return function(a){return c.apply(this,arguments)}}(),"readwrite")})())},H=d("MWPMessageParsingUtils").isStartOfGroup(y,B),I=d("MWPMessageParsingUtils").isEndOfGroup(y,z),J=(l||(l=d("I64"))).equal(y.senderId,E);E=r(!1);var K=E[0];E=E[1];var L=r(!1),M=L[0];L=L[1];var N=p(),O=r(!1),P=O[0];O=O[1];var Q=D!=null?D.length>0:C.length>0,R=!J;R=R&&g;var S=y.replyToUserId!=null,T=c("useIsReadOnlyFeatureLimited")(),U=c("isMWEditedMessage")(y),V=U&&c("isEditMessageHistoryEnabledForIGD")(),aa=q(function(){return{dark:{"chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px"},light:{"chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px"},type:"VARIABLES"}},[]),W=c("useMWPGetAttachments")(y),X=W.length>0,Y=X&&d("MWSearchPluginUtils").isSearchPlugin(W[0]),ba=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),Z=function(a,b,d,e,f,g,h,i){return m.jsx(c("IGDAttachment.react"),{connectBottom:f,connectTop:e,formatText:i,hasText:h,message:a,nextMessage:b,outgoing:g,prevMessage:d})},$=l.equal(y.displayedContentTypes,v),ca=y.isPaidPartnership===!0;if(y.isExpired)return null;if(y.isUnsent)return null;if(y.takedownState)return null;return y.isAdminMessage?y.adminMsgCtaType==="admin_msg_e2ee_thread"?null:m.jsx(c("MWV2MessageRowSimple.react"),{children:m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[m.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:y,nextMessage:z,prevMessage:B}),X?Z(y,void 0,void 0,!1,!1,J,!1,!1):null]})}):m.jsxs(m.Fragment,{children:[m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:y,prevMessage:B,children:function(){return m.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:e,message:y,prevMessage:B,renderTextWrapper:d("PolarisPrismQEHelpers").hasPrismFont()?function(a){return m.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})}:void 0})}}),m.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:m.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:H?void 0:e,isDialogOpened:P,isFocused:K,isModal:j,message:y,messageDomID:N,outgoing:J,setFocused:E,setHovered:L,setIsDialogOpened:O,stopHoveringRef:a,theme:aa,children:[m.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:H,isGroupThread:g,message:y,outgoing:J,renderForwardSnippet:function(a,b){return m.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})},renderPaidPartnerShipText:function(a){return h._("__JHASH__hPUAFnNBzSj__JHASH__")},renderPinnedText:function(a,b){return null},renderReplySnippet:function(a,b){return o?null:m.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},renderTextWrapper:function(a){return m.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})},renderTimestamp:void 0}),H&&!R&&!ca&&!U||S?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,S?m.jsx("div",{className:(i||(i=c("stylex")))(u.repliedMessage,J?u.alignEnd:!1),role:"none",children:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return m.jsx(c("MWV2ReplyError.react"),{outgoing:J})},children:m.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:n,message:y,outgoing:J})})})}):null,V?m.jsx(s,{isReply:S,isSecureMessage:!1,msgId:y.messageId,outgoing:J,renderMessageActions:function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(t,{ariaHidden:j===!1,baseMessage:y,messageHistoryEntry:a,outgoing:J})})},xstyle:J?u.editedMessageOutgoing:u.editedMessageIncoming}):null,m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{handleMessageExpired:G,hasReactions:Q,message:y,outgoing:J,renderGutterItem:function(){return m.jsx(c("IGDMessageGutterItem.react"),{message:y})},renderMessageActions:function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(w,{ariaHidden:j===!1,focused:K||P||j,hasReactions:Q,hidden:a,hovered:M,message:y,outgoing:J})})},renderProfile:function(){return m.jsx(x,{isGroupThread:g,isLastMessageInGroup:I,message:y})},children:m.jsxs(c("CometErrorBoundary.react"),{fallback:function(){return m.jsx(c("MWV2ChatErrorBubble.react"),{isReply:S})},children:[m.jsx(d("PolarisDoubleTappable").DoubleTappable,{ariaLabel:h._("__JHASH__3VJWAHWf1z___JHASH__").toString(),onDoubleClick:T?void 0:A,role:"button",children:m.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:$?"above":"below",checkEmoticon:!1,isFirstMessageInGroup:H,isLastMessageInGroup:I,isSearchPluginAttachment:Y,message:y,nextMessage:z,outgoing:J,prevMessage:B,reactions:C,renderAttachment:function(a,b,c){return Y?null:Z(y,z,B,a,b,J,c,f)},renderEmoji:function(a){var b=a.hotEmojiSize;if(n){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return m.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&(l||(l=d("I64"))).gt(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE))?m.jsx(c("IGDHotlikeEmoji.react"),{}):m.jsx(c("IGDChatEmoji.react"),{text:a.text})},renderMessageBubble:function(a,b,e,f,g){return m.jsx(c("IGDChatBubble.react"),{connectBottom:e,connectTop:b,isSecure:n,message:a,outgoing:g,precedesXMA:f,children:m.jsx(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:n,children:m.jsx(c("IGDMessageListText.react"),{isSecureMessage:n,message:a,outgoing:g,precedesXMA:f})})})},renderMessageContainer:function(a,b){return m.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:y.messageId,optimisticMessageId:y.offlineThreadingId,xstyle:b,children:a})},renderMessageFooter:function(){return m.jsx(c("IGDMessageRowFooter.react"),{hasReactions:Q,isGroupThread:g,message:y,outgoing:J,reactions:C,reactionsV2:D,resetReactionTranslateStyle:o&&!$})},shouldRenderMessageContent:o||!($&&d("IGDXMAAttachmentUtil").isEmojiReaction(y.text))})}),Y&&m.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:W[0],botResponseId:y.botResponseId,dialogResource:c("JSResourceForInteraction")("IGDMessageSearchPluginSourcesDialog.react").__setRef("IGDMessageRow.react"),flowInstanceId:ba})]})}),I?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null]})})]})}a.displayName=a.name+" [from "+f.id+"]";var y=["message","nextMessage","prevMessage","reactions","reactionsV2"];function e(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return y.includes(d)?c("deepEquals")(a,b):a===b})}n=o(a,e);g["default"]=n}),226);
__d("IGDMessageSeenStatusLayout.react",["IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx("div",{className:"x78zum5 x13a6bvl xvrgn94 x7ggn4r xhepvqq",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;return c("LSFetchMessageSeenCount").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchFailedLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWLSThread").useThread(a,function(a){return a.threadSubtype});b=b!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(b);var e=c("useIGDBroadcastChannelLogger")(a);a=i(function(){c("promiseDone")(e(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE))},[e]);return b?a:c("emptyFunction")}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchSuccessLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","ReQL","promiseDone","react","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWLSThread").useThread(a,function(a){return a.threadSubtype}),g=f!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f),i=c("useIGDBroadcastChannelLogger")(a);f=k(!1);var l=f[0],m=f[1];j(function(){if(g&&!l)var f=d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a,b).subscribe(function(a,b){c("promiseDone")(i(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE)),f(),m(!0)})},[b,a,g,l,e,i])}g["default"]=a}),98);
__d("useMessageSeenCountNumber",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a.messageId!=null?d("ReQL").fromTableAscending(b.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId],f.id+":21");e=e!=null?(h||(h=d("I64"))).to_int32(e.seenCount):null;return e}g["default"]=a}),98);
__d("IGDMessageSeenStatusBroadcastChannel.react",["fbt","IGDMessageSeenStatusLayout.react","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","intlSummarizeNumber","promiseDone","react","useIGDBroadcastChannelSeenCountFetchFailedLogger","useIGDBroadcastChannelSeenCountFetchSuccessLogger","useMessageSeenCountNumber","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=a.message;a=a.thread;c("useIGDBroadcastChannelSeenCountFetchSuccessLogger")(a.threadKey,b.messageId);var d=c("useIGDBroadcastChannelSeenCountFetchFailedLogger")(a.threadKey),e=(i||(i=c("useReStore")))();l(function(){c("promiseDone")(e.runInTransaction(function(a){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(a),{messageId:b.messageId,threadKey:b.threadKey})},"readwrite"),c("emptyFunction"),d)},[e,d,b.messageId,b.threadKey,a.threadSubtype]);a=c("useMessageSeenCountNumber")(b);return a!=null&&a!==0?k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__2h7TT-1dXxA__JHASH__",[h._param("lastMessageSeenCount",c("intlSummarizeNumber")(a))])}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIGDSeenParticipantsAndContacts",["I64","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useMemo;function a(a,b){var c=d("MWPActor.react").useActor();return j(function(){return Array.from(b.values()).filter(function(b){var e=b[0];b=b[1];return!(i||(i=d("I64"))).equal(b.id,c)?(i||(i=d("I64"))).ge(e.readWatermarkTimestampMs,a.timestampMs):!1})},[a,b,c])}g["default"]=a}),98);
__d("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(e.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(h||(h=d("I64"))).to_string(a.id),[b,a]]})},[e,b],f.id+":36");return new Map(a)}g["default"]=a}),98);
__d("IGDMessageSeenStatusGroup.react",["fbt","IGDMessageSeenStatusLayout.react","react","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);b=c("useIGDSeenParticipantsAndContacts")(b,a);a=b.length;if(a===0)return null;var d=b[0];d[0];d=d[1];if(a===1)return j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__gdjDChfEo6A__JHASH__",[h._param("name",d.name)])});var e=b[1];e[0];e=e[1];if(a===2)return j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__yNECeZ5m4aY__JHASH__",[h._param("firstUsername",d.name),h._param("secondUsername",e.name)])});if(a>=3){b[0];b[1];a=b.slice(2);return j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__heuxvMZYF3W__JHASH__",[h._param("firstUsername",d.name),h._param("secondUsername",e.name),h._param("remainingUserCount",a.length.toString())])})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageSeenStatusOneToOne.react",["fbt","I64","IGDMessageSeenStatusLayout.react","react","useIGDRelativeTimeStamp","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){a=a.participant;a=c("useIGDRelativeTimeStamp")((j||(j=d("I64"))).to_float(a.readWatermarkTimestampMs));return a!=null?k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__h2UawhHd-M5__JHASH__",[h._param("timestamp",a)])}):k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._("__JHASH__exjilGdWoWv__JHASH__")})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);b=c("useIGDSeenParticipantsAndContacts")(b,a);if(b.length>0){a=b[0];b=a[0];a[1];return k.jsx(l,{participant:b})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageSeenStatus.react",["I64","IGDMessageSeenStatusBroadcastChannel.react","IGDMessageSeenStatusGroup.react","IGDMessageSeenStatusOneToOne.react","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.message;a=a.thread;var e=d("MWPActor.react").useActor();e=(i||(i=d("I64"))).equal(b.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2))&&(i||(i=d("I64"))).equal(b.senderId,e);if(e){if(a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype))return k.jsx(c("IGDMessageSeenStatusBroadcastChannel.react"),{message:b,thread:a});return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?k.jsx(c("IGDMessageSeenStatusGroup.react"),{message:b,thread:a}):k.jsx(c("IGDMessageSeenStatusOneToOne.react"),{message:b,thread:a})}else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:l;d=(b==null?void 0:b.doNotDebounce)!==!0;b=k(a);a=b[0];var f=b[1],g=i(n,[]);b=i(m,[g,e]);var h=j(null);return[a,d?b:f,g];function m(a){g(),h.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(h.current),h.current=null}}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){a=a.delayMs;var b=c("useIsMountedRef")();a=c("useDebouncedState")(function(){return!0},{debounceMS:a,doNotDebounce:!a});var d=a[0],e=a[1];a=j(function(){return{onHidden:function(){b.current&&e(!1)},onVisible:function(){b.current&&e(!0)}}},[b,e]);a=c("useVisibilityObserver")(a);return i.jsx("div",{className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:a,role:"row",children:i.jsx("div",{role:"cell",children:d?i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVirtualizationContext",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useRef;function a(){var a=j(c("VirtualizationContext")),b=l(0),d=l(null);d.current==null&&(d.current=new Map());var e=i(function(a){var c,e=b.current++;(c=d.current)==null?void 0:c.set(e,a);return function(){var a;(a=d.current)==null?void 0:a["delete"](e)}},[]),f=i(function(){return d.current==null?!1:d.current.size>0},[]),g=l(null);g.current==null&&(g.current=new Map());var h=i(function(a,c){var d=b.current++,e=null,f=g.current;if(f!=null){var h;f.has(a)||f.set(a,new Map());e=f.get(a);(h=e)==null?void 0:h.set(d,c)}return function(){var b;(b=e)==null?void 0:b["delete"](d);((b=e)==null?void 0:b.size)===0&&(f==null?void 0:f["delete"](a))}},[]),m=i(function(a){var b;return(b=(b=g.current)==null?void 0:b.has(a))!=null?b:!1},[]),n=k(function(){var b;return(b=a)!=null?b:{createFlag:h,createPin:e,hasFlag:m,hasPin:f}},[a,e,h,m,f]);return n}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","unrecoverableViolation","useIntersectionObserver","useMergeRefs","usePrevious","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useEffect,l=e.useRef,m=e.useState,n=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function o(){var a=m(null),b=a[0],c=a[1];k(function(){b===null&&c(function(){return n()})},[b]);return(a=b)!=null?a:!1}var p={invisible:{display:"x1s85apg",$$css:!0}},q=4e3,r=0,s=c("justknobx")._("1003");function t(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:t(IntersectionObserver.toString()).endsWith("{ [native code] }")}var u=a();function b(a){var b=arguments,d,e,f=a.children,g=a.disableHidding,h=a.leftRightMargin,n=h===void 0?r:h,t=a.pinChildrenOnInteraction,v=a.pinChildrenWithPlayer,w=a.topBottomMargin,x=w===void 0?q:w,y=a.unmountHiddenChildren,z=l(null),A=l(null),B=j(c("HiddenSubtreePassiveContext")),C=m(!1),D=C[0],E=C[1],F=m(!0),G=F[0],H=F[1],I=m(null),J=I[0],K=I[1],L=c("usePrevious")(G),M=c("useVirtualizationContext")();k(function(){var a=function(){return J==null&&!G}();A.current!=null&&a&&K(A.current.getBoundingClientRect().height)},[G,J,L]);var N=function(d){c("nullIntersectionObserverEntryLogger")(d,"IntersectionObserverEntry is null. num_arguments="+b.length);var a=B.getCurrentState().hiddenOrBackgrounded_FIXME;c("intersectionObserverEntryIsIntersecting")(d)?(K(null),H(!0)):a||H(!1)},O={bottom:x,left:n,right:n,top:x},P=c("useIntersectionObserver")(N,{root:null,rootMargin:O,scrollMargin:babelHelpers["extends"]({},O),threshold:0}),Q=c("useMergeRefs")(P,z),R=function(){if(!G&&J!==null&&y!==!1)return{minHeight:J}}(),S=!G&&J!==null,T=o(),U=T?Q:void 0;if(c("gkx")("22947"))return i.jsx("div",{className:"x78zum5 xdt5ytf",children:i.jsx(c("BaseView.react"),{children:f})});var V=function(){t===!0&&E(!0)},W=((d=v)!=null?d:!1)&&M.hasFlag("HAS_PLAYER"),X=u&&s&&y===!0&&S&&!D&&!M.hasPin()&&!W,Y=!((e=g)!=null?e:!1)&&S;return i.jsx(c("VirtualizationContext").Provider,{value:M,children:i.jsx("div",{className:"x78zum5 xdt5ytf","data-testid":void 0,onClickCapture:V,onFocusCapture:V,onKeyPressCapture:V,ref:U,style:R,children:i.jsx(c("BaseView.react"),{hidden:Y,ref:A,xstyle:Y&&p.invisible,children:X?null:i.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:Y,children:f})})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","gkx","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=["comet_feed_unit_card","comet_watch_tab"],k=new Set(((e=c("qex")._("641"))!=null?e:"").split(",").map(function(a){return a.trim()}));k.add("polaris_feed_story_tray_item");var l=(d=c("qex")._("642"))!=null?d:"all",m=(e=c("qex")._("648"))!=null?e:!0,n=(d=c("qex")._("885"))!=null?d:!1,o=a((e=c("qex")._("628"))!=null?e:"");function a(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}function b(a){var b=a.callingSurface,d=a.children,e=a.disableHidding;a=a.topBottomMarginOverride;var f=new Set(j),g=new Set(j);c("gkx")("221")===!0?g.clear():f.clear();e=(e=e)!=null?e:!1;f.has(b)?e=!1:g.has(b)&&(e=!0);g=k.has(b)||f.has(b);(l.includes("all")||l.split(",").includes(b))&&c("qex")._("692");return i.jsx(c("CometVirtualization.react"),{disableHidding:e||!g,pinChildrenOnInteraction:g&&m,pinChildrenWithPlayer:n,topBottomMargin:a!=null&&a>=0?a:o.get(b),unmountHiddenChildren:g,children:d})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPFetchMessagesPage",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,i,j,k,l){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,m;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,g));if(b==null||(f==="before"?b.isLoadingBefore:b.isLoadingAfter))return;m=j==null?null:yield (m=a.messages_ranges_v2__generated).get.apply(m,j);if(j!=null&&(m==null||(f==="before"?m.isLoadingBefore:m.isLoadingAfter)))return;if(f==="before")if(m==null||b.hasMoreBefore){var n=d("LSMessagingThreadTypeUtil").isSecure(i);if(n){if(l!=null)return l(a,b.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(k));if(n){if(l!=null)return l(a,m.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:m.minTimestampMs,threadKey:m.threadKey})}else if(m==null||b.hasMoreAfter){n=d("LSMessagingThreadTypeUtil").isSecure(i);if(n)if(c("gkx")("23927")){if(l!=null)return l(a,b.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(k));if(n)if(c("gkx")("23927")){if(l!=null)return l(a,m.threadKey,"after",e)}else throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:m.minTimestampMs,threadKey:m.threadKey})}});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")}g["default"]=a}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).to_string(b);return{lock:{after:function(){var b=f();b.after===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.after=!0;a.set(e,b)},before:function(){var b=f();b.before===!0&&c("FBLogger")("messenger_web_product").mustfix("Locking threadLockStatus twice");b.before=!0;a.set(e,b)}},release:{after:function(){var b=f();b.after=!1;a.set(e,b)},before:function(){var b=f();b.before=!1;a.set(e,b)}},state:f()};function f(){var b=a.get(e);b==null&&(b={after:!1,before:!1},a.set(e,b));return b}}g.localThreadStatus=a}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","asyncToGeneratorRuntime","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j){var k,m;k=(yield (k=a.tables.messages_ranges_v2__generated).get.apply(k,f));if(k==null)return;m=h&&(yield (m=a.tables.messages_ranges_v2__generated).get.apply(m,h));if(m==null&&h!=null)return;h=d("LSMessagingThreadTypeUtil").isSecure(g);g=i!=null?d("LSMessagingThreadTypeUtil").isSecure(i):!1;if(e==="before")if(m==null||k.hasMoreBefore)if(h)return l(a,b,e,k,j);else return n(a,f,k.threadKey,e);else if(g)return l(a,b,e,m,j);else return n(a,[m.threadKey,m.minTimestampMs,m.minMessageId],m.threadKey,e);else{e;if(m==null||k.hasMoreAfter)if(h)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,f,k.threadKey,e);else{g=d("LSMessagingThreadTypeUtil").isSecure(c("nullthrows")(i));if(g)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return n(a,[m.threadKey,m.minTimestampMs,m.minMessageId],m.threadKey,e)}}});return i.apply(this,arguments)}var j=new Map(),k=new Map();function l(a,b,c,d,e){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){if(c("qex")._("1215")!==!0){var h=d("MWPFetchMessagesThreadLocks").localThreadStatus(j,f.threadKey);if(h.state[e])return;try{h.lock[e]();var i=(yield a.tables.messages.index("messageId").get(f.minMessageId));return yield g.fetchSecureMessagesProtocol(a,f.threadKey,i==null?void 0:i.primarySortKey,f,e,b)}finally{h.release[e]()}}});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f=d("MWPFetchMessagesThreadLocks").localThreadStatus(k,f);if(f.state[g])return;try{f.lock[g]();return yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,e));if(!b)return;if(b.isLoadingBefore&&g==="before")return;if(b.isLoadingAfter&&g==="after")return;return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(g==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui")}finally{f.release[g]()}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.threadType;d[3]=b.numContextMessages;return c("LSMessagePointQuery").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWPFetchMessagesRangeForMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){return a.runInTransaction(function(a){var g=(h||(h=d("I64"))).to_int32(f);(g===15||g===16)&&c("FBLogger")("occam").mustfix("MWPFetchMessagesRangeForMessage: incorrect call to MPQ with secure mailbox");return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b,threadType:f})},"readwrite","ui")}g["default"]=a}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",start:"x14yxtea",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=m(d);var e=a[0],f=a[1];k(function(){d&&f(!0)},[d,f]);return l(function(){return e?j.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:j.jsx("div",{className:(h||(h=c("stylex")))([n.animationWrapper,d?n.animateIn:n.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),l=(i||(i=d("I64"))).equal(j,a),m=k(function(){return e},[].concat(e));return d("ReQLSuspense").useFirst(function(){return!d("LSMessagingThreadTypeUtil").isOneToOne(b)?d("ReQL").empty():d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.table("participants"),["contactId"]).getKeyRange(a),d("ReQL").fromTableAscending(g.table("contacts"),e)).filter(function(a){var b=a[0];a[1];return l||!(i||(i=d("I64"))).equal(b.contactId,j)}).map(function(a){a[0];a=a[1];return a})},[b,g,a,l,j,m],f.id+":35")}g["default"]=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":23");if(e==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;e=e.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(e.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return e===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,function(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)});var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","cr:2580","cr:2865","gkx","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback,l=(e=b("cr:2865"))!=null?e:function(){return{}};function a(a,e){var f,g=(h||(h=c("useReStore")))(),j=(f=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?f:e;if(j==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_product");f=l();var m=f.setIsPassive,n=c("MessengerWebUXLogger").useInteractionLogger();return k(function(){n==null?void 0:n({eventName:"mark_thread_as_read"}),m!=null&&m(!1),c("promiseDone")(g.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(j)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:j,threadType:f},"seen_receipt",a);h=(i||(i=d("I64"))).of_float(d("ServerTime").getMillis());!c("gkx")("2916")?f=h:f=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:f,threadKey:j})}});return function(a){return e.apply(this,arguments)}}(),"readwrite"))},[n,m,g,j,a])}g["default"]=a}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWLSMarkThreadAsRead")(e,a.threadKey),l=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey),m=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"]);return d("Int64Hooks").useCallbackInt64(function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(f.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f,g){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(g,m&&d("MAWContactRelationshipType").getContactRelationshipType(m),m?d("LSContactUtils").isContactBlocked(m):!1,m?d("LSContactUtils").isContactRestricted(m):!1,void 0,l,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.folderName,a.authorityLevel,a.threadKey,g,f,m,l])}g["default"]=a}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","asyncToGeneratorRuntime","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("relay-runtime").Observable.create(function(f){var g=e(a),i=function(a){if(f.closed)return;f.next(a)},j,k=[],l=g.subscribe(function(a,b){k.push([a,b])}),m=a.subscribeToCommit(function(){if(f.closed)return;if(j!=null&&k.length>0){var a=j;c("applyChangesToBPlusTree")(a,k)&&i(Array.from(a.entries()))}}),n=g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)),o=[];c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(!f.closed){var a=n.next();(h||(h=c("isPromise")))(a)&&(a=(yield a));if(a.done)break;o.push(a.value)}if(f.closed)return;a=j=c("createBPlusTreeFromSorted")(o,g.direction);i(c("applyChangesToBPlusTree")(a,k)?Array.from(a.entries()):o)})());return function(){l(),m()}})}g.create=a}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useTopMostRouteCometEntityKey")(),b=c("useCometRouterState")();return c("getGroupThreadViewParams")(a,b)}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","nullthrows","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w={type:v.Null},x="/?$";function y(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var z=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function A(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(z+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",z);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+x)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=C(y(b));return e!=null?{type:v.Recent,uriStateDetails:{fbid:e,type:n.Thread}}:w}var B=c("gkx")("23433")||c("gkx")("22839");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function C(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b,e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")();a=C(a);var l=d("CometRouteParams").useRouteParams();b=a!=null?(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a),f.id+":319"))==null?void 0:b.threadType:null;var m=b!=null?c("MWCMIsAnyCMThread")(b):!1,o=b!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(b):!1;if(k!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(k.threadKey),type:n.Thread}};if(g==null)return w;if(!j.startsWith(z)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web_product").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);k=l.initial_e2ee_toggle_position==="1"||l.initial_e2ee_toggle_position===1||l.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";j=g.url.substring(z.length);j=c("nullthrows")((l=d("ConstUriUtils").getUri(j))==null?void 0:l.getPath().split("/"));if(a!=null){if(j.length===4&&j[0]===""&&j[1]==="e2ee"&&j[2]==="t"&&c("isArmadillo")())return{type:v.Recent,uriStateDetails:{fbid:a,type:n.SecureThread}};if(b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b))return A(g);if(m&&!B)return w;return o?{fbid:a,type:v.UnsupportedThread}:{type:v.Recent,uriStateDetails:{fbid:a,type:n.Thread}}}if(j==null)return A(g);switch(j.length){case 2:return j[1]==="new"?{type:v.Recent,uriStateDetails:{initialTogglePosition:k,type:n.Compose}}:A(g);case 3:if(j[1]!=="t")return A(g);if(j[2]==="")return A(g);l=C(j[2]);b=l!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(l),f.id+":429"):null;return l!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isSecure(b==null?void 0:b.threadType)?{type:v.Recent,uriStateDetails:{fbid:l,type:n.Thread}}:w;case 0:case 1:default:return A(g)}}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("MWInboxPassiveContext.react",["I64","MWInboxProvider.react","emptyFunction","react","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;e=b.createContext;var k=b.useContext,l=b.useEffect,m=b.useMemo;b={isPassive:!1,setIsPassive:c("emptyFunction")};var n=e(b);function o(a){if(a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateTag.Recent){a=a.uriStateDetails;a!=null&&a.type===d("useMWInboxURIState").MWInboxURIStateDetailsType.Thread&&(i||(i=d("I64"))).to_string(a.fbid)}return""}function a(a){var b=a.children,c=a.isPassive,e=a.setIsPassive;a=k(d("MWInboxProvider.react").MWInboxProviderContext);a=o(a);l(function(){e(!1)},[e,a]);a=m(function(){return{isPassive:c,setIsPassive:e}},[c,e]);return j.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWInboxPassiveContext=n;g.MWInboxPassiveContextProvider=a}),98);
__d("useMWInboxPassiveContext",["MWInboxPassiveContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWInboxPassiveContext.react").MWInboxPassiveContext)}g["default"]=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","asyncToGeneratorRuntime","cr:268","emptyFunction","gkx","promiseDone","react","useMWInboxPassiveContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useCallback,l=(e=b("cr:268"))!=null?e:c("emptyFunction");function m(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.table("messages")).getKeyRange(b)));if(h==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b)));if(a==null)return!1;b=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("24041")?!f.isPassive:!0:!0;e=(j||(j=d("I64"))).gt(h.timestampMs,a.lastActivityTimestampMs)?h.timestampMs:a.lastActivityTimestampMs;g=(j||(j=d("I64"))).gt(e,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&g});return n.apply(this,arguments)}function o(a,e){var f=(h||(h=c("useReStore")))(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("useMWInboxPassiveContext")();return k(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield m(f,a,g,j,i))return e()})())},[f,a,g,j,i,e])}function p(a,e,f,g){var i=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!e())return f()});return function(){return c.apply(this,arguments)}}();window.addEventListener("focus",c);document.hasFocus()&&void c();var h=d("ReQLObservable").create(i,function(){return d("ReQL").fromTableDescending(i.table("messages")).getKeyRange(g)}).subscribe({next:c});return function(){window.removeEventListener("focus",c),h.unsubscribe()}},[f,a,e,g,i])}function a(a,b,c,d){b=o(a.threadKey,b);l(a);p(c,d,b,a.threadKey);return b}g["default"]=a}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:5552","promiseDone","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){var j=(i||(i=c("useReStore")))(),k=a.threadKey,l=a.threadType,m=c("useMAWMarkThreadAsRead")(a),n=b("cr:5552")({entryPoint:g,threadKey:k,threadType:l});g=d("Int64Hooks").useCallbackInt64(function(){n==null?void 0:n();if(d("LSMessagingThreadTypeUtil").isSecure(l)){m();return}c("promiseDone")(j.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:k})},"readwrite","ui"))},[j,n,m,k,l]);return c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,g,e,f)}g["default"]=a}),98);
__d("useMWPMessageListScroll",["MWPVisibleMessageContext.react","MWScrollUtils","Promise","react","requestAnimationFrame","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.createRef,k=e.useCallback,l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o=e.useState;function p(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e,f,g,i,q,r,s,t,u){var v=n(null),w=n(!1),x=k(function(){if(!u)return;if(q==null||w.current)return;q(!1);w.current=!0},[q,u]);l(function(){var a;if(q==null||w.current)return;if(g!=null&&!g.hasMoreBefore){q(!0);w.current=!0;return}i&&i((a=(a=v.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,g===f);a=(a=v.current)==null?void 0:a.doesContentFillScroll;if(a==null)return;if(a()){q(!1);w.current=!0;return}},[q,g,i,f]);var y=o(!0),z=y[0],A=y[1],B=(g==null?void 0:g.hasMoreAfter)===!1;y=k(function(){return new(h||(h=b("Promise")))(function(a){var b=v.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&B)})})},[B]);var C=c("useMWPSafelyMarkThreadAsRead")(t,y,a,e);l(function(){var b;b=(b=v.current)==null?void 0:b.onCloseToBottom;if(b!=null)return b(0,function(b){b&&!a()&&C()})},[C,a]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null&&r!=null)return a(36,r)},[r]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,A)},[f==null?void 0:f.minMessageId]);var D=n(new Map());t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var E=t.setVisibleMessage;y=t.visibleMessage;var F=y==null?void 0:y.messageId;e=k(function(a){return p(D.current,a,j)},[]);l(function(){var a;if(F==null)return;a=(a=D.current.get(F))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[F]);var G=k(function(){g===f&&(v.current!=null&&v.current.scrollToBottom()),E(function(){return void 0})},[f,g,E]);m(s,function(){return{getScrollAreaElement:function(){var a;return(a=v.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(){G()},restoreScrollPosition:function(){var a;return(a=v.current)==null?void 0:a.restoreScrollPosition()}}},[G]);return[z,v,G,e,x]}g["default"]=a}),98);
__d("useShallowEqualState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){a=j(a);var b=a[0],d=a[1];a=i(function(a){if(typeof a==="function"){var b=a;return d(function(a){var d=b(a);return c("shallowEqual")(a,d)?a:d})}return d(function(b){return c("shallowEqual")(b,a)?b:a})},[]);return[b,a]}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWFetchMoreMessagesWhenEnabled","MWPFetchMessagesPage","MWPFetchMessagesPageV2","MWPFetchMessagesRangeForMessage","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","cr:8795","emptyFunction","gkx","promiseDone","react","useMWPMessageListScroll","useReStore","useShallowEqualState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),aa=i.useCallback,ba=3,ca=(e=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useFetchSecureMessages)!=null?e:function(a){return void 0},da=(e=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useSecureDataStorage)!=null?e:function(){return void 0},m={list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},n=(k||(k=d("I64"))).of_string("9999999999999");function o(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ea(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function p(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":144")}function fa(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,n)?d("ReQL").empty():d("ReQL").fromTableDescending(b.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":170")}e=l.forwardRef(a);function a(a,e){var g,i=a.checkIsThreadManuallySetAsUnread;i=i===void 0?c("emptyFunction").thatReturnsFalse:i;var q=a.entryPoint,ga=a.headerStyle,ha=a.isSufficientContentLoadedAbove,r=a.logScrollerMetadata,s=a.onInitialLoadingCompleted,t=a.onScrollToBottom,ia=a.onUserScroll,u=a.pageSize,ja=a.renderFooter,v=a.renderHeader,w=a.renderHeaderContentSpacer,x=a.renderJumpToMostRecentMessageButton,y=a.renderLoadingAnimation,z=a.renderRow,A=a.secondaryThread,B=a.setScrollTopInResetForBottomAnchor;B=B===void 0?!0:B;var C=a.thread;a=a.triggerRenderingCompleteOnResize;a=a===void 0?!1:a;var D=C.threadKey,E=C.threadType,ka=d("LSMessagingThreadTypeUtil").isSecure(E),F=A==null?void 0:A.threadKey,G=A==null?void 0:A.threadType,H=(h||(h=c("useReStore")))(),I=ca(E),J=da(),K=(g=u)!=null?g:c("gkx")("23432")?3:15,la=b("cr:8795")(H,D,E,K),L=d("Int64Hooks").useCallbackInt64(function(a,b,d){c("gkx")("239")&&J!=null?c("promiseDone")(c("MWPFetchMessagesPageV2")(H,K,d,a,E,b,G,J)):c("promiseDone")(c("MWPFetchMessagesPage")(H,K,d,a,E,b,G,I))},[K,H,G,I,E,J]),M=d("Int64Hooks").useCallbackInt64(function(a){c("promiseDone")(c("MWPFetchMessagesRangeForMessage")(H,D,a,E))},[H,D,E]),N=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(D)},[H,D],f.id+":300");g=d("ReQLSuspense").useFirst(function(){return F==null?d("ReQL").empty():d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(F)},[H,F],f.id+":307");var O=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();O=O.visibleMessage;var P=O==null?void 0:O.messageId,Q=O==null?void 0:O.timestamp,R=d("ReQLSuspense").useFirst(function(){return P!=null&&Q!=null?d("ReQL").fromTableAscending(H.table("messages"),["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(D,Q,P):d("ReQL").empty()},[H,D,P,Q],f.id+":322"),S=ea(d("ReQLSuspense").useFirst(function(){return Q!=null?d("ReQL").fromTableDescending(H.table("messages_ranges_v2__generated")).getKeyRange(D).bounds({lte:[Q]}):d("ReQL").empty()},[H,Q,D],f.id+":335"),Q);O=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:N});var T=O[0],U=O[1];O=T.displayMessage;T=T.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){P==null||Q==null?U(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:N})}):S==null?M(P):S.minMessageId===P&&S.hasMoreBefore?L(d("ReQL").key(S.threadKey,S.minTimestampMs,S.minMessageId),null,"before"):S.maxMessageId===P&&S.hasMoreAfter?L(d("ReQL").key(S.threadKey,S.minTimestampMs,S.minMessageId),null,"after"):R!=null&&U(function(a){return babelHelpers.extends({},a,{displayMessage:R,displayMessagesRange:S})})},[N,L,M,U,R,P,Q,S]);var V=p(T),W=fa(T),X=p(g);i=c("useMWPMessageListScroll")(i,q,N,T,r,s,t,e,C,a);q=i[0];r=i[1];s=i[2];var Y=i[3];t=i[4];e=d("Int64Hooks").useMemoInt64(function(){var a=H.table("messages").index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(E),e=H.table("messages").index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(D).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return F==null?b!=null?d("ReQL").union(d("ReQL").prependKey(b.getKeyRange(D),0),d("ReQL").prependKey(e,1)):d("ReQL").prependKey(e,1):d("ReQL").union(d("ReQL").prependKey(a.getKeyRange(F).filter(function(a){a=a.isCollapsed;return!a}),0),d("ReQL").prependKey(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[H,F,D,E]);a=T!=null&&(k||(k=d("I64"))).equal(T.maxTimestampMs,n);i=T!=null&&(k||(k=d("I64"))).equal(T.minTimestampMs,(k||(k=d("I64"))).zero);var ma=g!=null&&(k||(k=d("I64"))).equal(g.minTimestampMs,(k||(k=d("I64"))).zero),na=aa(function(a,b){var e=b.nextItem;b=b.previousItem;return l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHidding:!0,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:z({domElementRef:Y(a.messageId),message:a,nextMessage:e,prevMessage:b})})},a.offlineThreadingId)},[Y,z]),Z=(k||(k=d("I64"))).equal(C.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(C.threadType);if((T==null||V==null&&!i||W==null&&!a)&&!Z){if((k||(k=d("I64"))).equal(C.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),v!=null?v():null]});C=T==null?"displayMessagesRangeNull":V==null&&!i?"noMinMessage":W==null&&!a?"noMaxMessage":"other";return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+C,hold:!0}),y!=null?y():null]})}var $=!Z&&T!=null?d("ReQL").key(T.threadKey,T.minTimestampMs,T.minMessageId):null,oa=g==null?null:d("ReQL").key(g.threadKey,g.minTimestampMs,g.minMessageId);i=O==null?"bottom":[1].concat(o(O));a=V==null?X==null||ma?null:[0].concat(o(X)):[1].concat(o(V));C=W==null?null:[1].concat(o(W));return l.jsxs(c("Box.react"),{xstyle:m.list,children:[l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:a,lte:C},data:e,hasReachedBottom:!Z&&T!=null?!T.hasMoreAfter:!0,hasReachedTop:!Z&&T!=null?g==null?!(T.hasMoreBefore||A!=null):!(T.hasMoreBefore||g.hasMoreBefore):!0,headerStyle:ga,holdTriggerElementsCount:ba,imperativeRef:r,initialAnchor:i,initialRenderComplete:t,isSufficientContentLoadedAbove:ha,onPageLoaded:function(a,b,c){if(!ka)return;if(a!=="top")return;la(b,c)},onReachingBottom:!Z&&$!=null?function(){L($,oa,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){L($,oa,"before")}:c("emptyFunction"),onUserScroll:ia,pageSize:u,renderFooter:ja,renderHeader:v,renderHeaderContentSpacer:w!=null?w:function(){return l.jsx(c("Box.react"),{xstyle:m.spacer})},renderItem:na,renderLoadingAnimation:y,setScrollTopInResetForBottomAnchor:B,xstyle:m.list})}),x&&l.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&T!=null?!q||T.hasMoreAfter:!1,children:x(s)})]})}a.displayName=a.name+" [from "+f.id+"]";a=e;g.default=a}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function l(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.hasMessages,g=f===void 0?!0:f;f=a.modal;var h=a.onNavigate,m=h===void 0?c("emptyFunction"):h;h=a.setModal;var n=a.wrapX;n=n===void 0?!1:n;a=a.wrapY;a=a===void 0?!1:a;var o=j(function(a){m(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=b==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(l):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]),p=k(function(){return g?i.jsx("div",{"aria-label":b,className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:e}):i.jsx("div",{className:"x1uipg7g xu3j5b3 xol2nv xlauuyb x26u7qi x19p7ews x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:e})},[b,e,g]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{value:h,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:o,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:n,wrapY:a,children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=j(null),c=i(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","IGDInstamadilloUtils","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadAttributionType","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatReactionsUtils","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useIGDGlobalReactMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useCallback,m=c("requireDeferred")("MWLogSend").__setRef("useHandleDoubleClickToLike");function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){e=(yield (f=d("ReQL")).firstAsync(f.leftJoin(f.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(j||(j=d("I64"))).equal(a.contactId,b)}),f.fromTableAscending(a.tables.contacts,["blockedByViewerStatus"])).map(function(a){a[0];a=a[1];return a})));if(e!=null)return!(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return o.apply(this,arguments)}function a(a){var e=(h||(h=c("useReStore")))(),f=d("MWPActor.react").useActor(),g=a.threadKey,i=d("MWPActor.react").useActor(),j=c("useIGDGlobalReactMessage")(a,"reaction_tray");return l(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(g)));if(!a)return;var b=(yield n(e,f,g,a.threadType));b=!d("LSThreadBitOffset").has(18,a)||b;if(b)return;j(d("MWChatReactionsUtils").heartType1,"like");b=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a);var h=b?1:0;m.onReady(function(b){return b.log({actor:i,attachmentFbids:[],attachmentType:20,backend:h,hasReply:!1,sendType:0,source:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").INSTAGRAM_WEB_SENDS),threadKey:a.threadKey,threadType:a.threadType})})})())},[e,g,f,j,i])}g["default"]=a}),98);
__d("useIGDAutoFitViewport",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,c){i(function(){if(!j(b)||!a.current)return;var d=a.current;if(!c){var e=[],f=0,g=!1;l(e,window,"touchstart",function(a){f=a.touches[0].clientY},!0);l(e,window,"touchmove",function(a){a=a.touches[0].clientY;a=a-f>0;if(!g)return;!a?(d.style.alignSelf="flex-end",d.scrollIntoView(!1)):(d.style.alignSelf="auto",d.scrollIntoView(!0))},!0);k(e,window.visualViewport,"resize",function(){g=window.innerHeight>window.visualViewport.height,g?(d.style.height=window.visualViewport.height+"px",d.style.alignSelf="flex-end",d.scrollIntoView(!1)):(d.style.height="auto",d.style.alignSelf="auto")});return function(){for(var a=0;a<e.length;a++){var b=e[a];b()}}}else d.style.height="auto",d.style.alignSelf="auto"},[c,b,a])}function j(a){return window.visualViewport&&d("PolarisUA").isMobile()&&d("PolarisConfig").isAndroid()&&a()}function k(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}function l(a,b,c,d,e){b.addEventListener(c,d,e),a.push(function(){b.removeEventListener(c,d,e)})}g.useIGDAutoFitViewport=a;g.checkIGDAutoFitViewportEligibility=j}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("participants"),["contactId","nickname"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),226);
__d("useMessageAttachment",["MWPMessageHasAttachment","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=c("MWPMessageHasAttachment")(a);return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId,e],f.id+":23")}g["default"]=a}),98);
__d("IGDMessageList.react",["FBLogger","IGDEqualityUtils","IGDInstamadilloUtils","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDVisibilityAware.react","IGDXMAUtils","Int64Hooks","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWInboxThreadMessagesSpinner.react","MWMessageListLoggingContext","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageReactions.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:6459","cr:8465","cr:8487","gkx","isThreadLevelCutoverEnabled","polarisDebounce","react","shallowEqual","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDDeviceType","useMWPAriaLabelForMessageListGrid","useMessageAttachment","useStableCallback","useStableValue","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState,n={container:{paddingStart:"xohu8s8",paddingLeft:null,paddingRight:null,$$css:!0}},o={bottom:500,top:500},p={bottom:100,top:100};function q(a){var b=a.formatText,e=a.modal,f=a.onGetScrollAreaElement,g=a.stopHoveringRef,h=a.thread,j=a.domElementRef,k=a.message,l=a.nextMessage;a=a.prevMessage;var m=d("useIGDDeviceType").useIGDDeviceType();m=m.isMobile;var n=d("LSMessagingThreadTypeUtil").isGroup(h.threadType),q=d("IGDInstamadilloUtils").isInstamadilloMessage(k),r=c("useStableCallback")(c("useHandleDoubleClickToLike")(k)),s=d("LSThreadBitOffset").has(139,h),t=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(k),u=d("MWPMessageReactions.react").useReactions(k),v=c("useMessageAttachment")(k);v=d("IGDXMAUtils").checkIsXMAExpired(v);j=i.jsxs(i.Fragment,{children:[i.jsx(c("IGDMessageRow.react"),{domElementRef:j,formatText:b,isGroupThread:n,isModal:e===k.messageId,isSecureMessage:q,isXMAExpired:v,message:k,nextMessage:l,onDoubleClickToLike:r,prevMessage:a,reactions:u,reactionsV2:s?t:void 0,stopHoveringRef:g}),l!=null?null:i.jsx(c("IGDMessageSeenStatus.react"),{message:k,thread:h})]});return i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_messages",children:i.jsx(c("IGDVisibilityAware.react"),{root:f,rootMargin:m?p:o,children:j})})}q.displayName=q.name+" [from "+f.id+"]";function r(a,e,f,g,h){var k=l(new WeakMap()),m=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,folderName:a.folderName,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return j(function(a){var d=k.current.get(a.message),j=babelHelpers["extends"]({},a,{formatText:g,modal:e,onGetScrollAreaElement:h,stopHoveringRef:f,thread:m});if(!d||!c("shallowEqual")(j,d.props)){d=i.jsxs(i.Fragment,{children:[b("cr:8465")!=null&&i.jsx(b("cr:8465"),{message:a.message,prevMessage:a.prevMessage}),i.jsx(q,babelHelpers["extends"]({},j))]});k.current.set(a.message,{props:j,row:d})}j=k.current.get(a.message);if(!j)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return j.row},[g,e,h,f,m])}function s(a){a=a.scrollTop;return a>100}e=i.forwardRef(a);function a(a,e){var f=a.formatText;f=f===void 0?!1:f;var g=a.pageSize,h=a.renderHeader,l=a.thread;a=c("useForwardedRef")(e);var o=a[0];e=a[1];a=c("isThreadLevelCutoverEnabled")();var p=d("MAWThreadCutover").useIsCutoverSecureThread(l.threadKey),q=d("MAWThreadCutover").useCutoverOpenThread(l.threadKey),t=d("useIGDDeviceType").useIGDDeviceType(),u=t.isMobile;t=m(!1);var v=t[0],w=t[1];k(function(){function a(){w(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);u&&window.addEventListener("resize",b);return function(){u&&window.removeEventListener("resize",b)}},[u,v]);t=d("LSMessagingThreadTypeUtil").isSecure(l.threadType);var x=d("LSMessagingThreadTypeUtil").isGroup(l.threadType),y=c("useMWPAriaLabelForMessageListGrid")(l),z=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),A=t?!x:!0;t=m("");x=t[0];t=t[1];var B=j(function(){var a;a=(a=o.current)==null?void 0:a.getScrollAreaElement();return a instanceof HTMLElement?a:null},[o]);z=r(l,x,z,f,B);f=d("Int64Hooks").useCallbackInt64(function(a){return i.jsxs(i.Fragment,{children:[b("cr:8487")!=null&&i.jsx(b("cr:8487"),{lastItem:(a=a)!=null?a:void 0,threadKey:l.threadKey}),A&&b("cr:6459")!=null?i.jsx(b("cr:6459").MWPTypingIndicators,{checkPresenceSettings:!0,containerStyle:n.container,threadKey:l.threadKey,threadType:l.threadType}):null]})},[A,l.threadKey,l.threadType]);B=j(function(){return c("gkx")("24012")},[]);return a&&p&&q==null?i.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):i.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:y,modal:x,setModal:t,children:i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:i.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:i.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:s,onUserScroll:d("useIGDAutoFitViewport").checkIGDAutoFitViewportEligibility(B)?void 0:function(){if(u&&v){var a;(a=document.activeElement)==null?void 0:a.blur()}},pageSize:g,ref:e,renderFooter:f,renderHeader:h,renderLoadingAnimation:function(){return i.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:z,secondaryThread:q,thread:l})})})})}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={learnMore:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0}};function a(){var a=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react")),b=a[0];return j.jsx(c("PolarisFastLink.react"),{onClick:function(){return b({})},xstyle:k.learnMore,children:j.jsx(c("IGDSText.react"),{color:"link",children:h._("__JHASH__T-9iBR7uE3z__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("IGDNullStateDescription.react",["fbt","CometLink.react","I64","IGDInboxGenAIStarIcon.react","IGDNullStateGenAILearnMoreButton.react","IGDSBox.react","IGDSText.react","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateDescriptionType","XInstagramHelpDotComContentControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={learnMoreLink:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,$$css:!0},nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0}};function n(){var a;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return l.jsx(c("CometLink.react"),{color:"primary",href:a,target:"_blank",xstyle:m.learnMoreLink,children:h._("__JHASH__tAm34XgWzqf__JHASH__")})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.descriptionText,e=a.descriptionType;a=a.threadType;var f=d("LSMessagingThreadTypeUtil").isSecure(a);a=(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(201));var g=a&&(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT));a=a&&(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").DEFAULT));return l.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",xstyle:m.nullStateContainer,children:[l.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[b,g?l.jsx(c("IGDNullStateGenAILearnMoreButton.react"),{}):null,f?l.jsx(n,{}):null]}),a?l.jsx(c("IGDInboxGenAIStarIcon.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("getOtherUserForPartnershipThread",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a.length===1){var e=a[0],f=e[0];e=e[1];if(e!=null)return[f,e];return}f=a.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,b)});if(f.length===0){c("FBLogger")("messenger_comet").mustfix("No participants in partnership thread, {participantsAndContacts: %d, hasActor: %b}",a.length,a.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,b)}));return}e=f[0];a=e[0];f=e[1];if(f!=null)return[a,f]}g["default"]=a}),98);
__d("useMWV2OtherUser",["MWPActor.react","getMWV2OtherUser","getOtherUserForPartnershipThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("MWPActor.react").useActor();return e===!0?c("getOtherUserForPartnershipThread")(b,f):c("getMWV2OtherUser")(a,b,f)}g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDE2EEAttributionThreadContextBanner.react","IGDNullStateDescription.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.react","MWPThreadContextBanner.react","MWVerticalRhythm","PolarisLinkBuilder","ReQL","ReQLSuspense","react","useMWV2OtherUser","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var b=a.isPartnershipThread,e=a.participantsAndContacts;a=a.thread;var f=a.threadType;e=c("useMWV2OtherUser")(f,e,b);f=d("LSMessagingThreadTypeUtil").isOneToOne(f);e=e!=null?d("PolarisLinkBuilder").buildUserLink((e=e[1].secondaryName)!=null?e:""):void 0;a=d("LSThreadBitOffset").has(41,a);return(a&&f||b)&&e!=null?k.jsx("div",{className:"x1gan7if x1p5oq8j",children:k.jsx(c("IGDSButton.react"),{display:"block",href:e,label:h._("__JHASH__dwB6QHKUH_P__JHASH__"),variant:"secondary"})}):k.jsx(c("MWVerticalRhythm"),{height:32})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.thread;a=a.threadTitle;return k.jsx("div",{className:"x9f619 xpkgp8e xmns6w2 xh8yej3",children:k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[k.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("LSVerificationBadge.react"),{icon:k.jsx(c("IGDSVerifiedBadge.react"),{size:"large"}),threadKey:b.threadKey})})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.thread,e=b.threadKey;a=b.threadSubtype;var g=b.threadType,h=(i||(i=c("useReStore")))(),j=d("LSMessagingThreadTypeUtil").isSecure(g);a=d("LSMessagingThreadTypeUtil").isPartnership(a);var n=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(h.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(h.tables.contacts))},[h,e],f.id+":161");return k.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid",children:[k.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:function(a,b){return k.jsx(c("IGDNullStateDescription.react"),{descriptionText:a,descriptionType:b,threadType:g})},renderThreadPicture:function(a){return k.jsx("div",{className:"xyamay9 x1l90r2v",children:k.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})},renderThreadTitle:function(a){return k.jsx(m,{thread:b,threadTitle:a})},thread:b}),n.length>0&&k.jsx(l,{isPartnershipThread:a,participantsAndContacts:n,thread:b}),j?k.jsx(c("IGDE2EEAttributionThreadContextBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.senderUnsendNUXEnabled;return i.jsxs(i.Fragment,{children:[b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useIGDDeviceType").useIGDDeviceType();a=a.isMobile;return a?5:10}g["default"]=a}),98);
__d("IGDOpenMessageListContainer.react",["CometPageletWithDiv.react","IGDInstamadilloUtils","IGDMessageList.react","IGDThreadContextBanner.react","IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWChatUnsendNUX.react","MWPMessageListColumn.react","MessengerWebUXLogger","react","useMessageListPageSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var e=a.thread;a=c("useMessageListPageSize")();var f=d("IGDInstamadilloUtils").isInstamadilloCutover(e),g=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(e),h=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(e),j=d("LSMessagingThreadTypeUtil").isSecure(e.threadType),k=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();h=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_rendered",extraData:{is_dm:String(h),is_instamadillo:String(g),is_instamadillo_tlc:String(f),is_secure:String(j)},flowInstanceId:k});return i.jsxs(i.Fragment,{children:[i.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),i.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:null,name:"IGDOpenMessageList",ref:h,children:i.jsx(c("IGDMessageList.react"),{formatText:!0,pageSize:a,ref:b,renderHeader:function(){return i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),i.jsx(c("IGDThreadContextBanner.react"),{thread:e}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},thread:e})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("IGDSAppMessengerOutline96Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:i.jsx("path",{d:"M48 0C21.532 0 0 21.533 0 48s21.532 48 48 48 48-21.532 48-48S74.468 0 48 0Zm0 94C22.636 94 2 73.364 2 48S22.636 2 48 2s46 20.636 46 46-20.636 46-46 46Zm12.227-53.284-7.257 5.507c-.49.37-1.166.375-1.661.005l-5.373-4.031a3.453 3.453 0 0 0-4.989.921l-6.756 10.718c-.653 1.027.615 2.189 1.582 1.453l7.257-5.507a1.382 1.382 0 0 1 1.661-.005l5.373 4.031a3.453 3.453 0 0 0 4.989-.92l6.756-10.719c.653-1.027-.615-2.189-1.582-1.453ZM48 25c-12.958 0-23 9.492-23 22.31 0 6.706 2.749 12.5 7.224 16.503.375.338.602.806.62 1.31l.125 4.091a1.845 1.845 0 0 0 2.582 1.629l4.563-2.013a1.844 1.844 0 0 1 1.227-.093c2.096.579 4.331.884 6.659.884 12.958 0 23-9.491 23-22.31S60.958 25 48 25Zm0 42.621c-2.114 0-4.175-.273-6.133-.813a3.834 3.834 0 0 0-2.56.192l-4.346 1.917-.118-3.867a3.833 3.833 0 0 0-1.286-2.727C29.33 58.54 27 53.209 27 47.31 27 35.73 36.028 27 48 27s21 8.73 21 20.31-9.028 20.31-21 20.31Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDBaseNullState.react",["CometColumn.react","CometColumnItem.react","IGDSAppMessengerOutline96Icon.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.descriptionText,e=a.icon;a=a.titleText;return i.jsxs(c("CometColumn.react"),{align:"center",expanding:!0,paddingHorizontal:16,verticalAlign:"center",children:[i.jsx(c("CometColumnItem.react"),{children:(e=e)!=null?e:i.jsx(c("IGDSAppMessengerOutline96Icon.react"),{alt:"",color:"ig-primary-text",size:96})}),i.jsx(c("CometColumnItem.react"),{paddingTop:20,children:i.jsx(c("IGDSText.react"),{size:"title",textAlign:"center",children:a})}),i.jsx(c("CometColumnItem.react"),{paddingTop:16,children:i.jsx("div",{className:"x17fpy1y",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",weight:"normal",children:d})})}),b!=null&&i.jsx(c("CometColumnItem.react"),{paddingTop:20,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDDefaultNullState.react",["fbt","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDEntryPoints","IGDSButton.react","IGDSDialogPlaceholder.react","IGDThreadListNewMessageDialogEntrypointProvider.react","JSResourceForInteraction","react","useIGDSLazyDialog","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function l(){var a=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDDefaultNullState.react"),b=c("useOpenOrCreateThreadFromIGDCandidate")(),e=h._("__JHASH__k5xqarxwV_N__JHASH__"),f=h._("__JHASH__vR4AzoRQQ7a__JHASH__");a=c("useIGDSLazyDialog")(a,function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})});var g=a[0];a=k(function(){var a=c("uuidv4")();g({flowInstanceId:a,onSubmit:b})},[g,b]);var i=d("IGDEntryPoints").IGDEntryPoints.PRIMARY_FOLDER_NULL_STATE;return j.jsx(c("IGDBaseNullState.react"),{descriptionText:f,titleText:e,children:j.jsx(d("IGDThreadListNewMessageDialogEntrypointProvider.react").IGDThreadListNewMessageDialogEntrypointProvider,{entrypoint:i,children:j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__KWQ3qsJPYJB__JHASH__"),onClick:a})})})}l.displayName=l.name+" [from "+f.id+"]";function a(){return j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(l,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDHiddenMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSEyeOffOutlineIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=h._("__JHASH__gRXjMzOh6Kl__JHASH__"),b=h._("__JHASH__7D5_k8OTQ2Q__JHASH__");return j.jsx(c("IGDBaseNullState.react"),{descriptionText:b,icon:j.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x1qim8zg x13oubkp x1g8yoln",children:j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSUserRequestedPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:i.jsx("path",{d:"M15.507 12.752a4.5 4.5 0 1 0-4.501-4.5 4.505 4.505 0 0 0 4.5 4.5Zm0-7a2.5 2.5 0 1 1-2.501 2.5 2.502 2.502 0 0 1 2.5-2.5Zm2.444 8.252h-4.907a5.054 5.054 0 0 0-5.049 5.049v.447a1 1 0 0 0 2 0v-.447a3.053 3.053 0 0 1 3.049-3.05h4.907a3.053 3.053 0 0 1 3.05 3.05v.447a1 1 0 0 0 2 0v-.447a5.055 5.055 0 0 0-5.05-5.05Zm-8.286-2.392a.88.88 0 0 0 0-1.224c-.009-.008-.012-.02-.02-.03L6.685 7.4a.907.907 0 0 0-1.283 1.284l1.41 1.409h-4.81a.907.907 0 1 0 0 1.814h4.81l-1.41 1.41a.907.907 0 0 0 1.284 1.284l2.959-2.96c.008-.008.011-.02.02-.03Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("IGDMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSUserRequestedPanoOutline24Icon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=h._("__JHASH__mx2FhBkiHjp__JHASH__"),b=h._("__JHASH__EBrmQwHoVRM__JHASH__");return j.jsx(c("IGDBaseNullState.react"),{descriptionText:b,icon:j.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x5ib6vp x1qim8zg x13oubkp",children:j.jsx(c("IGDSUserRequestedPanoOutline24Icon.react"),{alt:"",color:"ig-primary-text",size:48})}),titleText:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDPartnershipInboxNullState.react",["fbt","IGDBaseNullState.react","IGDSButton.react","IGDSCreatorMarketplacePanoOutline24Icon.react","IGDSDialogPlaceholder.react","JSResourceForInteraction","MessengerWebUXLogger","react","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback;function a(){var a=h._("__JHASH__A-H6dQEMzm5__JHASH__"),b=h._("__JHASH__idoO4sd8_5-__JHASH__"),d=c("JSResourceForInteraction")("IGDThreadListNewPartnershipMessageDialog.react").__setRef("IGDPartnershipInboxNullState.react"),e=c("MessengerWebUXLogger").useInteractionLogger(),f=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"partnership_inbox_null_state_impression"});d=c("useIGDSLazyDialog")(d,function(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})});var g=d[0];d=k(function(){e==null?void 0:e({eventName:"partnership_inbox_null_state_new_message_click"}),g({})},[e,g]);return j.jsx(c("IGDBaseNullState.react"),{descriptionText:b,icon:j.jsx("div",{className:"xskfcea xssw1gd x1rx6pd xbgn65m x11rfzx0 x1l9up10 xutqcms x89lhf x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi xamhcws xol2nv xlxy82 x19p7ews x9f619 xjp8j0k x5ib6vp x1qim8zg x13oubkp",children:j.jsx(c("IGDSCreatorMarketplacePanoOutline24Icon.react"),{alt:"Creator marketplace icon for the partnership inbox",color:"ig-primary-text",size:48})}),titleText:a,children:j.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__KWQ3qsJPYJB__JHASH__"),onClick:d,ref:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIsChannelsTabSelected.react",["I64","IGDProfessionalIGFolderContext.react","IgTags_InboxFolder","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),b=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder();return a&&(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("IgTags_InboxFolder").SUBSCRIBER))}g["default"]=a}),98);
__d("IGDNullState.react",["IGDDefaultNullState.react","IGDHiddenMessageRequestsNullState.react","IGDMessageRequestsNullState.react","IGDPartnershipInboxNullState.react","IGDRouteProvider.react","cr:1653","react","useIsChannelsTabSelected.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("IGDRouteProvider.react").useIsCurrentRouteMessageRequests(),e=d("IGDRouteProvider.react").useIsCurrentRouteMessageHiddenRequests(),f=d("IGDRouteProvider.react").useIsCurrentRoutePartnershipInbox(),g=c("useIsChannelsTabSelected.react")();if(a)return i.jsx(c("IGDMessageRequestsNullState.react"),{});else if(e)return i.jsx(c("IGDHiddenMessageRequestsNullState.react"),{});else if(f)return i.jsx(c("IGDPartnershipInboxNullState.react"),{});else if(g&&b("cr:1653")!=null)return i.jsx(b("cr:1653"),{});else return i.jsx(c("IGDDefaultNullState.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadCapabilitiesContextProvider.react",["LSThreadBitOffset","MWPThreadCapabilitiesContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useRef;function a(a){var b=a.children,c=a.thread;a=function(a){return d("LSThreadBitOffset").has(a,c)};var e=k(a);e.current=a;a=j(function(a){return e.current(a)},[]);return i.jsx(d("MWPThreadCapabilitiesContext").Provider,{customCapabilityCheck:a,thread:c,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._("__JHASH__vs4VWaH-KyB__JHASH__"));else if(b==="Connecting")return a(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":59");return m.jsx(n,{connectionStatus:(e=e)!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDConnectionStatusCard.react",["CometPlaceholder.react","IGDSText.react","MWPChatConnectionStatusCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid",children:i.jsx(c("IGDSText.react"),{color:"secondaryText",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDInboxInfoPlaceholder.react",["IGDListCellPlaceholder.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={action:{width:"xifkd7f",$$css:!0},option:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xmix8c7",marginBottom:"xvl6max",marginStart:"xmupa6y",marginLeft:null,marginRight:null,marginEnd:"xqmxbcd",marginTop:"xqui205",$$css:!0}};function a(){var a;return i.jsxs("div",{className:"x1r8uery x1iyjqo2 xs83m0k x11408do",children:[i.jsx(a=c("IGDSGlimmer.react"),{index:1,xstyle:j.option}),i.jsx(a,{index:1,xstyle:j.option}),i.jsx("div",{className:"x14ler8 x1pdq3kb",children:i.jsx(c("IGDListCellPlaceholder.react"),{})}),i.jsx(a,{index:1,xstyle:[j.action,j.option]}),i.jsx(a,{index:1,xstyle:[j.action,j.option]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IgdAnTrayConversionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3126");b=d("FalcoLoggerInternal").create("igd_an_tray_conversion",a);e=b;g["default"]=e}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.openMessageThreadKey;d[1]=b.armadilloThreadKey;d[2]=b.shouldCopyMessages;d[3]=b.traceId;return c("LSInitiateThreadMigration").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","gkx","react","stylex","useMWInboxPassiveContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useRef,m={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function n(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=a.children,e=a.disableAutoFocus,f=a.onBlur,g=a.onEscape,i=a.onFocus;a=a.xstyle;var o=l(null),p=c("useMWInboxPassiveContext")(),q=p.setIsPassive;p=d("MWChatFocusComposerContext").useMWChatFocusComposer();var r=p.focusComposer;e===!0&&(r=void 0);p=k(function(){if(o.current!=null&&r!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||n()))return r()},[o,r]);return j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:function(){return f==null?void 0:f()},onFocusWithin:function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(i==null?void 0:i());o.current!=null&&r!=null&&o.current===a.target&&r();if(c("gkx")("24041"))return q(!1)},children:j.jsx(c("CometHideLayerOnEscape.react"),{onHide:function(){return g==null?void 0:g()},children:j.jsx("div",{className:(h||(h=c("stylex")))(m.root,a),onClick:p,ref:o,role:"none",tabIndex:-1,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWPActor.react","MWPForwardedContent","MWPMessageHasAttachment","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","ServerTime","clearTimeout","cr:2472","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useCallback,p=e.useEffect,q=e.useRef,r=e.useState;function s(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",b)])}function t(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=(l||(l=d("I64"))).equal(a.id,f);var g=b.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(b.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return n.jsx(s,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",a)]);else if(f)return h._("__JHASH__1b0bN0cduWX__JHASH__");else return h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",e)])}function u(a){return(l||(l=d("I64"))).equal(a.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function v(a){a=a.message;a=a;var b=(j||(j=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e)},[b,e,g],f.id+":128");if(a.length===0)return null;if(a.length>1)return a.every(u)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):null;a=a[0];var i=a.accessibilitySummaryText,k=a.attachmentType,o=a.filename;a=a.titleText;if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__CsGZwNmXaIO__JHASH__"),a!=null?h._("__JHASH__tk2ipgOtBcG__JHASH__",[h._param("title of image",a)]):null]});else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__456qLg2FzOf__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__0TMOPValyqo__JHASH__"),i!=null&&i!==""?h._("__JHASH__z9hWNeIESIs__JHASH__",[h._param("title of sticker",i)]):null]});else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if((l||(l=d("I64"))).equal(k,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return n.jsxs(n.Fragment,{children:[h._("__JHASH__3lrC4KV5Ban__JHASH__"),o!=null?h._("__JHASH__120leC-bvKi__JHASH__",[h._param("name of file",o)]):null]});else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}v.displayName=v.name+" [from "+f.id+"]";function w(a){var e=a.message,f=a.participant,g=a.sender;a=a.threadType;var h=r(!1),i=h[0],j=h[1];p(function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},[]);if(!i)return null;h=d("LSMessagingThreadTypeUtil").isSecure(a);i=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text;return n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[n.jsx(t,{message:e,participant:f,sender:g}),i!=null?i:null,c("MWPMessageHasAttachment")(e)&&!h?n.jsx(v,{message:e}):null]})}w.displayName=w.name+" [from "+f.id+"]";function x(a,e){var f=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=q(d("ServerTime").getMillis()),k=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.table("messages")).getKeyRange(k).subscribe(function(e,g){if(g.operation!=="add")return;var j=g.value;(l||(l=d("I64"))).to_float(j.timestampMs)>h.current&&(h.current=(l||(l=d("I64"))).to_float(j.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("contacts")).getKeyRange(j.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(j.threadKey,j.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(j,c,b)}))})},[f,g,a,k])}function a(a){a=a.thread;var b=a.threadType,e=r(null),f=e[0],g=e[1];e=o(function(a,e,f){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return n.jsx(w,{message:a,participant:f,sender:e,threadType:b})})},[b]);x(e,a);return f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisDirectPageMetadata.react",["PolarisPageMetadata.react","react","usePolarisDirectFeatures"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.id;a=a.title;var d=c("usePolarisDirectFeatures")();d=d.directTitle;return i.jsx(c("PolarisPageMetadata.react"),{base:d,id:b,title:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDBroadcastChannelOpenThreadLogger",["I64","IGDInboxClickedThreadContextProvider","Int64Hooks","MWCMThreadTypes.react","promiseDone","react","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){var b=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),e=c("useIGDBroadcastChannelLogger")(a.threadKey),f=j(!1);d("Int64Hooks").useEffectInt64(function(){var g=b.getProviderData();g=g.clickedThreadId;!f.current&&g!=null&&(i||(i=d("I64"))).equal(g,a.threadKey)&&a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)&&(c("promiseDone")(e({action:"tap",event:"thread_open",extra:{is_admin:"True",new_bc_user:"False",previously_joined:"True"},parent_surface:"broadcast",source:"broadcast_thread_item",surface:"inbox_channels"})),f.current=!0)},[b,e,a.threadKey,a.threadSubtype])}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=a.threadKey,e=a.threadName,g=a.threadType,j=d("MWPActor.react").useActor(),k=(i||(i=c("useReStore")))(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.table("participants"),["contactId","nickname"]).getKeyRange(b),d("ReQL").fromTableAscending(k.table("contacts"),["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[k,b],f.id+":37");return d("Int64Hooks").useMemoInt64(function(){var a=e;if(a!=null)return h._("__JHASH__Hkglfueb2S7__JHASH__",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,g,l,j))!=null?a:"";return h._("__JHASH__Bc4odEiE4Gu__JHASH__",[h._param("participant list",a)])},[e,g,l,j])}g["default"]=a}),226);
__d("IGDThreadDetail.react",["CometColumn.react","CometPlaceholder.react","I64","IGDBlockedBroadcastThreadDetail.react","IGDComposerCommon.react","IGDConnectionStatusCard.react","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxHeader.react","IGDInboxInfoContextProvider","IGDInboxInfoPlaceholder.react","IGDInstamadilloUtils","IGDMessageRequestComposerBannerLoading.react","IGDOpenMessageListContainer.react","IgdAnTrayConversionFalcoEvent","Int64Hooks","InteractionTracing","JSResourceForInteraction","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.react","MWChatFocusComposerContext","MWChatTabFocusHandler","MWLSDatabaseLazySync","MWPNewMessageAnnouncementForScreenReaders.react","MWPReplyContext.react","MWV2FileDropzone.react","PolarisDirectPageMetadata.react","PolarisDirectStrings","RavenAttachmentsSeen","WebUXLoggingSurfaceContextProvider","cr:1365","cr:7082","cr:7273","deferredLoadComponent","gkx","lazyLoadComponent","promiseDone","react","requireDeferredForDisplay","useIGDAutoFitViewport","useIGDBroadcastChannelOpenThreadLogger","useIGDDeviceType","useIGDIsViewerAdmin","useMWAriaLabelForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDThreadDetail.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInboxInfo.react").__setRef("IGDThreadDetail.react")),t={dropzone:{zIndex:"x1ja2u2z",$$css:!0},focusHandler:{display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},fullHeight:{maxHeight:"xmz0i5r",minHeight:"x1us19tq",$$css:!0},info:{borderStartColor:"xhk4uv",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",flexBasis:"x1yu6fn4",flexShrink:"xs83m0k",maxHeight:"x1bwycvy",maxWidth:"x1dt7z5j",minWidth:"x2ixbly",$$css:!0},infoMobile:{borderStartWidth:"xm0m39n",bottom:"x1ey2m1c",flexBasis:"x1t1x2f9",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",maxHeight:"xmz0i5r",maxWidth:"x193iq5w",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},main:{display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},mainHidden:{visibility:"xlshs6z",$$css:!0},root:{backgroundColor:"xcrg951",fontSize:"x6prxxf",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function u(a,b){b=d("MAWThreadCutover").useGetCutoverMapping(b);var e=b==null?void 0:b.openThreadId,f=b==null?void 0:b.armadilloThreadId,g=m(function(b,d){return a.runInTransaction(function(a){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(a),{armadilloThreadKey:d,openMessageThreadKey:b,shouldCopyMessages:!1})},"readwrite")},[a]);d("Int64Hooks").useEffectInt64(function(){if(e!=null&&f!=null){c("promiseDone")(g(e,f));return}},[a,e,f,b,g])}function v(a){a=a.thread;a=a;var e=d("useIGDDeviceType").useIGDDeviceType(),f=n(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContext),g=f.getProviderData;f=n(d("MWPReplyContext.react").MWPReplyContext);f=f.reply;var j=q(!1),k=j[0],v=j[1];j=a.threadKey;x(a);c("useIGDBroadcastChannelOpenThreadLogger")(a);b("cr:7082")==null?void 0:b("cr:7082")(a);d("RavenAttachmentsSeen").useClearRavenAttachmentsSeenOnUnmount();var w=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),y=c("useMWAriaLabelForThread")(a),z=(h||(h=c("useReStore")))(),A=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),B=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),C=p(null),D=m(function(){var a;(a=C.current)==null?void 0:a.jumpToMostRecentMessage();a=g();var b=a.loggingData;a=a.sentFromActiveNowTray;if(b==null||a!==!0)return;c("IgdAnTrayConversionFalcoEvent").log(function(){return b})},[g]),E=e.isMobile,F=!(E&&k),G=l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("IGDMessageRequestComposerBannerLoading.react"),{}),children:l.jsx(r,{thread:a})});D=l.jsx(d("IGDComposerCommon.react").IGDComposerCommon,{afterSendMessage:D,thread:a});u(z,j);var H=d("LSThreadBitOffset").has(139,a);o(function(){H&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(z,(i||(i=d("LSIntEnum"))).ofNumber(118)))},[z,H]);j=m(function(a){E?window.setTimeout(function(){v(a)},0):v(a)},[v,E]);var I=p(null),J=m(function(){return c("gkx")("24012")},[]);d("useIGDAutoFitViewport").useIGDAutoFitViewport(I,J,!F);return l.jsxs(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:[b("cr:7273")&&l.jsx(b("cr:7273"),{thread:a}),l.jsx(c("PolarisDirectPageMetadata.react"),{id:"DirectThreadPage",title:d("PolarisDirectStrings").INSTAGRAM_APP_NAME}),l.jsx(c("CometColumn.react"),{"aria-label":y,expanding:!0,ref:I,role:"main",xstyle:t.root,children:l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view",children:l.jsxs(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingTop:0,spacing:0,xstyle:E?t.fullHeight:void 0,children:[l.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:[t.main,!F&&t.mainHidden],children:[l.jsx("div",{className:"x1vjfegm",children:l.jsx(c("IGDInboxHeader.react"),{info:k,setInfo:j,thread:a})}),l.jsx(c("IGDConnectionStatusCard.react"),{}),l.jsx(c("MWChatTabFocusHandler"),{disableAutoFocus:E,xstyle:t.focusHandler,children:l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:f!=null,isMediaOnly:!d("LSThreadBitOffset").has(56,a),thread:a,xstyle:t.dropzone,children:[l.jsx("div",{className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",role:"none",children:l.jsx(c("IGDOpenMessageListContainer.react"),{ref:C,thread:a})}),w&&b("cr:1365")!=null?l.jsx(b("cr:1365"),{thread:a}):null,A?B?G:D:B?G:D]})})]}),k?l.jsx(c("MDSRowItem.react"),{xstyle:[t.info,e.isMobile?t.infoMobile:!1],children:l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("IGDInboxInfoPlaceholder.react"),{}),children:l.jsx(s,{setShowInfo:v,threadKey:a.threadKey,threadSubtype:a.threadSubtype})})}):null]})})}),l.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:a})]})}v.displayName=v.name+" [from "+f.id+"]";var w=new Set();function x(a){var b=(j||(j=d("I64"))).to_string(a.threadKey),e=a.threadSubtype,f=d("IGDInstamadilloUtils").isInstamadilloCutover(a),g=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),h=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);d("Int64Hooks").useEffectInt64(function(){var a=w.has(b);c("InteractionTracing").getPendingInteractions().forEach(function(b){b.addAnnotationInt("is_thread_visited",a?1:0),e!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e)&&b.addAnnotation("thread_subtype",(j||(j=d("I64"))).to_string(e)),b.addAnnotationBoolean("is_instamadillo_tlc",f),b.addAnnotationBoolean("is_instamadillo",g),b.addAnnotationBoolean("is_dm",h)});return function(){w.add(b)}},[h,g,f,a,b,e])}function a(a){a=a.thread;var b=c("useIGDIsViewerAdmin")(a.threadKey),e=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);return e&&!b?l.jsx(c("IGDBlockedBroadcastThreadDetail.react"),{thread:a}):l.jsx(d("IGDInboxInfoContextProvider").IGDInboxInfoContextProvider,{initialRoute:d("IGDInboxInfoContextProvider").IGDInboxInfoRoute.INBOX_INFO,children:l.jsx(v,{thread:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAppColorMode",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:1,DARK:2,NONE:3});f["default"]=a}),66);
__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","LSIntEnum","MWLSThread","MWLSThreadDisplayContext","MWPColorUtils","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","MessengerAppColorMode","gkx","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo,m={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",$$css:!0}};function n(a){var b;b=(b=d("MWLSThread").useThread(d("MWThreadKey.react").useMWThreadKeyMemoized(),function(a){return(i||(i=d("I64"))).lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}))!=null?b:!1;return b&&!a}function o(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",b=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),e=n(b),f=c("useMWPThreadTheme")();return l(function(){var g,h=c("gkx")("24125"),k=c("gkx")("24057"),l=f.backgroundGradientColors,m=f.incomingGradientColors,n=f.outgoingGradientColors,o=f.threadTheme,p=o.appColorMode,q=o.backgroundUrl,r=o.composerBackgroundColor,s=o.composerInputBackgroundColor,t=o.composerInputBorderColor,u=o.composerInputBorderWidth,v=o.composerInputTextPlaceholderColor,w=o.composerPlaceholderTextColor,x=o.composerTintColor,y=o.deliveryReceiptColor,z=o.fallbackColor,A=o.incomingMessageBorderColor,B=o.incomingMessageBorderWidth,C=o.incomingMessageTextColor,D=o.messageBorderColor,E=o.messageBorderWidth,F=o.messageTextColor,G=o.primaryButtonBackgroundColor,H=o.quotedIncomingMessageBubbleColor,I=o.reactionPillBackgroundColor,J=o.secondaryTextColor,K=o.tertiaryTextColor,L=o.titlebarAttributionTextColor,M=o.titlebarBackgroundColor,N=o.titlebarButtonTintColor;o=o.titlebarTextColor;p=(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerAppColorMode").DARK));q=Boolean(q==null?void 0:q.length);var O=n.length>1,P=l.length>0;q=h&&(q||P);P=q&&"4px"||"0px";k=k?"96px":"84px";N=h&&N||d("MWPThreadThemeGradientUtils").getTopGradientColorI64(f);x=h&&x||d("MWPThreadThemeGradientUtils").getBottomGradientColorI64(f);l=l==null?void 0:(l=l[(l==null?void 0:l.length)-1])==null?void 0:l.color;m=m==null?void 0:(m=m[0])==null?void 0:m.color;g=(g=n==null?void 0:(g=n[n.length-1])==null?void 0:g.color)!=null?g:z;n=n&&n.length>1&&d("MWPColorUtils").gradient(n,a?{footerHeight:56,headerHeight:48,totalHeight:455}:void 0);K={"chat-admin-text-color":h&&(J||K),"chat-composer-background-color":h&&r,"chat-composer-button-color":x,"chat-composer-caret-color":h&&x,"chat-composer-input-background-color":h&&s||"var(--comment-background)","chat-composer-input-border-color":h&&t,"chat-composer-input-border-width":h&&u,"chat-composer-input-text-placeholder-color":h&&v,"chat-composer-placeholder-text-color":h&&w,"chat-delivery-receipt-color":h&&y,"chat-edit-message-overlay-color":(J=l)!=null?J:"var(--surface-background)","chat-incoming-message-border-color":h&&A,"chat-incoming-message-border-width":h&&B,"chat-incoming-message-bubble-background-color":h&&m,"chat-incoming-message-text-color":h&&C,"chat-message-border-color":h&&D,"chat-message-border-width":h&&E,"chat-message-text-color":h&&F,"chat-outgoing-message-background-gradient":!q&&n?n:"initial","chat-outgoing-message-bubble-background-color":O&&!q?"transparent":g,"chat-primary-button-background-color":h&&G,"chat-quoted-incoming-message-bubble-color":h&&H,"chat-replied-message-background-color":h&&l&&m&&d("MWPColorUtils").combineColors(l,m,.4),"chat-scrollbar-thumb-color":q&&d("MWPColorUtils").int64ToRGBA(d("MWPColorUtils").combineColorsAsI64(d("MWPColorUtils").combineColorsAsI64(g,l,.6),p?(i||(i=d("I64"))).of_int32(16777215):(i||(i=d("I64"))).of_int32(0),.6),.7),"chat-scrollbar-track-color":q&&"transparent","mwp-header-background-color":h&&M,"mwp-header-button-color":N,"mwp-header-text-color":h&&o,"mwp-message-list-actions-gap":P,"mwp-message-list-actions-width":"calc("+k+" + 3*"+P+")","mwp-message-row-background":q?"transparent":"var(--messenger-card-background)","mwp-primary-theme-color":z,"mwp-subheader-text-color":h&&L,"reaction-pill-background-color":h&&I,"reaction-pill-multireact-selected-color":d("MWPColorUtils").combineColorsAsI64(z,i.of_int32(16777215),.22)};b||(h?(K["chat-composer-button-color"]=d("MWPColorUtils").int64ToRGBA(x,.6),K["mwp-header-button-color"]=d("MWPColorUtils").int64ToRGBA(N,.6)):(K["chat-composer-button-color"]="var(--disabled-icon)",K["mwp-header-button-color"]="var(--disabled-icon)"));e&&(K["mwp-header-button-color"]="var(--always-white)",K["mwp-header-text-color"]="var(--always-white)",K["mwp-header-background-color"]=N);(K["mwp-subheader-text-color"]==null||typeof K["mwp-subheader-text-color"]==="boolean")&&(K["mwp-subheader-text-color"]=K["mwp-header-text-color"]);r={};for(s in K){t=K[s];if(t==null||typeof t==="boolean")continue;else typeof t==="string"?r[s]=t:r[s]=d("MWPColorUtils").int64ToHex(t)}return r},[a,e,b,f])}function a(a){var b=o();return k.jsx(c("BaseTheme.react"),babelHelpers["extends"]({},a,{config:{dark:b,light:b,type:"VARIABLES"},xstyle:[m.expand,a.xstyle]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPThemeCSSProvider=a}),98);
__d("MessengerThreadThemeGradientType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE_BUBBLE_OUTBOUND:0,MESSAGE_BUBBLE_INBOUND:1,THREADVIEW_BACKGROUND:2,DELIVERY_RECEIPT:3,COMPOSER_CIRCLE_BUTTON:4,COMPOSER_SEND_BUTTON:5,EMPHASIS:6});f["default"]=a}),66);
__d("MWPThreadThemeProvider.react",["I64","Int64Hooks","LSIntEnum","MWPThemeCSSProvider.react","MWPThreadThemeContext","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","cr:6797","defaultMWPThreadTheme","react","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useMemo,n=e.useState;function o(a,e){var g=(h||(h=c("useReStore")))(),k=c("useCurrentDisplayMode")(),l=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("thread_themes")).getKeyRange(a)},[g,a],f.id+":36"),n=b("cr:6797")==null?void 0:b("cr:6797")(g,a),o=k==="dark"&&n!=null?n:l,p=d("ReQLSuspense").useArray(function(){return(o==null?void 0:o.fbid)==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.table("gradient_colors")).getKeyRange(o==null?void 0:o.fbid)},[g,o==null?void 0:o.fbid],f.id+":50");return m(function(){return o!=null?{backgroundGradientColors:p.filter(function(a){return(i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").THREADVIEW_BACKGROUND))}),incomingGradientColors:p.filter(function(a){return(i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}),outgoingGradientColors:p.filter(function(a){return(i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}),threadTheme:o}:e},[o,p,e])}function a(a){var b=a.children,c=a.defaultTheme;c=c===void 0?d("defaultMWPThreadTheme").defaultThemeWithColors:c;var e=a.themeFbid;a=n();var f=a[0],g=a[1];a=d("Int64Hooks").useMemoInt64(function(){var a;return(a=f)!=null?a:e},[e,f]);var h=o(a,c);a=d("Int64Hooks").useMemoInt64(function(){return{backgroundGradientColors:h.backgroundGradientColors,incomingGradientColors:h.incomingGradientColors,outgoingGradientColors:h.outgoingGradientColors,previewId:f,setPreviewId:g,threadTheme:h.threadTheme}},[h,f]);return l.jsx(d("MWPThreadThemeContext").MWPThreadThemeContext.Provider,{value:a,children:l.jsx(d("MWPThemeCSSProvider.react").MWPThemeCSSProvider,{children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThread.react",["CometErrorBoundary.react","CometPlaceholder.react","CometTransientDialogProvider.react","IGDDMModeContextProvider","IGDThreadCapabilitiesContextProvider.react","IGDThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPReplyContext.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWV2IsTabFocusedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.thread;return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a.themeFbid,children:i.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,children:i.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:i.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:!0,children:i.jsx(c("IGDThreadCapabilitiesContextProvider.react"),{thread:a,children:i.jsx(d("IGDDMModeContextProvider").IGDDMModeContextProvider,{threadKey:a.threadKey,children:i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(c("IGDThreadDetail.react"),{thread:a})})})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDOpenThreadContainer.react",["I64","IGDNullState.react","IGDThread.react","IGDThreadTTLCContext.react","InteractionTracing","LSFactory","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;e=b.memo;var l=b.useCallback,m=b.useEffect;function a(a){a=a.threadKey;var b=d("useStableValue").useStableI64(a),e=(h||(h=c("useReStore")))(),g=l(function(a){return e.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(i||(i=d("I64"))).of_int32(1),threadKey:a})},"readwrite")},[e]);m(function(){c("promiseDone")(g(b))},[b,g]);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadSubtype","threadType","threadName","parentThreadKey","folderName","inviterId","snippetSenderContactId","memberCount","pauseThreadTimestamp","authorityLevel","threadStatus","eventStartTimestampMs","cannotReplyReason","themeFbid","isHidden","cannotUnsendReason","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(b)},[e,b],f.id+":52");if(a!=null)return k.jsx(d("IGDThreadTTLCContext.react").IGDThreadTTLCContextProvider,{thread:a,children:k.jsx(c("IGDThread.react"),{thread:a})});else{c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addAnnotationInt("rendered_direct_null_state",1)});return k.jsx(c("IGDNullState.react"),{})}}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.fill,d=a.isRotated;d=d===void 0?!1:d;a=a.size;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,k.moreActionsIcon,k.fillGrey,d?k.rotated:k.notRotated),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return j.jsx("svg",{className:(h||(h=c("stylex")))(k.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}m.displayName=m.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=l;g.Emoji=m}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d,e=a.commandId,f=a.commandPrefix,g=a.handle;a=a.rangeType;d=b.call(this,""+((d=f)!=null?d:"")+g,c)||this;d.__handle=g;d.__commandId=e;d.__rangeType=a;d.__commandPrefix=f;return d}a.getType=function(){return"command"};a.clone=function(b){var c,d=b.getEntity();return new a({commandId:d.commandId,commandPrefix:(c=b.__commandPrefix)!=null?c:"",handle:d.handle,rangeType:d.rangeType},b.__key)};a.importJSON=function(a){return i({commandId:a.commandId,handle:a.handle,rangeType:a.rangeType})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}};c.getRangeType=function(){return this.__rangeType};c.getCommandId=function(){return this.__commandId};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i}),98);
__d("BotFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M104.255 922c-.41 0-.755.458-.755 1s.346 1 .755 1c.409 0 .755-.458.755-1s-.346-1-.755-1m-3.505.36v-.234a.126.126 0 0 0-.126-.126H100v.486h.624c.07 0 .126-.057.126-.126m.033 1.14H100v.5h.843a.155.155 0 0 0 .157-.153v-.136c0-.115-.1-.211-.217-.211",transform:"translate(352 156.5)"}),i.jsx("path",{d:"M108.5 922h-.5v2.5a.5.5 0 1 1-1 0V922h-.5a.5.5 0 1 1 0-1h2a.5.5 0 1 1 0 1zm-4.245 3c-.968 0-1.755-.897-1.755-2s.787-2 1.755-2c.968 0 1.755.897 1.755 2s-.788 2-1.755 2zM102 923.843c0 .638-.519 1.157-1.156 1.157H99.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5h1.124c.621 0 1.126.505 1.126 1.126v.234c0 .172-.042.333-.111.479.223.22.361.526.361.863v.141zm7.94-2.486v-.002c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.214-.917-.277-1.792-.346a28.09 28.09 0 0 0-4.254 0c-.768.061-1.278.116-1.882.382a3.465 3.465 0 0 0-1.541 1.538l-.013.033c-.236.498-.309.985-.377 1.825a25.389 25.389 0 0 0 0 3.287c.069.837.147 1.334.417 1.916.326.629.883 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.025.007c.475.214.918.277 1.792.346a28.103 28.103 0 0 0 4.254 0c.767-.061 1.277-.116 1.882-.382a3.469 3.469 0 0 0 1.541-1.538l.013-.034c.235-.497.309-.983.377-1.824.07-.936.07-2.349 0-3.285z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CrossFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"m98.095 917.155 7.75 7.75a.75.75 0 0 0 1.06-1.06l-7.75-7.75a.75.75 0 0 0-1.06 1.06z",transform:"translate(353.5 159)"}),i.jsx("path",{d:"m105.845 916.095-7.75 7.75a.75.75 0 1 0 1.06 1.06l7.75-7.75a.75.75 0 0 0-1.06-1.06z",transform:"translate(353.5 159)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useCheckMessageIntegrityForSecureThreadNoOp",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b,c,d){return i(function(a,b){},[])}g["default"]=a}),98);