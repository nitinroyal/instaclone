;/*FB_PKG_DELIM*/

__d("PolarisProfileStoryHighlightsTrayItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfileStoryHighlightsTrayItem_reel",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW",path:"id"},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"XDTReelCoverMediaClientDict",kind:"LinkedField",name:"cover_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTReelCoverMediaImageVersionClientDict",kind:"LinkedField",name:"cropped_image_version",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfileStoryHighlightSectionText.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={titleContainer:{cursor:"x1ypdohk",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.highlightLabel,d=a.isSmallScreen,e=a.itemTitleXStyle;a=a.storyHighlightsInMetaTags;return j.jsx("div",{className:(h||(h=c("stylex")))(e,k.titleContainer),children:d?a==="h2_tag"?j.jsx(c("IGDSText.react").Body2,{elementType:"h2",maxLines:1,zeroMargin:!0,children:b}):j.jsx(c("IGDSText.react").Body2,{maxLines:1,zeroMargin:!0,children:b}):a==="h2_tag"?j.jsx(c("IGDSText.react").Body2Emphasized,{elementType:"h2",maxLines:1,zeroMargin:!0,children:b}):j.jsx(c("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileNewHighlightTrayItem.react",["CometPressable.react","IGDSAddOutline24Icon.react","PolarisNewHighlightsStrings","PolarisProfileStoryHighlightSectionText.react","PolarisStoryRing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=a.avatarSize,e=a.isSmallScreen,f=a.itemTitleXStyle,g=a.itemXStyle;a=a.onClick;var i={height:b,width:b};return j.jsx("div",{className:(h||(h=c("stylex")))(g),children:j.jsxs(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:k.pressable,children:[j.jsxs("div",{className:"xamitd3 x1ypdohk x1lliihq x1n2onr6 x87ps6o",children:[j.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:b}),j.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x6s0dn4 x78zum5 xl56j7k",style:i,children:j.jsx(c("IGDSAddOutline24Icon.react"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:e?30:44})})]}),j.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,isSmallScreen:e,itemTitleXStyle:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayItem.next.react",["fbt","CometImage.react","CometPressable.react","CometRelay","PolarisAvatarWithStories.react","PolarisConfig","PolarisProfileStoryHighlightSectionText.react","PolarisProfileStoryHighlightsTrayItem_reel.graphql","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var e,f=a.avatarSize,g=a.isLoading,k=a.isSmallScreen,n=a.itemTitleXStyle,o=a.itemXStyle,p=a.onClick,q=a.reel$key;a=a.storyHighlightsInMetaTags;var r=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfileStoryHighlightsTrayItem_reel.graphql"),q);q=function(a){a.stopPropagation(),p(r.id)};var s={height:f,width:f};e=(e=r.cover_media)==null?void 0:(e=e.cropped_image_version)==null?void 0:e.url;return l.jsx("div",{className:(j||(j=c("stylex")))(o),children:l.jsxs(c("CometPressable.react"),{onPress:q,overlayDisabled:!0,xstyle:m.pressable,children:[l.jsx(c("PolarisAvatarWithStories.react"),{canTabFocus:!0,hasPrideMedia:!1,isLoading:g,isReelSeen:!0,onClick:q,reelId:r.id,showRing:!0,size:f,viewerLoggedIn:d("PolarisConfig").isLoggedIn(),children:l.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x1lliihq x6ikm8r x10wlt62 x1n2onr6",style:s,children:e!=null&&l.jsx(c("CometImage.react"),{alt:h._("__JHASH__ZntYiRyKPAQ__JHASH__",[h._param("username",(o=r.user)==null?void 0:o.username)]),height:f,src:e,testid:void 0,width:f})})}),l.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:r.title,isSmallScreen:k,itemTitleXStyle:n,storyHighlightsInMetaTags:a})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisProfileStoryHighlightsTrayContent.react",["CometRelay","IGDSBox.react","JSResourceForInteraction","PolarisConfig","PolarisLogger","PolarisProfileNewHighlightTrayItem.react","PolarisProfileStoryHighlightsTrayContentFragment","PolarisProfileStoryHighlightsTrayContentQuery","PolarisProfileStoryHighlightsTrayItem.next.react","PolarisReactRedux.react","PolarisStoryActions","PolarisUA","PolarisVirtualHSnapScroll.react","cr:8393","immutable-4.0.0-rc.9","react","stylex","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=e.useState,n=c("JSResourceForInteraction")("PolarisCreateAndAddHighlightsModal.react").__setRef("PolarisProfileStoryHighlightsTrayContent.react");function a(a){var e=a.initialVisibleItems,f=a.isSmallScreen,g=a.itemTitleXStyle,i=a.itemXStyle,o=a.queryReference,p=a.sizes,q=a.storyHighlightsInMetaTags,r=a.userID;a=a.xstyle;o=d("CometRelay").usePreloadedQuery(c("PolarisProfileStoryHighlightsTrayContentQuery"),o);o=d("CometRelay").usePaginationFragment(c("PolarisProfileStoryHighlightsTrayContentFragment"),o);var s=o.data,t=o.refetch,u=d("PolarisReactRedux.react").useDispatch(),v=l(function(){return s.highlights.edges.map(function(a){return a.node})},[s.highlights]);o=l(function(){return v.map(function(a){return a.id}).filter(Boolean)},[v]);var w=b("cr:8393")(o);o=m(null);var x=o[0],y=o[1],z=k(function(a){y(a);if(w!=null){w(a,function(){y(null)});return}else u(d("PolarisStoryActions").openReelsMedia(d("immutable-4.0.0-rc.9").Seq.Indexed(v.map(function(a){return{id:a.id}})),"reel_highlight_profile",a,"",void 0,!0))},[u,w,v]);o=c("useIGDSLazyDialog")(n);var A=o[0],B=k(function(){d("PolarisLogger").logAction("addHighlightIconClick"),A({onCreateSuccess:function(){t({user_id:r},{fetchPolicy:"network-only"})},userId:r})},[t,A,r]);o=l(function(){var a=v.map(function(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileStoryHighlightsTrayItem.next.react"),{avatarSize:p.avatarSize,isLoading:a.id===x,isSmallScreen:f,itemTitleXStyle:g,itemXStyle:i,onClick:z,reel$key:a,storyHighlightsInMetaTags:q})},a.id)}),b=j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:p.cardWidth+p.gapWidth/2,children:j.jsx(c("PolarisProfileNewHighlightTrayItem.react"),{avatarSize:p.avatarSize,isSmallScreen:f,itemTitleXStyle:g,itemXStyle:i,onClick:B})},"newHighlight");return r===d("PolarisConfig").getViewerId()&&d("PolarisUA").isDesktop()?[].concat(a,[b]):a},[v,p.cardWidth,p.gapWidth,p.avatarSize,f,g,i,B,r,x,z,q]);return o.length===0?null:j.jsx("div",{className:(h||(h=c("stylex")))(a),children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{gutterWidth:p.gutterWidth,initialVisibleItemsGuess:e,itemWidth:p.cardWidth+p.gutterWidth/2,overscan:7,pagerDisabled:f,children:o},"highlights")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BillingWrapperContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();c=b;g["default"]=c}),98);